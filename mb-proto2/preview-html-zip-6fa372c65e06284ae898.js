(()=>{var gn={67832:(F,x,e)=>{"use strict";e.d(x,{rm:()=>I});var t=e(35608),m=e.n(t);const y=null,E=t.ungzip,o=n=>y(new TextEncoder().encode(n)),I=n=>new TextDecoder().decode(E(new Uint8Array(n)))},71789:(F,x,e)=>{"use strict";e.d(x,{Qs:()=>r,vn:()=>d,Ev:()=>i});var t=e(81165),m=e(53705),y=e(92029),E=e(3153);const o="hzv5",I="init",n="flpk",c=(p,P)=>p.slice(-3)+"/"+p+"/"+P+".zip",g=()=>globalThis[o],r=()=>(0,m.i3)(g()),_=()=>(0,y.hK)(g(),"missing htmlZipV5 data"),d=async()=>(_(),g()[I]),i=async p=>{if(_(),(0,E.cQ)(p))throw new Error("no cmt data");const[P,w,a,u]=g()[n],s={t10s:P[0],size:P[1],tre:(0,t.J)(P[2])},l=w.map(D=>{let[v,W,h]=D;return{t10s:v,size:W,pbx:(0,t.J)(h)}}),M=a.map(D=>{let[v,W]=D;return{t10s:v,pch:W}});return[s,l,M,new Date(u)]}},56099:(F,x,e)=>{"use strict";e.d(x,{Z:()=>W,w:()=>u});var t=e(20018),m=e(7485),y=e(89870),E=e(42091),o=e(34788),I=e.n(o),n=e(74934),c=e(90553),g=e(19130),r=e(26750),_=e(24455),d=e(51232),i=e(11685),p=e(98385),P=e(63748),w=e(83587),a=e(35269);class u extends m.PureComponent{constructor(){super(...arguments),(0,t.Z)(this,"handleHover",(k,G)=>{const{onHover:O}=this.props;(0,d.tq)()||!O||(k.stopPropagation(),k.preventDefault(),O(G))}),(0,t.Z)(this,"handlePointerDown",()=>{if((0,d.tq)())return;const{onPointerDown:k}=this.props;k&&k()}),(0,t.Z)(this,"createAnnotateRef",k=>this.$AnnotateRef=k),(0,t.Z)(this,"handleClickOutSide",k=>{let{target:G}=k;if(this.$AnnotateRef&&!this.$AnnotateRef.contains(G)){const{onClickOutSide:O}=this.props;O&&O()}})}render(){const{widget:{bind_widget_cid:k,order:G},isSelect:O,isQuickAnnotate:f,isDragCreateAnnotate:j,number:K}=this.props,C=(0,P.zQ)(G);return(0,a.jsxs)(w.b,{className:I()(O?"isSelect":"",{isQuickAnnotate:f}),ref:this.createAnnotateRef,onMouseEnter:N=>this.handleHover(N,!0),onMouseLeave:N=>this.handleHover(N,!1),onPointerDown:this.handlePointerDown,children:[(0,a.jsx)("span",{className:I()("annotate-number","digit-"+C),children:G||K}),k&&(0,a.jsx)(E.q,{name:"art_board/canvas/annotate/binding",className:"binding"}),j&&(0,a.jsx)("span",{className:"roundDot"}),(0,a.jsx)(E.q,{name:"art_board/canvas/annotate",className:"water-drop"}),(0,a.jsx)(r.ZP,{target:document,onPointerDown:(0,r.Yc)(this.handleClickOutSide,{capture:!0})})]})}}const s=(h,k)=>{const G=(0,_.dAH)(h),O=(0,_.gAr)(h),{widget:f}=k,K=G.map(N=>{let{cid:b}=N;return b}).includes(f.cid),C=O&&O.name===i.l.Annotate;return{isSelect:K,isQuickAnnotate:C}},l=(0,y.$j)(s)(u);class M extends n.d{getTreeNodeStyle(k){const{annotateShow:G,scale:O}=k.props,{widget:f}=k.treeData,K="scale("+100/O+")",C=G?f.o/100:0,N=G?"":"none";return{...super.getTreeNodeStyle(k),transform:K,opacity:C,pointerEvents:N}}renderWidgetContent(k){const{annotateShow:G}=k;return G?(0,a.jsx)(l,{widget:this.widget}):null}renderLinkablePlaceHolder(){return null}}class D extends c.u{renderWidgetContent(){return null}}class v extends g.h{renderWidgetContent(){const k=this.widgetStore.widgetNode.cid===p.oT;return(0,a.jsx)(u,{widget:this.widget,isDragCreateAnnotate:k})}}const W=[M,D,v]},79075:(F,x,e)=>{"use strict";e.d(x,{Ex:()=>p,ZP:()=>s,bv:()=>P});var t=e(20018),m=e(7485),y=e(74934),E=e(90553),o=e(19130),I=e(83830),n=e(35565),c=e(59871),g=e(49127),r=e(67173),_=e(81873),d=e(20897),i=e(35269);const p=l=>{if(l.sticky.isOldAnnotate){const M=MB.__store__.getState().screencontainer.editingOldStickyKey;if(l.cid!==M)return{}}return{...(0,r.lk)(l),textAlign:l.textV0.horizontalAlign}};class P extends m.PureComponent{render(){const{type:M,widget:D,aabb:[v,W,h,k],onMouseDown:G,onCopy:O}=this.props,{lineColor:f,textPlaceHolder:j}=(0,I.L3)(D),K={lf:v,lr:h,lb:k,lt:W},{sticky:C}=D,N=D.refWCKey;let b;const X=MB.__store__?MB.__store__.getState().artboard:{};if(X.isDragAnnotationBindingPoint&&X.draggingStickyKey===D.cid)b=C.point&&C.point.length?C.point:null;else if(N==="")b=C.point&&C.point.length?C.point:null;else if(sdkStore.getHotItem(N)){var Y,ae;const He=sdkStore.getHotBound(N);b=[(Y=He.x+(C==null?void 0:C.point[0]))!=null?Y:0,(ae=He.y+(C==null?void 0:C.point[1]))!=null?ae:0]}else b=null;let q=!1;b&&b[0]&&b[0]>v-20&&b[0]<h+20&&(b[1]<W||b[1]>k)&&(q=!0);let ce=!1,pe=!0;b&&(pe=v>=b[0]),(!C.point||!C.point.length||!b)&&(pe=!0,q=!1,ce=!0);let fe=!1;b&&b[0]>v&&b[0]<h&&b[1]>W&&b[1]<k&&(fe=!0);let _e,ue={},z=null,ie={x:0,y:0},de={x:0,y:0};const Pe=b&&(b[0]<v||b[0]>h)&&b[1]>W+8&&b[1]<k-8,Me=b&&(b[1]<W||b[1]>k)&&b[0]>v+8&&b[0]<h-8,Se=b&&b[1]<W,be=b&&b[1]>k,Te=b&&b[0]<v,Oe=b&&b[0]>h;return ce?{svgContainer:_e,path:z,circleStart:ie,circleEnd:de,pointStyle:ue}=(0,n.dv)({isLeftSticky:pe,side:K}):fe?{svgContainer:_e,path:z,circleStart:ie,circleEnd:de,pointStyle:ue}=(0,n.hl)({originXY:b,side:K}):Me?{svgContainer:_e,path:z,circleStart:ie,circleEnd:de,pointStyle:ue}=(0,n.Lr)({originXY:b,isLineTop:Se,isLineBottomn:be,side:K}):Pe?{svgContainer:_e,path:z,circleStart:ie,circleEnd:de,pointStyle:ue}=(0,n.OT)({originXY:b,isLineLeft:Te,isLineRight:Oe,side:K}):!fe&&!q&&!Me&&!Pe?{svgContainer:_e,path:z,circleStart:ie,circleEnd:de,pointStyle:ue}=(0,n.Al)({originXY:b,isLineLeft:Te,side:K}):!fe&&q&&!Me&&!Pe&&({svgContainer:_e,path:z,circleStart:ie,circleEnd:de,pointStyle:ue}=(0,n.xk)({originXY:b,side:K})),_e.pointerEvents="none",(0,i.jsxs)(_.Z,{children:[(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{style:_e,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:z,stroke:f,strokeWidth:"2",strokeLinecap:"round",fill:"transparent"}),(0,i.jsx)("circle",{cx:ie.x,cy:ie.y,r:"3",fill:f}),(0,i.jsx)("circle",{cx:de.x,cy:de.y,r:"3",fill:f,className:"stickyCircle"})]}),(0,i.jsx)("div",{style:ue,className:"point",onMouseDown:G})]}),(0,i.jsx)(d.Z,{widget:D,children:M==="snapshot"?(0,i.jsx)(g.Z,{widget:D,placeHolderColor:j,onCopy:O}):(0,i.jsx)(c.Z,{widget:D,placeHolderColor:j,onCopy:O})})]})}}class w extends y.d{constructor(){super(...arguments),(0,t.Z)(this,"handleMouseDown",(M,D)=>{const{widget:v}=this,{scale:W}=D||{scale:100};M.stopPropagation();const h=M.clientX,k=M.clientY,{sticky:G}=v,O=v.refWCKey;let f=G.point&&G.point.length?G.point:null,j;if(O==="")f=G.point&&G.point.length?G.point:null;else{var K,C;j=sdkStore.getHotBound(O),f=[(K=j.x+(G==null?void 0:G.point[0]))!=null?K:0,(C=j.y+(G==null?void 0:G.point[1]))!=null?C:0]}MB.action("artboard:update:state",{isDragAnnotationBindingPoint:!0,draggingStickyKey:v.cid});let N;if(!G.point||!G.point.length){const[ae,q,ce,pe]=this.widgetStore.sdkStore.getHotAABB(v.cid||v.key),fe=ae-35,_e=q+8;f=[fe,_e],N=[fe,_e]}let b=[...f];const X=ae=>{const q=ae.clientX-h,ce=ae.clientY-k,pe=q/W*100,fe=ce/W*100;if(O==="")f=G.point&&G.point.length?G.point:N;else{var _e,ue;f=[(_e=j.x+(G==null?void 0:G.point[0]))!=null?_e:0,(ue=j.y+(G==null?void 0:G.point[1]))!=null?ue:0]}b=[Math.round(f[0]+pe),Math.round(f[1]+fe)],MB.action("update:widgets",{widgets:[{...v,sticky:{...G,point:b}}],shouldBreakLeftUICache:!1})},Y=()=>{MB.action("artboard:update:state",{isDragAnnotationBindingPoint:!1,draggingStickyKey:""}),MB.action("entry:Annotation:bind",{widget:{...v,sticky:{...G,point:b}}}),document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",Y)})}getTreeNodeStyle(M){const{isShowSticky:D,STMode:v}=M.props,{widget:W}=M.treeData,h=(D||v)&&W.isVisible?W.opacity:0;return{...super.getTreeNodeStyle(M),opacity:h,width:W.w,height:W.h}}get style(){return Object.assign(super.style,p(this.widget))}renderWidgetContent(M){return(0,i.jsx)(P,{type:"design",widget:this.widget,aabb:this.widgetStore.sdkStore.getHotAABB(this.key),onMouseDown:D=>this.handleMouseDown(D,M)})}renderLinkablePlaceHolder(){return null}}class a extends E.u{getTreeNodeStyle(M){let{treeData:D,props:v}=M;return{...super.getTreeNodeStyle({treeData:D,props:v}),display:"none"}}renderWidgetContent(){return null}}class u extends o.h{get style(){return Object.assign(super.style,p(this.widget))}renderWidgetContent(){return(0,i.jsx)(P,{type:"snapshot",widget:this.widget,aabb:this.widgetStore.sdkStore.getHotAABB(this.key)})}}const s=[w,a,u]},7106:(F,x,e)=>{"use strict";e.d(x,{Lp:()=>i,Vv:()=>u,_M:()=>I,gG:()=>r,hc:()=>d,lD:()=>_,mb:()=>p,xK:()=>g});var t=e(34605),m=e(12107),y=e(67173),E=e(94189),o=e(38099);const I=(s,l)=>{const M=s.tableData&&s.tableData.links,D=s.tableData.mergeCells;if(!M)return"";const v=[],{selectionLeftTopInfo:{x:W,y:h},selectionRightBottomInfo:{x:k,y:G}}=l;for(let j=W;j<=k;j++)for(let K=h;K<=G;K++)v.push(M[K][j]);if(D[W+"-"+h]){const[j,K]=D[W+"-"+h];if(W+j-1===k&&h+K-1===G)return v[0]}return(v.length>1?"":v[0]).split(",").map(j=>{var K;return((K=s.interactions.find(C=>C.subKey===j))==null?void 0:K.key)||""})},n={"text-align":["textAlign","center"],"vertical-align":["verticalAlign","middle"],"align-items":["alignItems","center"],"justify-content":["justifyContent","center"],"font-size":["fontSize",14],color:["color","#101010"],"font-weight":["fontWeight","normal"],"font-style":["fontStyle","normal"],"text-decoration":["textDecoration","normal"],"line-height":["lineHeight","20px"],padding:["padding",4],"white-space":["whiteSpace","per-line"]},c={center:"center",left:"flex-start",right:"flex-end",justify:"space-between"},g=["default","noBorderInterlacing","hasBorderInterlacing","topBg","leftBg","topLeftBg"],r=s=>{const{tableConfig:{innerBorderV:l,innerBorderH:M,outerBorder:D}}=s;return{innerBorderV:(0,y.O_)(l),innerBorderH:(0,y.O_)(M),outerBorder:(0,y.O_)(D)}},_=s=>{const l=[];return Object.entries(s).forEach(M=>{let[D,v]=M;const[W,h]=v,[k,G]=D.split("-");for(let O=0;O<W;O++)for(let f=0;f<h;f++){const j=Number(k)+O+"-"+(Number(G)+f);j!==D&&l.push(j)}}),l},d=(s,l,M,D)=>{let v={selectArea:{width:0,height:0,top:-3e3,left:-3e3},copyArea:{width:0,height:0,top:-3e3,left:-3e3},firstCell:{width:0,height:0,background:"#fff"}};if(!s)return v;try{const{selectionLeftTopInfo:{x:W,y:h},selectionRightBottomInfo:{x:k,y:G}}=s,{top:O,left:f}=m.R.tableHandle.el.querySelector(".jexcel_content").getBoundingClientRect(),{top:j,left:K,height:C,width:N}=m.R.tableHandle.el.querySelector('[data-xy="'+W+"-"+h+'"]').getBoundingClientRect();let b=1,X=1;for(let ae=W;ae<=k;ae++)b+=M[ae].width;for(let ae=h;ae<=G;ae++)X+=l[ae].height;let Y=null;if(D){const{start:ae,end:q,isV:ce,isToTopOrLeft:pe}=D;let fe=-2,_e=-2;const{x:ue,y:z}=q,{x:ie,y:de}=ae;for(let Se=ie;Se<=ue;Se++)fe+=M[Se].width;for(let Se=de;Se<=z;Se++)_e+=l[Se].height;let Pe,Me;pe&&({top:Pe,left:Me}=m.R.tableHandle.el.querySelector('[data-xy="'+ie+"-"+de+'"]').getBoundingClientRect()),Y={width:ce?fe+1:fe+b+1,height:ce?_e+X:_e,top:((pe&&ce?Pe:j)-O+2)/m.R.externalFunc.getMbScale()*100,left:((pe&&!ce?Me:K)-f+2)/m.R.externalFunc.getMbScale()*100}}v={firstCell:{width:N/m.R.externalFunc.getMbScale()*100,height:C/m.R.externalFunc.getMbScale()*100},copyArea:Y,selectArea:{width:b,height:X,top:(j-O)/m.R.externalFunc.getMbScale()*100,left:(K-f)/m.R.externalFunc.getMbScale()*100}}}catch(W){console.log(W)}return v},i=s=>{const l={};return p(s).forEach((D,v)=>{const W=n[v]&&n[v][0]||v;if(W==="alignItems")l.justifyContent=D;else if(W==="justifyContent")l.alignItems=D;else if(W==="background"){const h=(0,t.Gd)(D);l[W]=h}else l[W]=D}),l.alignItems=l.textAlign?c[l.textAlign]:"flex-start",l},p=s=>{const l=new Map;return s&&s.split(";").filter(M=>M).forEach(M=>{const[D,v]=M.split(":");l.set(D.trim(),v.trim())}),l},P={ha:"left",va:"middle","font-size":14,color:"#101010",boldType:0,"font-style":"normal","text-decoration":"normal","line-height":20,padding:4,background:"#FFFFFF"},w={"flex-start":"top",center:"middle","flex-end":"bottom"},a=s=>{const l=(0,E.OI)(s);return(0,o.Qq)({isEnable:!0,color:(0,E.ls)(l)})},u=s=>{const l=p(s),M={...P};return l.forEach((D,v)=>{["font-size","line-height","padding"].includes(v)?M[v]=parseInt(D.replace("px","")):v==="font-weight"?M.boldType=Number(D==="bold"):v==="text-align"?M.ha=D:v==="align-items"?M.va=w[D]:M[v]=D}),{appearance:{background:a(M.background)},text:{boldType:M.boldType,color:M.color,fontSize:M["font-size"],fontStyle:M["font-style"],lineHeight:M["line-height"],textDecoration:M["text-decoration"],ha:M.ha,va:M.va,padding:M.padding}}}},79486:(F,x,e)=>{"use strict";e.d(x,{Bs:()=>D,Q0:()=>u,hD:()=>h,jr:()=>W,om:()=>a,q8:()=>l,yS:()=>s});var t=e(87587),m=e(27264),y=e(62539),E=e(12155),o=e(44001),I=e(93427),n=e(29815),c=e(71789),g=e(9756),r=e(53233),_=e(25797),d=e(38133),i=e(78467),p=e(27056),P=e(7221);const w=async(k,G)=>{console.warn("[onTransferError]",k,G),k==="Tot"||k==="5XX"?MB.notice({text:I18N.Common.offline_alert,duration:5*1e3,showClose:!0,priority:1}):k==="4XX"&&MB.notice({text:I18N.dUtils.err_info_modal.INVALID_COOKIE.desc,duration:0,priority:1})},a=async k=>{let{cid:G,project_meta_cid:O,userId:f}=k;const{flatSocket:j,flatStore:K,sdkStore:C,cssCur:N,triggerFlushLocalPatch:b,roSdkStore:X,...Y}=await(0,y.o)({userId:f,projCid:G,flpakKey:O,isDummyCmt:!0,isAllowDat:!0,isAllowCmt:!1,isAllowCur:!1,afterSocketConnect:()=>console.log("  @afterSocketConnect"),afterSocketJoin:()=>console.log("  @afterSocketJoin"),afterFlpakInit:()=>console.log("  @afterFlpakInit"),onTransferError:w});return{flatSocket:j,flatStore:K,sdkStore:C,cssCur:N,triggerFlushLocalPatch:b,roSdkStore:X,...Y}},u=async k=>{const{sdkStore:G}=await(0,y.Q)({flpakKey:k});return G},s=async k=>{let{projectBasicCid:G}=k;const{projectBasic:O,projectMetaList:f}=await(0,r.zf)(G),[j]=f;{const{userId:K,flatKey:C}=await(0,_.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+G);console.log("[proj2-edit-info]",{userId:K,flatKey:C,projectBasicCid:G});const{flatSocket:N,flatStore:b,sdkStore:X,cmtStore:Y,cssCur:ae,emitCur:q,triggerFlushLocalPatch:ce,...pe}=await(0,y.o)({userId:K,projCid:G,flpakKey:C,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,afterSocketConnect:()=>console.log("  @afterSocketConnect"),afterSocketJoin:()=>console.log("  @afterSocketJoin"),afterFlpakInit:()=>console.log("  @afterFlpakInit"),onTransferError:w}),fe=X.createRoSdkStore();console.log("[setupSdk]",{flatSocket:N,flatStore:b,cmtStore:Y,sdkStore:X,...pe}),Object.assign(globalThis,{rootSdk:{flatSocket:N,flatStore:b,sdkStore:X,cmtStore:Y,cssCur:ae,triggerFlushLocalPatch:ce,roSdkStore:fe,...pe},flatSocket:N,flatStore:b,sdkStore:X,cmtStore:Y,cssCur:ae,triggerFlushLocalPatch:ce,roSdkStore:fe,...pe});const _e=(0,t.P2)(()=>{var z,ie;console.log("sdk|repaintThrottled"),(z=MB)==null||(ie=z.__store__)==null||ie.dispatch({type:"entry:rebuild:screen-widget-tree"})},.5*1e3);let ue={locKey:"",curX:NaN,curY:NaN};if(document.addEventListener("pointermove",(0,t.P2)(()=>{try{if(ae.getSocketStat().length<=1)return;const{current:{currentScreen:z},screencontainer:{cursorPos:ie}}=MB.__store__.getState(),de=z&&(z.cid||z.key);if(!de||!ie)return;const{x:Pe,y:Me}=ie;if(ue.locKey===de&&ue.curX===Pe&&ue.curY===Me)return;q(de,Pe,Me),ue={locKey:de,curX:Pe,curY:Me}}catch(z){console.error("TODO: cssCur push error",z)}},.05*1e3,!0),{passive:!0}),X.subscribe(z=>{let{type:ie,payload:de}=z;console.log("sdk|event",ie,de),ie===E.K&&_e()}),Y.subscribe(z=>{let{type:ie,payload:de}=z;console.log("cmt|event",ie,de)}),(0,m.oD)(!0),b.getFlatTree().get("B@main").sub.length===0){const z=(0,g.wc)([],O);b.applyDiff(z),b.resetUndo()}}return{projectBasic:O,projectMeta:j}},l=async k=>{let{projectBasicCid:G,project_basic:O,project_meta:f,accessToken:j,password:K}=k;const C=O,N=f;{const{userId:b,flatKey:X,needSocketConn:Y}=await(0,_.EE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+G+"&access_token="+j+"&password="+K);console.log("[proj2-edit-info]",{userId:b,flatKey:X});const ae=!!b&&!(0,d.s_)();try{const{flatSocket:q,flatStore:ce,cmtStore:pe,sdkStore:fe,cssCur:_e,emitCur:ue,...z}=await(0,y.o)({userId:b,projCid:G,flpakKey:X,isAllowDat:Y,isAllowCmt:ae,isAllowCur:ae,afterSocketConnect:()=>console.log("  @afterSocketConnect"),afterSocketJoin:()=>console.log("  @afterSocketJoin"),afterFlpakInit:()=>console.log("  @afterFlpakInit"),token:j,passwd:K}),ie=fe.createRoSdkStore();console.log("[setupSdk]",{flatSocket:q,flatStore:ce,cmtStore:pe,sdkStore:fe,...z}),Object.assign(globalThis,{flatSocket:q,flatStore:ce,cmtStore:pe,sdkStore:fe,cssCur:_e,...z,roSdkStore:ie});const de=(0,t.P2)(()=>{var Me,Se;console.log("sdk|repaintThrottled"),(Me=MB)==null||(Se=Me.__store__)==null||Se.dispatch({type:"entry:rebuild:screen-widget-tree"})},.5*1e3);let Pe={locKey:"",curX:NaN,curY:NaN};if(ae&&document.addEventListener("pointermove",(0,t.P2)(()=>{try{var Me,Se;if(_e.getSocketStat().length<=1)return;const{current:be={},screencontainer:Te={}}=((Me=MB)==null||(Se=Me.__store__)==null?void 0:Se.getState())||{},{currentScreen:Oe}=be,{cursorPos:Je}=Te,He=Oe&&(Oe.cid||Oe.key);if(!He||!Je)return;const{x:$e,y:at}=Je;if(Pe.locKey===He&&Pe.curX===$e&&Pe.curY===at)return;ue(He,$e,at),Pe={locKey:He,curX:$e,curY:at}}catch(be){console.error("TODO: cssCur push error",be)}},.05*1e3,!0),{passive:!0}),fe.subscribe(Me=>{let{type:Se,payload:be}=Me;console.log("sdk|event",Se,be),Se===E.K&&de()}),pe.subscribe(Me=>{let{type:Se,payload:be}=Me;console.log("cmt|event",Se,be)}),(0,m.oD)(!0),ce.getFlatTree().get("B@main").sub.length===0){const Me=(0,g.wc)([],C);ce.applyDiff(Me),ce.resetUndo()}}catch(q){const ce=Number(q.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,i.mB)({status:ce})}}return{projectBasic:C,projectMeta:N}},M=async()=>{const k=createFlatStore(createInitialFlatTree(),createClockStore({})),G=createSdkStore(k),O=createShowMeTheTree(k),f=createShowMeHotTree(G);Object.assign(globalThis,{flatStore:k,sdkStore:G,showMeTheTree:O,showMetHotTree:f}),__devSetPackPretty(!0);const j=initMockBasicData();k.applyDiff(j),k.resetUndo()},D=async k=>{let{projectBasicCid:G,project_basic:O,project_meta:f,accessToken:j,password:K,projectVersion:C}=k;const N=O,b=f;{const{userId:X,flatKey:Y}=await(0,p.tr)({prj2VersionCid:C,projectCid:G});console.log("[proj2-edit-info]",{userId:X,flatKey:Y});try{const{flatSocket:ae,flatStore:q,sdkStore:ce,cssCur:pe,emitCur:fe,..._e}=await(0,y.o)({userId:X,projCid:G,flpakKey:Y,isAllowDat:!0,isAllowCmt:!1,isAllowCur:!1,afterSocketConnect:()=>console.log("  @afterSocketConnect"),afterSocketJoin:()=>console.log("  @afterSocketJoin"),afterFlpakInit:()=>console.log("  @afterFlpakInit"),token:j,passwd:K}),ue=ce.createRoSdkStore();if(console.log("[setupSdk]",{flatSocket:ae,flatStore:q,sdkStore:ce,..._e}),Object.assign(globalThis,{flatSocket:ae,flatStore:q,sdkStore:ce,cssCur:pe,..._e,roSdkStore:ue}),q.getFlatTree().get("B@main").sub.length===0){const z=(0,g.wc)([],N);q.applyDiff(z),q.resetUndo()}}catch(ae){const q=Number(ae.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,i.mB)({status:q})}}return{projectBasic:N,projectMeta:b}},v=async k=>{let{userId:G,project_meta:O}=k;const f=O;{const j=f.cid,K=!1;try{const{flatSocket:C,flatStore:N,sdkStore:b,cssCur:X,emitCur:Y,...ae}=await setupSdk({userId:null,flpakKey:j,isDummyCmt:!0,isAllowDat:K,isAllowCmt:K,isAllowCur:K,afterSocketConnect:()=>console.log("  @afterSocketConnect"),afterSocketJoin:()=>console.log("  @afterSocketJoin"),afterFlpakInit:()=>console.log("  @afterFlpakInit")}),q=b.createRoSdkStore();console.log("[setupSdk]",{flatSocket:C,flatStore:N,sdkStore:b,...ae}),Object.assign(globalThis,{flatSocket:C,flatStore:N,sdkStore:b,cssCur:X,...ae,roSdkStore:q});const ce=throttle(()=>{var pe,fe;console.log("sdk|repaintThrottled"),(pe=MB)==null||(fe=pe.__store__)==null||fe.dispatch({type:"entry:rebuild:screen-widget-tree"})},.5*1e3);b.subscribe(pe=>{let{type:fe,payload:_e}=pe;console.log("sdk|event",fe,_e),fe===EVENT_CHANGE&&ce()}),__devSetPackPretty(!0)}catch(C){const N=Number(C.toString().split("status")[1].split(":")[1].split(",")[0]);return crashedPageWithUser({status:N})}}return{projectMeta:f}},W=async k=>{let{projectBasicCid:G,project_basic:O,project_meta:f}=k;const j=O,K=f;{const C="",N=f.cid;try{const{flatSocket:b,flatStore:X,cmtStore:Y,sdkStore:ae,cssCur:q,emitCur:ce,...pe}=await(0,y.o)({userId:C,projCid:G,flpakKey:N,isDummyCmt:!0,__fetchFlpakAsync:c.Ev}),fe=ae.createRoSdkStore();console.log("[setupSdk]",{flatSocket:b,flatStore:X,cmtStore:Y,sdkStore:ae,...pe}),Object.assign(globalThis,{flatSocket:b,flatStore:X,cmtStore:Y,sdkStore:ae,cssCur:q,...pe,roSdkStore:fe});const _e=(0,t.P2)(()=>{var z,ie;console.log("sdk|repaintThrottled"),(z=MB)==null||(ie=z.__store__)==null||ie.dispatch({type:"entry:rebuild:screen-widget-tree"})},.5*1e3);let ue={locKey:"",curX:NaN,curY:NaN};if((0,d.s_)()||document.addEventListener("pointermove",(0,t.P2)(()=>{try{var z,ie;if(q.getSocketStat().length<=1)return;const{current:de={},screencontainer:Pe={}}=((z=MB)==null||(ie=z.__store__)==null?void 0:ie.getState())||{},{currentScreen:Me}=de,{cursorPos:Se}=Pe,be=Me&&(Me.cid||Me.key);if(!be||!Se)return;const{x:Te,y:Oe}=Se;if(ue.locKey===be&&ue.curX===Te&&ue.curY===Oe)return;ce(be,Te,Oe),ue={locKey:be,curX:Te,curY:Oe}}catch(de){console.error("TODO: cssCur push error",de)}},.05*1e3,!0),{passive:!0}),ae.subscribe(z=>{let{type:ie,payload:de}=z;console.log("sdk|event",ie,de),ie===E.K&&_e()}),Y.subscribe(z=>{let{type:ie,payload:de}=z;console.log("cmt|event",ie,de)}),(0,m.oD)(!0),X.getFlatTree().get("B@main").sub.length===0){const z=(0,g.wc)([],j);X.applyDiff(z),X.resetUndo()}}catch(b){const X=Number(b.toString().split("status")[1].split(":")[1].split(",")[0]);return(0,i.mB)({status:X})}}return{projectBasic:j,projectMeta:K}},h=async k=>{let{projectBasicCid:G}=k;const{market_template:O,project_metas:f}=await(0,P.Mv)(G),j=f[0],K=j.cid;{console.log("[proj2-edit-info]",{projectBasicCid:G});const{flatSocket:C,flatStore:N,sdkStore:b,cmtStore:X,cssCur:Y,emitCur:ae,triggerFlushLocalPatch:q,...ce}=await(0,y.o)({userId:null,projCid:G,flpakKey:K,isAllowDat:!0,isAllowCmt:!0,isAllowCur:!0,afterSocketConnect:()=>console.log("  @afterSocketConnect"),afterSocketJoin:()=>console.log("  @afterSocketJoin"),afterFlpakInit:()=>console.log("  @afterFlpakInit"),onTransferError:w}),pe=b.createRoSdkStore();console.log("[setupSdk]",{flatSocket:C,flatStore:N,cmtStore:X,sdkStore:b,...ce}),Object.assign(globalThis,{rootSdk:{flatSocket:C,flatStore:N,sdkStore:b,cmtStore:X,cssCur:Y,triggerFlushLocalPatch:q,roSdkStore:pe,...ce},flatSocket:C,flatStore:N,sdkStore:b,cmtStore:X,cssCur:Y,triggerFlushLocalPatch:q,roSdkStore:pe,...ce});const fe=(0,t.P2)(()=>{var ue,z;console.log("sdk|repaintThrottled"),(ue=MB)==null||(z=ue.__store__)==null||z.dispatch({type:"entry:rebuild:screen-widget-tree"})},.5*1e3);let _e={locKey:"",curX:NaN,curY:NaN};if(document.addEventListener("pointermove",(0,t.P2)(()=>{try{if(Y.getSocketStat().length<=1)return;const{current:{currentScreen:ue},screencontainer:{cursorPos:z}}=MB.__store__.getState(),ie=ue&&(ue.cid||ue.key);if(!ie)return;const{x:de,y:Pe}=z;if(_e.locKey===ie&&_e.curX===de&&_e.curY===Pe)return;ae(ie,de,Pe),_e={locKey:ie,curX:de,curY:Pe}}catch(ue){console.error("TODO: cssCur push error",ue)}},.05*1e3,!0),{passive:!0}),b.subscribe(ue=>{let{type:z,payload:ie}=ue;console.log("sdk|event",z,ie),z===E.K&&fe()}),X.subscribe(ue=>{let{type:z,payload:ie}=ue;console.log("cmt|event",z,ie)}),(0,m.oD)(!0),N.getFlatTree().get("B@main").sub.length===0){const ue=(0,g.wc)([],O);N.applyDiff(ue),N.resetUndo()}}return{projectBasic:O,projectMeta:j}}},73669:(F,x,e)=>{"use strict";e.d(x,{Of:()=>_,UC:()=>i,o7:()=>r});var t=e(7485),m=e(46198),y=e(7324),E=e(35517),o=e(25797),I=e(35269);const n=async s=>{try{const{result:l}=await(0,o.EE)("/api/accesses/v4/project/"+s+"/permission_check?permission=P:update");return l}catch(l){await(0,E.Vz)(l)}},c=async s=>{try{await(0,o._Z)("/api/web/v3/project_upper/project_basics/"+s.cid,s)}catch(l){console.warn(l)}},g=()=>{const s=document.getElementById("workspace");m.render((0,I.jsx)(y.Z,{errorType:404,customDes:"\u53EF\u80FD\u9879\u76EE\u5DF2\u5220\u9664\u6216\u8005\u8BBF\u95EE\u5730\u5740\u6709\u8BEF\uFF0C\u8BF7\u8FD4\u56DE\u9879\u76EE\u7BA1\u7406\u9875\u91CD\u65B0\u8FDB\u5165"}),s)},r=async(s,l)=>{try{if(l){const{projectShare:M}=await(0,o.EE)("/api/web/v3/project_basics/project_share/"+s+"?access_token="+l);return{projectShare:M}}}catch(M){await g()}},_=async s=>{try{return await(0,o.IP)("/api/web/v3/project_shares/"+s.cid,{project_share:s})}catch(l){await(0,E.Vz)(l)}},d=async s=>{const{screen_metas:l}=await(0,o.EE)("/api/web/v3/project_upper/project_basics/dashboard/"+s);return{screenMetaList:l}},i=async s=>{let{projectCid:l}=s;try{return await(0,o.EE)("/api/web/v3/project_basics/project_share/"+l+"/all")}catch(M){await(0,E.Vz)(M)}},p=s=>{let{projectCid:l,callback:M}=s;return fetchGetJSON("/api/web/v3/project_basics/project_share/"+l+"/all").then(M)};var u={checkSharingPermission:n,updateSharingProject:c,requestProjectShare:r,updateCurrentProjectShare:_,requestProjectBasicScreenMetaList:d,deleteSharing:async s=>{let{projectCid:l,projectShareCid:M}=s;try{return await(0,o.Bh)("/api/web/v3/project_basics/project_share/"+M+"?project_cid="+l)}catch(D){await(0,E.Vz)(D)}},addNewSharing:async s=>{let{projectCid:l,sharing:M}=s;try{return await(0,o.IP)("/api/web/v3/project_basics/project_share/"+l,{...M})}catch(D){await(0,E.Vz)(D)}},getAllSharings:i,getAllSharingsWithoutPermissionCheck:async s=>{let{projectCid:l,accessToken:M}=s;try{const{projectShare:D,projectBasicToken:v}=await(0,o.EE)("/api/web/v3/project_basics/project_share/"+l+"?access_token="+M);return{sharings:D,projectBasicToken:v}}catch(D){await(0,E.Vz)(D)}}}},66216:(F,x,e)=>{"use strict";e.d(x,{Sm:()=>t.Sm,WX:()=>t.WX,XC:()=>t.XC,e7:()=>t.e7});var t=e(95890),m=e(72969),y=e.n(m),E=e(96106)},56620:(F,x,e)=>{"use strict";e.d(x,{K4:()=>fe,KG:()=>q,P:()=>Y,Z1:()=>r,dm:()=>b,eb:()=>d,gA:()=>K,gR:()=>l,gT:()=>i,iw:()=>_e,nG:()=>D,s9:()=>ue,wZ:()=>N,xM:()=>X});var t=e(7108),m=e.n(t),y=e(98674),E=e(27783),o=e(8465),I=e(68557),n=e(11685),c=e(66180),g=e(65266);const r=(0,o.V)(()=>(0,y.ZO)(window.MBLocale,window.I18N)),_=(0,o.V)(()=>(0,y.sA)(window.MBLocale,window.I18N)),d=[n.l.WRichText,n.l.WRect,n.l.WOval,n.l.WPolygon,n.l.WStar],i=[n.l.WRichText,n.l.WRect,n.l.WOval,n.l.WLine,n.l.WImage,n.l.WLR],p=[n.l.WMTextInput,n.l.WMTextArea,n.l.WMSelect,n.l.WMFileInput,n.l.WSelectionControlRadio,n.l.WSelectionControlCheckbox,n.l.WAndroidSwitch,n.l.WIOSSwitch,n.l.WSlider,n.l.WDigitalStepper],P=[n.l.WDropMenu,n.l.WNavigationMenu,n.l.WNavigationMenuV,n.l.WNavigationMenuH,n.l.WMobileTabBars,n.l.WSegmentedControl,n.l.WCollapse,n.l.WTabs,n.l.WPaginationMobile,n.l.WPaginationWeb],w=[n.l.WBarChart,n.l.WHorizontalBarChart,n.l.WLineChart,n.l.WLineAreaChart,n.l.WMixedBarLineChart,n.l.WPieChart,n.l.WRingChart,n.l.WProgressChart,n.l.WRadarChart],a=[n.l.WImage,n.l.WCarousel,n.l.WWebpage,n.l.WVideo,n.l.WAudio,n.l.WQRCode,n.l.WMapView,n.l.WMTooltip],u=[n.l.WRichText,n.l.WRect,n.l.WOval,n.l.WLine,n.l.WImage,n.l.WLR,n.l.WButton,n.l.WButtonSolid,n.l.WPlaceholder,n.l.WTable,n.l.WSticky,n.l.WTear,n.l.WArrow,n.l.WIphoneXSB,n.l.WMTextInput,n.l.WMTextArea,n.l.WMSelect,n.l.WDropMenu,n.l.WPolygon,n.l.WStar,n.l.WTriangleB,n.l.WTriangleTL],s=null,l=[n.l.WButton,n.l.WButtonSolid,n.l.WPlaceholder,n.l.WTable,n.l.WSticky,n.l.WArrow,n.l.WMTextInput,n.l.WMTextArea,n.l.WMSelect,n.l.WPolygon,n.l.WStar,n.l.WTriangleB,n.l.WTriangleTL,n.l.WCarousel,n.l.WWebpage,n.l.WVideo,n.l.WAudio,n.l.WQRCode,n.l.WMFileInput,n.l.WMTooltip,n.l.WMapView,n.l.WTear,n.l.WIphoneXSB],M=[n.l.BarChart,n.l.HorizontalBarChart,n.l.LineChart,n.l.LineAreaChart,n.l.PieChart,n.l.RingChart,n.l.ProgressChart,n.l.RadarChart],D=[n.l.WDropMenu,n.l.WNavigationMenu,n.l.WNavigationMenuV,n.l.WNavigationMenuH,n.l.WCollapse,n.l.WSegmentedControl,n.l.WTabs,n.l.WPaginationMobile,n.l.WPaginationWeb,n.l.WSlider,n.l.WDigitalStepper,n.l.WIOSSwitch,n.l.WAndroidSwitch,n.l.WMobileTabBars,n.l.WSelectionControlRadio,n.l.WSelectionControlCheckbox],v=u.map(z=>E.qw[z]),W=p.map(z=>E.qw[z]),h=P.map(z=>E.qw[z]),k=()=>w.map(z=>E.qw[z]),G=a.map(z=>E.qw[z]),O=[...D].map(z=>E.qw[z]),f=[...i,...l].map(z=>E.qw[z]),j=[...i,...l].filter(z=>![n.l.PG,n.l.Annotate].includes(z)).map(z=>E.qw[z]),K=z=>{let{mode:ie="",withDynamicWidget:de,marketTemplateList:Pe,builtinListInvisibleSet:Me=new Set}=z;if(ie==="library"){if(!de)return{comboGroupList:[],screenList:[]};const Se=[],be=[];for(const Te of Pe)Te.category==="combo_group"?Se.push(Te):Te.category==="screen_list"&&be.push(Te);return{comboGroupList:Se,screenList:be}}else{if(!de)return{comboGroupList:[],screenList:[]};const Se=[],be=[];for(const Te of Pe){const{cid:Oe}=Te;Me.has(Oe)||(Te.category==="combo_group"?Se.push(Te):Te.category==="screen_list"&&be.push(Te))}return{comboGroupList:Se,screenList:be}}},C=z=>{const[ie,de,Pe,Me,Se,be,Te,Oe]=z;return{groupCid:ie,title:de,id:Pe,cat:Me,view_box:Se,path:be,keywords:Te,lib:Oe}},N=z=>{const ie=[];for(const de of z){if(!de)continue;const Pe=C(de);Pe.type=I.em[Pe.title]||"svg",ie.push(Pe)}return ie},b=z=>{const de=(Se=>{let be=v;if(Se){const Te=v.map(Je=>Je),Oe=r();be=Te.concat(Oe)}return{cid:c.$V,groupName:I18N.dConst.library.highCommon,items:be}})(z);let Pe=h;if(z){const Se=h.map(be=>be);Se.splice(1,0,_()),Pe=Se}return[{...de},{cid:c.Ag,groupName:I18N.Resources.form_widget,items:W},{cid:c.rC,groupName:I18N.Resources.nav_widget,items:Pe},{cid:c.Pz,groupName:I18N.Resources.chart_widget,items:k()},{cid:c.q8,groupName:I18N.Resources.multimedia_widget,items:G}]},X=()=>b(!1).map(z=>{let{cid:ie,groupName:de}=z;return{cid:ie,groupName:de}}),Y=(z,ie)=>{const Me=(z?f.concat(r()).concat(_()):j).concat(O).concat(k()).filter(Se=>{let{name:be}=Se;return I18N.w[be]?I18N.w[be].includes(ie):be.includes(ie)});return Me.length>0?{cid:c.gb,groupName:I18N.LeftSidePanel.builtin,type:g.B.Widget,items:Me}:null},ae="2022-04-13 00:00:00",q=z=>z?m()(z).isBefore(ae)?!0:m()().isAfter(m()(z).add(1,"days")):!1,ce={Draft:1,RichDraft:2,Text:3},pe=z=>z===n.l.WSticky||z===n.l.WTear?ce.Draft:d.includes(z)?ce.RichDraft:ce.Text,fe=z=>pe(z)===ce.Draft,_e=z=>pe(z)===ce.RichDraft,ue=z=>pe(z)===ce.Text},41768:(F,x,e)=>{"use strict";e.d(x,{$$:()=>O,AI:()=>W,AX:()=>G,D6:()=>u,ER:()=>k,Eb:()=>d,Fv:()=>v,GX:()=>b,I:()=>K,I3:()=>s,Lc:()=>ae,Oc:()=>c,Py:()=>r,Q2:()=>g,RT:()=>y,YE:()=>E,_:()=>p,_D:()=>o,an:()=>C,d$:()=>P,eF:()=>i,h8:()=>Y,hA:()=>N,jr:()=>a,kj:()=>_,ou:()=>h,p4:()=>X,vL:()=>D,yM:()=>j,zt:()=>M});var t=e(67894);const m={iphone:0,android:1,ipad:2,web:3,apple_watch:4,smart_car:5,customize:6},y=Object.entries(t).map(q=>{let[ce,pe]=q;return{device:ce,modalList:Object.entries(pe).map(fe=>{let[_e,{name:ue,width:z,height:ie,hide:de}]=fe;return{name:ue,width:z,height:ie,hide:de,key:_e}})}}).sort((q,ce)=>m[q.device]-m[ce.device]),E=Object.entries(t).reduce((q,ce)=>{let[pe,fe]=ce;return Object.assign(q,Object.entries(fe).reduce((_e,ue)=>{let[z,{name:ie,width:de,height:Pe,hide:Me}]=ue;return Object.assign(_e,{[z]:{name:ie,width:de,height:Pe,device:pe,hide:Me}})},{Android:{name:"Android",width:360,height:640,device:"android"}}))},{}),o=["iphone_8","iphone_8_plus","google_pixel_2","mac_book_pro","imac","iphone_12_pro_max","iphone_12_pro","iphone_se"],n=Object.entries(t).map(q=>{let[ce,pe]=q;return{device:ce,modelList:Object.entries(pe).map(fe=>{let[_e,{name:ue}]=fe;return{name:ue,key:_e}})}}).filter(q=>["iphone","android"].includes(q.device)).reduce((q,ce)=>[...q,...ce.modelList],[]).map(q=>q.key),c=q=>n.includes(q);let g;(function(q){q.LIGHT="light",q.DARK="dark"})(g||(g={}));const r="dark",_={grid_size:10,theme:g.LIGHT},d="#ffffff",i={h:20,v:10},p={row:{count:0,gutter:20,size:144},col:{count:4,gutter:20,size:0}},P="rgba(41, 141, 248, 0.24)",w=48,a="screen-history-onLeave-project",u=!!Number(sessionStorage.getItem("inClowdz")),s={light:"rgba(245, 245, 245, 1)",dark:"rgba(21, 21, 21, 1)"},l={[g.LIGHT]:4126537215,[g.DARK]:353703423},M=[4,8,16,32,64,100,120,150,200,300,400,500,600,800,1e3,1600,3200,4e3],D=M[0],v=M[M.length-1],W=300,h=300,k=18,G=144,O=98,f=380,j=36,K=250,C=240,N=42,b=250,X=240,Y=184,ae=(q,ce)=>{const pe=ce==null?void 0:ce.fill;return!pe||(pe==null?void 0:pe.solidColor)===4294967295?l[q||g.LIGHT]:pe.solidColor}},4091:(F,x,e)=>{"use strict";e.d(x,{S3:()=>m,kC:()=>o,ky:()=>E,mp:()=>I,pX:()=>t});const t="/proto",m=c=>t+"/"+c,y=c=>{const g=/^\/proto\/design\/(?:([^/]+?))$/i.exec(c);return g?g[1]:new Error("project cid error")},E=c=>{let{search:g,pathname:r}=c;return r.includes("/sharing")?r.includes("dashboard")||r.includes("htmlzip")?r.split("/").at(-3):r.includes("embed/v2")?location.pathname.split("/").at(-4):r.split("/").at(-2):new URLSearchParams(g).get("token")||/^\/proto\/([^/]+?)(?:\/forum|\/uichina|\/embed|\/embed\/v2|\/htmlzip|\/sharing|\/ro)?\/?$/i.exec(r)[1]},o="/p2mkt_view",I=c=>o+"/"+c,n=c=>/^\/p2mkt_view\/(?:([^/]+?))$/i.exec(c)[1]},62609:(F,x,e)=>{"use strict";e.d(x,{K:()=>m});var t=e(10042);const m=function(y,E,o){const I=E.getGuidesData(),n=new Set(JSON.parse(I||"[]")),c=new Set;return{checkGuideHasShown:g=>n.has(g),checkGuideToBeShown:g=>c.has(g),getState:()=>({commonGuidesHasShown:Array.from(n),commonGuidesToBeShown:Array.from(c)}),tryToShowGuide:g=>{if(n.has(g))return;const r=document.getElementById("MD_"+g);if(r){r.style.display="block";return}c.add(g),(0,t.k)(g,y,o)},markGuideAsRead:g=>{n.add(g),E.setGuidesData(JSON.stringify(Array.from(n)))},batchMarkGuideAsRead:g=>{g.forEach(r=>n.add(r)),E.setGuidesData(JSON.stringify(Array.from(n)))},closeGuide:g=>{const r=document.getElementById("MD_"+g);r&&r.parentNode&&r.parentNode.removeChild(r)},closeAllGuide:()=>{const g=document.getElementById("GUIDES");g&&g.parentNode&&g.parentNode.removeChild(g)},removeGuide:g=>{n.delete(g),E.setGuidesData(JSON.stringify(Array.from(n)))}}}},65266:(F,x,e)=>{"use strict";e.d(x,{B:()=>t});let t;(function(m){m.Widget="search_widget",m.MarketTemplate="search_template",m.Group="search_group",m.SelfMakeCombo="search_make_combo",m.Resources="search_resources",m.IconList="search_icon_list",m.Icon="search_icon",m.Asset="search_asset",m.FindPicture="search_find_picture"})(t||(t={}))},97358:(F,x,e)=>{"use strict";e.d(x,{JC:()=>w,Lu:()=>i,g5:()=>_,ll:()=>r,pA:()=>p});var t=e(16954),m=e(5125),y=e(8685),E=e(31740),o=e(11685),I=e(67185),n=e(15592),c=e(38130),g=e(46655);const r=[...I.$x,o.l.MCheckBox,o.l.MRadioButton,o.l.IOSCheck,o.l.AndroidCheck,o.l.WLine,o.l.VE,o.l.WArrow,o.l.WImage,o.l.WAudio,o.l.WVideo,o.l.WTriangleB,o.l.WTriangleTL,o.l.UnifiedKeyboard,o.l.TabBar,o.l.IPhoneXStatusBar,o.l.AndroidStatusBar,o.l.IOSStatusBar,o.l.LegacyIphoneXStatusBar,o.l.LegacyIphoneStatusBar,o.l.LegacyIpadStatusBar,o.l.SVGIconPath,o.l.WIcon,o.l.IconButton,o.l.WDropMenu,o.l.WDigitalStepper,o.l.WMobileTabBars,o.l.WSegmentedControl,o.l.WPaginationWeb,o.l.WPaginationMobile,o.l.WElbow],_=[o.l.RoundedRect,o.l.WRect,o.l.CircleRect,o.l.WOval,o.l.Button,o.l.WButton,o.l.ButtonSolid,o.l.WButtonSolid,o.l.WSticky,o.l.WPlaceholder,o.l.WPolygon,o.l.WStar,o.l.WTriangleTL,o.l.WTriangleB,o.l.SVGIconPath,o.l.WIcon,o.l.WMSelect],d=[o.l.RoundedRect,o.l.WRect,o.l.CircleRect,o.l.WOval,o.l.Button,o.l.WButton,o.l.ButtonSolid,o.l.WButtonSolid,o.l.WSticky,o.l.WPlaceholder,o.l.WPolygon,o.l.WStar,o.l.WTriangleTL,o.l.WTriangleB,o.l.SVGIconPath,o.l.WIcon,o.l.WMSelect,o.l.WMTextInput,o.l.WMTextArea],i=[o.l.WMapView,o.l.WWebpage],p={[t.M.BorderRadiusPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget);return{borderRadius:(0,y.U)(s,"borderRadius")||n.Z.border_radius,show:!0}},[o.l.WImage]:a=>{let{selectedTrees:u}=a;const l=u.map(D=>D.widget).find(D=>D.type===o.l.WImage),{image:{imageClipType:M}}=l;return{show:M!==c.eE.circular}},[o.l.WPolygon]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget);return{borderRadius:(0,y.U)(s,"polygon").cornerRadius||n.Z.border_radius,show:!0}},[o.l.WStar]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),l=(0,y.U)(s,"star");return{borderRadius:(l==null?void 0:l.cornerRadius)||n.Z.border_radius,show:!0}}},[t.M.FillPanel]:{[m.DT]:a=>{let{selectedTrees:u,isTextEditing:s,selectionAttrs:l}=a;const M=u.map(v=>v.widget),D=(0,y.U)(M,"background")||n.Z.background;return{background:s&&l.background||D}},new:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget);return{attr:"fill",fill:(0,y.U)(s,"fill")}},segmentedControl:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{backgroundColor:l,isBackgroundVisible:M}=(0,y.U)(s,"segmentedControl");return{backgroundColorAttr:"backgroundColor",isVisibleAttr:"isBackgroundVisible",isBackgroundVisible:M,backgroundColor:l,supAttr:"segmentedControl"}},[o.l.WIphoneXSB]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget);return{attr:"fill",fill:(0,y.U)(s,"fill"),pIsSolidColorOnly:!0}}},[t.M.BorderPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),l=(0,y.U)(s,"border")||n.Z.border;return{borderVisibility:(0,y.U)(s,"borderVisibility")||n.Z.border_visibility,border:l}}},[t.M.BoxShadowsPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget);return{shadowValue:(0,y.U)(s,"shadow")||n.Z.box_shadow}}},[t.M.TextShadowsPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget);return{shadowValue:(0,y.U)(s,"shadow")||n.Z.text_shadow}}},[t.M.ArrowSettingPanel]:{[o.l.WElbow]:a=>{let{selectedTrees:u}=a;const s=u.map(k=>k.widget),l=(0,y.U)(s,"elbow"),{arrowStroke:M,startAnchor:D,endAnchor:v}=l,W=g.ED[D],h=g.d6[v];return{arrowTypes:[W,h],arrowStroke:M,anchorFromType:"startAnchor",anchorToType:"endAnchor",supAttr:"elbow",reverseArrow:!1}},[m.DT]:a=>{var u,s,l,M;let{selectedTrees:D}=a;const v=D.map(h=>h.widget),W=(0,y.U)(v,"arrow");return{arrowTypes:[W==null?void 0:W.arrowPointFromType,W==null?void 0:W.arrowPointToType],anchorFromType:"arrowPointFromType",anchorToType:"arrowPointToType",supAttr:"arrow",arrowStroke:W==null?void 0:W.arrowStroke,reverseArrow:(0,E.Tx)([[W==null||(u=W.arrowPointFrom)==null?void 0:u.x,W==null||(s=W.arrowPointFrom)==null?void 0:s.y],[W==null||(l=W.arrowPointTo)==null?void 0:l.x,W==null||(M=W.arrowPointTo)==null?void 0:M.y]])}}},[t.M.ToolTipArrowSettingPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget);return{tooltip:(0,y.U)(s,"tooltip")}}},[t.M.TextStatusBarPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget),{textColor:l}=(0,y.U)(s,"textV0");return{textColor:l,supAttr:"textV0"}}},[t.M.InputTypeKeyboardPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget),{inputTypes:l}=(0,y.U)(s,"textInput");return{inputType:l,supAttr:"textInput"}}},[t.M.QRCodeSettingPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(W=>W.widget),{foregroundColor:l,isForegroundVisible:M,backgroundColor:D,isBackgroundVisible:v}=(0,y.U)(s,"qrCode");return{foreground:{color:l,isVisible:M},background:{color:D,isVisible:v}}}},[t.M.TextPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{fontSize:l,textColor:M}=(0,y.U)(s,"textV0");return{fs:l,textColor:M,supAttr:"textV0"}},[o.l.WPaginationWeb]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{textSize:l,textColor:M}=(0,y.U)(s,"paginationWeb");return{fs:l,textColor:M,supAttr:"paginationWeb",fsAttr:"textSize"}},[o.l.WPaginationMobile]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{textSize:l,textColor:M}=(0,y.U)(s,"paginationMobile");return{fs:l,textColor:M,supAttr:"paginationMobile",fsAttr:"textSize"}},[o.l.WTabs]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{fontSize:l,textColor:M}=(0,y.U)(s,"tabs");return{fs:l,textColor:M,supAttr:"tabs"}},[o.l.WMobileTabBars]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{fontSize:l,textColor:M}=(0,y.U)(s,"mobileTabBars");return{fs:l,textColor:M,supAttr:"mobileTabBars"}},[o.l.WSegmentedControl]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{fontSize:l,textColor:M}=(0,y.U)(s,"segmentedControl");return{fs:l,textColor:M,supAttr:"segmentedControl"}}},[t.M.DigitalStepperPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget),l=(0,y.U)(s,"digitalStepper");return{is:l.iconSize,iconColor:l.iconColor,sliderSize:l.sliderSize}}},[t.M.IconSettingsPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget),l=(0,y.U)(s,"iconData");return{view_box:l==null?void 0:l.viewBox,path:l==null?void 0:l.path,svgAttr:l==null?void 0:l.svgAttr,iconName:(l==null?void 0:l.iconName)||"",is:(l==null?void 0:l.iconSize)||0,fill:(0,y.U)(s,"fill"),iconColor:l==null?void 0:l.iconColor}},old:a=>{let{selectedTrees:u}=a;const s=u.map(M=>M.widget),l=(0,y.U)(s,"tc")||n.Z.tc;return{view_box:(0,y.U)(s,"view_box"),path:(0,y.U)(s,"path"),svgAttr:(0,y.U)(s,"svgAttr"),iconName:(0,y.U)(s,"icon")||"",is:(0,y.U)(s,"is")||0,iconColor:l}}},[t.M.MobileTabBarsIconPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(D=>D.widget),{iconSize:l,iconColor:M}=(0,y.U)(s,"mobileTabBars");return{iconSize:l,iconColor:M}}},[t.M.UnifiedKeyboardPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(l=>l.widget);return{kbdStyle:(0,y.U)(s,"numeric")?"numeric":"text"}}},[t.M.CheckPanel]:{[m.DT]:a=>{let{selectedTrees:u}=a;const s=u.map(l=>l.widget);return{checked:!!(0,y.U)(s,"checked")}}}},P=[o.l.WRichText,o.l.TextView,o.l.Label,o.l.SVGIconPath,o.l.WIcon],w=a=>{if(!r.includes(a))return[];const s=P.includes(a)?p[t.M.TextShadowsPanel][m.DT]:p[t.M.BoxShadowsPanel][m.DT];return[p[t.M.BorderRadiusPanel][a]||p[t.M.BorderRadiusPanel][m.DT],p[t.M.FillPanel][d.includes(a)?"new":m.DT],p[t.M.BorderPanel][m.DT],p[t.M.ArrowSettingPanel][a]||p[t.M.ArrowSettingPanel][m.DT],s]}},76637:(F,x,e)=>{"use strict";e.d(x,{NM:()=>I,PV:()=>n});var t=e(7485),m=e(66216),y=e(89870);let E;(function(c){function g(_,d){const i={...d};for(const[p,P]of Object.entries(_))i[p]===void 0&&(i[p]=P);return i}c.merge=g;function r(_,d){const i={};for(const[p,P]of Object.entries(_))i[p]=d(P);return i}c.mapValues=r})(E||(E={}));let o;(function(c){function g(r){const _={};for(const[d,i]of Object.entries(r))i.shortcut!==void 0&&i.action!==void 0&&i.system!==!0&&(_[i.shortcut]=i.action);return _}c.toKeys=g})(o||(o={}));const I=(0,t.memo)(c=>{const g=(0,t.useContext)(m.XC),r=(0,y.I0)();return(0,t.useEffect)(()=>{const _=E.mapValues(c.sheet.keys,i=>()=>Array.isArray(i)?i.map(p=>r(p)):r(i)),d={...c.sheet,keys:_};return g.bind(d),()=>{g.unbind(d)}}),null}),n=(0,t.memo)(c=>{const g=(0,t.useContext)(m.XC),r=(0,y.I0)();return(0,t.useEffect)(()=>{const _=E.mapValues(c.sheet.keys,p=>()=>Array.isArray(p)?p.map(P=>r(P)):r(p)),d={...c.sheet,keys:_},i=[...g.sheetsBound];return i.forEach(p=>g.unbind(p)),g.bind(d),()=>{g.unbind(d),i.forEach(p=>g.bind(p))}}),null})},14049:(F,x,e)=>{"use strict";e.d(x,{Z:()=>I});var t=e(89870),m=e(77646),y=e(77200),E=e(40251);const o=(0,m.P1)([y.XL,y.jQ,y.GP,y.yT],(n,c,g,r)=>{const{isEmbedV2:_,isSquare:d}=g;return{isPanelPreviewMode:r,isFullScreenMode:n,isMinimized:c,isEmbedV2:_,isSquare:d}}),I=(0,t.$j)(n=>o(n))(E.Z)},59780:(F,x,e)=>{"use strict";e.d(x,{Z:()=>n});var t=e(89870),m=e(77646),y=e(77200),E=e(31033),o=e(56960);const I=(0,m.P1)([y.Ds,y.os,y.v8,y.H9,y.Dx,y.JH,y.EZ,y.oD,y.ts,y.kc],(c,g,r,_,d,i,p,P,w,a)=>{let{annotateSortList:u,show:s}=i,{isFullScreenMode:l}=a;const M=!(g.x===_.x&&g.y===_.y),D=c===E.c6&&!d&&u.length>0&&p,v=l?100:s?P+15:0,W=s?P+16:16;return{mode:c,isDisplaced:M,isProjectMain:r,annotateBtnShow:D,topBtnRight:v,zoomOptionBarRight:W,currentUser:w,isFullScreenMode:l}}),n=(0,t.$j)(c=>I(c))(o.Z)},55479:(F,x,e)=>{"use strict";e.d(x,{t:()=>t});let t;(function(m){m[m.previewOrShare=0]="previewOrShare",m[m.version=1]="version",m[m.isEmbed=2]="isEmbed"})(t||(t={}))},24248:(F,x,e)=>{"use strict";e.d(x,{Z:()=>I});var t=e(89870),m=e(77646),y=e(2989),E=e(77200);const o=(0,m.P1)([E.aS,E.Ds,E.Dx,E.JH,E.oD],(n,c,g,r,_)=>{let{annotateSortList:d,show:i}=r;return{selectCid:n,annotateSortList:d,show:i,annotatePanelWidth:_}}),I=(0,t.$j)(n=>o(n))(y.Z)},16335:(F,x,e)=>{"use strict";e.d(x,{Z:()=>c});var t=e(89870),m=e(77646),y=e(77200),E=e(31033),o=e(4218),I=e(5259);const n=(0,m.P1)([I.dq,y.Ds,y.v8,y.XL,y.jQ],(g,r,_,d,i)=>{const p=r===E.nh,P=g&&MB.user.id;return{commentMode:g,isLayerPanelShow:p,isCommentPanelShow:P,isFullScreenMode:d,isMinimized:i}}),c=(0,t.$j)(g=>n(g))(o.Z)},10737:(F,x,e)=>{"use strict";e.d(x,{Z:()=>n});var t=e(89870),m=e(77646),y=e(77200),E=e(86800);const o=c=>c.container.artboards.isShowSplash,I=(0,m.P1)([y.CL,y.vo,y.gz,o,y.GP,y.yT],(c,g,r,_,d,i)=>({screen:c,project:g,isImmersive:r,isShowSplash:_,previewOptions:d,isPanelPreviewMode:i})),n=(0,t.$j)(c=>I(c))(E.Z)},63160:(F,x,e)=>{"use strict";e.d(x,{R:()=>t});const t={keys:{"ctrl+enter":{type:"entry:enter:full-screen-mode"},"command+enter":{type:"entry:enter:full-screen-mode"},esc:{type:"entry:preview:escape:key"},"ctrl+numpad_add":{type:"entry:preview:zoom-in"},"command+numpad_add":{type:"entry:preview:zoom-in"},"ctrl+=":{type:"entry:preview:zoom-in"},"command+=":{type:"entry:preview:zoom-in"},"ctrl+numpad_subtract":{type:"entry:preview:zoom-out"},"command+numpad_subtract":{type:"entry:preview:zoom-out"},"ctrl+-":{type:"entry:preview:zoom-out"},"command+-":{type:"entry:preview:zoom-out"},"ctrl+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+[":{type:"entry:preview-setting:toggle:isMinimized"},"command+[":{type:"entry:preview-setting:toggle:isMinimized"}}}},14730:(F,x,e)=>{"use strict";e.d(x,{QT:()=>w,T_:()=>g,Tj:()=>d,qH:()=>_,tX:()=>r});var t=e(18582),m=e(20209),y=e(13228),E=e(59234),o=e(11685),I=e(52048);const n=Object.fromEntries(t.map(a=>[a.family,a.typeList.map(u=>(0,m.a7)(u,0))])),c=Object.fromEntries(t.map(a=>[a.family,["normal",...a.typeList.find(u=>u.toLowerCase().includes("italic"))?["italic"]:[]]])),g=()=>{const a=(0,y.e)(),u=$(a).find(".ah");let s=12;for(let l=12;l>=1;l--)u.css("font-size",l+"px"),u.css("line-height","100%"),u.text("a").height()===l&&(s=l);return s},r=a=>a.type===o.l.WRichText?{width:(0,E.bZ)(a),height:(0,E.xz)(a)}:{width:a.width,height:a.height},_=a=>a.type===o.l.WRichText?i(a):a.height,d=a=>a.type===o.l.WRichText?p(a):a.height,i=a=>{if(a.type!==o.l.WRichText)return null;const s=(0,y.e)().getElementsByClassName("auto-width")[0];s.classList.add(a.richTextV1.fontDirection),s.style.height=a.height+"px",s.innerHTML=(0,I.gh)(a);const l=s.getBoundingClientRect();return s.classList.remove(a.richTextV1.fontDirection),Math.ceil(l.width)},p=a=>{if(a.type!==o.l.WRichText)return null;const s=(0,y.e)().getElementsByClassName("auto-height")[0];s.classList.add(a.richTextV1.fontDirection),s.style.width=a.width+"px",s.innerHTML=(0,I.gh)(a);const l=s.getBoundingClientRect();return s.classList.remove(a.richTextV1.fontDirection),Math.ceil(l.height)},P=(a,u)=>{const s={...a[0],children:void 0},l={...a[0].children[0],text:void 0};return u.map(M=>({...s,children:[{...l,text:M}]}))},w=a=>{const u=new Set;return a.text.forEach(s=>{s.children.forEach(l=>{var M,D;let v=(0,m.a7)(l.fontWeight,l.boldType);v=(M=n[l.fontFamily])!=null&&M.includes(v)?v:400;const W=(D=c[l.fontFamily])!=null&&D.includes(l.fontStyle)?l.fontStyle:"normal",h=l.fontFamily+"|"+W+"|"+v;u.add(h)})}),u}},38625:(F,x,e)=>{"use strict";e.d(x,{CQ:()=>o,Gn:()=>E,er:()=>I,iw:()=>g,ne:()=>c});var t=e(42966),m=e(52454),y=e(54635);const E=r=>{var _,d,i,p,P;const w=(_=MB)==null||(d=_.user)==null?void 0:d.id,a=w?(i=MB)!=null&&(p=i.currentProject)!=null&&(P=p.accesses)!=null&&P[w]?"\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u975E\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55"},o=r=>{},I=r=>{var _,d;const i=(_=MB)!=null&&(d=_.currentProject)!=null&&d.is_org_project?"\u4F01\u4E1A\u9879\u76EE":"\u4E2A\u4EBA\u9879\u76EE"},n=(r,_,d,i)=>{const P=isSketchLayer(_.id)?_.type:i18nWidgetName(_.name)||""},c=r=>{const _=(0,y.Q7)()},g=(r,_,d)=>{}},83830:(F,x,e)=>{"use strict";e.d(x,{Vu:()=>G,ub:()=>f,ok:()=>l,wY:()=>a,vf:()=>s,sb:()=>u,aq:()=>M,fR:()=>v,_3:()=>W,L3:()=>O,ov:()=>k,qQ:()=>h});var t=e(46382),m=e(34176),y=e(38099),E=e(94189);const o={solid:0,dotted:1,dashed:2},I={0:"solid",1:"dotted",2:"dashed"},n=C=>{let[N,b,X,Y]=C;return N?{borderColor:(0,E.LW)(b),borderWidth:X+"px",borderStyle:I[Y]}:null},c=C=>{let{isEnable:N,color:b,width:X,styleType:Y}=C;return[Number(N),hex8NumberFromJSON(b),X,o[Y]]},g=C=>{let[N,b,X,Y]=C;return{isEnable:Boolean(N),color:hex8JSONFromNumber(b),width:X,styleType:I[Y]}};var r=e(37464),_=e(27783),d=e(35576),i=e(11685),p=e(38130),P=e(97358),w=e(34605);const a=C=>C.border_radius.split(",").map(N=>(parseInt(N)||0)+"px").join(" "),u=C=>{const{borderRadius:N}=C;return typeof N=="object"?Object.values(N).map(b=>(parseInt(b)||0)+"px").join(" "):N+"px"},s=C=>typeof C=="object"?Object.values(C).map(N=>(parseInt(N)||0)+"px").join(" "):C+"px",l=C=>{const{borderRadius:N}=C;return typeof N=="object"?Object.values(N).map(b=>""+(parseInt(b)||0)):[""+N]},M=C=>C.border.bdrWidth,D=C=>{const N=(C.fs||0).toFixed(1);return N>0&&N<MB.config.minFS&&(MB.action?MB.action("entry:min:fontsize:issue"):MB.webpackInterface&&MB.webpackInterface.store.dispatch({type:"entry:min:fontsize:issue"})),N},v=C=>{var N;return(N=C.textV0)==null?void 0:N.fontSize},W=C=>{const N=(0,t.xh)(C),b={};if(C.zoomable!==" "&&(b.width=C.width,b.height=C.height),C.background&&N.indexOf("background")!==-1&&!P.g5.includes(C.name)&&(b.backgroundColor=G(C)),N.indexOf("border")!==-1){const ae=f(C);if(ae){const{borderColor:q,borderWidth:ce,borderStyle:pe}=ae;b.borderColor=q,_.v8.indexOf(C.name)!==-1&&(b.borderWidth=ce),_.u1.indexOf(C.name)!==-1&&(b.borderStyle=pe)}else b.borderWidth=0,b.borderStyle="none",b.borderColor="unset"}if(C.box_shadow&&N.indexOf("box_shadow")!==-1&&(b.boxShadow=(0,r.mm)(C.box_shadow)),C.tc&&N.indexOf("tc")!==-1&&(b.color=typeof C.tc=="number"?(0,E.LW)(C.tc):C.tc),N.indexOf("text_shadow")!==-1&&C.text_shadow?b.textShadow=(0,r.oA)(C.text_shadow):C.ts>0&&(b.textShadow="0 0 "+C.ts+" "+C.tsc),N.indexOf("border_radius")!==-1){var X;C.border_radius&&(b.borderRadius=a(C)),C.name===i.l.WImage&&((X=C.image)==null?void 0:X.imageClipType)===p.eE.circular&&(b.borderRadius="100%")}C.clip&&N.indexOf("clip")!==-1&&(b.clipPath=C.clip,b.WebkitClipPath=C.clip);const Y=D(C);return N.indexOf("fs")!==-1&&Y>0&&(b.fontSize=Y+"px"),N.indexOf("padding")!==-1&&(b.padding=C.padding),N.indexOf("ha")!==-1&&(b.textAlign=C.ha),N.indexOf("lh")!==-1&&(b.lineHeight=C.lh+"px"),b.fontWeight=C.bo?"bold":"normal",b.fontStyle=C.i?"italic":"normal",b},h=function(C,N){let{isPreview:b=!1,isSnapshot:X=!1}=N===void 0?{}:N;const Y=W(C),ae=(0,t.xh)(C);Y.zIndex=C.z,Y.left=C.left,Y.top=C.top,ae.indexOf("ro")!==-1&&C.ro&&(Y.transform="rotate("+C.ro+"deg)",Y.WebkitTransform="rotate("+C.ro+"deg)"),b&&!X&&C.ani_name!=="none"&&(C.ani_delay&&C.ani_delay!=="0"&&(Y.animationDelay=C.ani_delay),Y.animationIterationCount=C.ani_count,C.ani_duration&&C.ani_duration!=="0"&&(Y.animationDuration=C.ani_duration));let q;C.v?q=ae.indexOf("o")!==-1?C.o/100:"":q=0;let ce;return!C.v&&b&&(ce="none"),q!==""&&(Y.opacity=q),ce&&(Y.pointerEvents=ce),C.transition&&(Y.transition=C.transition),Y},k=function(C,N){var b;let{links:X=null,isPreview:Y=!1,isSnapshot:ae=!1}=N===void 0?{}:N,q="widget "+C.name;return(0,t.xh)(C).indexOf("ha")!==-1&&(q+=" h"+C.ha),(0,t.xh)(C).indexOf("va")!==-1&&(q+=" v"+C.va),C.td!=="normal"&&(q+=" td"+C.td),C.name==="pg"&&(q+=" s"+C.icon),C.name==="switch"&&C.checked&&(q+=" checked"),Y&&!ae&&(X&&X.length&&C.v&&C.link_cids&&(q+=(0,d.a0)(X)),C.ani_name!=="none"&&C.v&&(q+=" animated "+C.ani_name)),C.name===i.l.WRichText&&((b=C.richTextV1)==null?void 0:b.sizeType)===0&&(q+=" auto"),q},G=C=>{let N;return C.background?N=C.background:N=(0,m.DA)(C,"background"),(0,y.mg)(N)||"transparent"},O=C=>{const{fill:N,textV0:b}=C,X=(0,w.Gd)(N.solidColor);let Y=j(X,-20);(X==="transparent"||!N.fillIsVisible)&&(Y="#ccc"),X||(Y="#c1b97e");const ae=b.textColor?j(b.textColor,20):"#7D8694";return{lineColor:Y,textPlaceHolder:ae}},f=C=>{let N;return C.border?N=C.border:N=(0,m.DA)(C,"border"),n(N)};function j(C,N){let b=0,X=0,Y=0;const ae=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,q=/^rgb/i;if(ae.test(C))b=parseInt(C.substring(1,3),16),X=parseInt(C.substring(3,5),16),Y=parseInt(C.substring(5,7),16);else if(q.test(C)){var ce;const z=(((ce=C.split("rgba("))==null?void 0:ce.length)===1?C.split("rgb("):C.split("rgba("))[1].split(")")[0].split(",");b=z[0],X=z[1],Y=z[2]}else return C;b=parseInt(b*(100+N)/100),X=parseInt(X*(100+N)/100),Y=parseInt(Y*(100+N)/100),b=b<255?b:255,X=X<255?X:255,Y=Y<255?Y:255;const pe=b.toString(16).length===1?"0"+b.toString(16):b.toString(16),fe=X.toString(16).length===1?"0"+X.toString(16):X.toString(16),_e=Y.toString(16).length===1?"0"+Y.toString(16):Y.toString(16);return"#"+pe+fe+_e}const K=C=>{let[N,b,X,Y,ae,,,]=C;return N?"drop-shadow("+X+"px "+Y+"px "+ae+"px "+rgbaCSSFromHex8Number(b)+")":null}},49345:(F,x,e)=>{"use strict";e.d(x,{S:()=>m});var t=e(25797);const m=E=>(0,t.Gf)("/api/web/v3/account/workspace_guide_2203_coupon",{space_type:E}),y=()=>fetchGetJSON("/api/web/v3/initial")},53233:(F,x,e)=>{"use strict";e.d(x,{BG:()=>s,KQ:()=>C,W:()=>ae,ZP:()=>R,sE:()=>Wt,zf:()=>M});var t=e(76333),m=e(27056),y=e(7221),E=e(73669),o=e(25797),I=e(44766),n=e(68557),c=e(35517),g=e(22686),r=e(43980),_=e(79486);const d=(T,U)=>{const J=new Error("[NO SENTRY] "+T);return Object.assign(J,U),J},i=T=>(0,o.EE)("/api/web/v3/workspace/design/initial?project_cid="+T),p=(T,U)=>fetchGetJSON("/api/web/v3/workspace/design/readonly_initial?access_token="+T+"&password="+U),P=async(T,U)=>{const J="/api/flat/web_v1/preview/initial?access_token="+T+"&view_mode="+U,oe=await fetch(J,{credentials:"same-origin"}),ve=await oe.json();if(oe.status!==200)throw d("[fetchGetHead] failed with "+oe.status+": "+J,{status:oe.status,error_type:ve==null?void 0:ve.error_type});return ve},w=()=>(0,o.EE)("/api/web/v3/guide/guide_data"),a=T=>(0,o._Z)("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:T}}),u=T=>(0,o._Z)("/api/web/v3/guide/workspace_guides_2203",{guide:{workspace_guides_2203:T}}),s=(T,U)=>(0,o.IP)("/api/web/v4/project_upper/project_basics/"+T,{...U}),l=(T,U)=>(0,o.IP)("/api/flat/web_v1/fcg/"+T,{...U}),M=async T=>{const{project_basic:U,project_metas:J}=await(0,o.EE)("/api/web/v4/project_upper/project_basics/"+T);return{projectBasic:U,projectMetaList:J}},D=async T=>{const{library_accesses:U}=await(0,o.EE)("/api/web/v3/orgs/"+T+"/library_accesses");return{libraryAccesses:U}},v=async T=>{const{members:U}=await(0,o.EE)("/api/dashboard/v5/orgs/"+T+"/members");return U},W=()=>(0,o.EE)("/api/web/v3/configuration/design_activity"),h=()=>(0,o.EE)("/api/web/v3/configuration/square_topic"),k=()=>(0,o.EE)("/api/web/v3/configuration/workspace"),G=async()=>{let T=[];try{const U=await(0,o.EE)("/api/web/v3/configuration/square_search_keywords");U!=null&&U.keywords&&(T=U==null?void 0:U.keywords.split(/[,，]/))}catch(U){await(0,c.Vz)(U)}return T},O=async()=>{let T=[];try{const U=await(0,o.EE)("/api/library/v4/recent_keywords");U!=null&&U.keywords&&(T=U==null?void 0:U.keywords)}catch(U){await(0,c.Vz)(U)}return T},f=()=>(0,o._E)("/api/library/v4/recent_keywords"),j=T=>(0,o.Mn)("/api/library/v4/recent_keywords",{keyword:T}),K=async()=>{let T=null;try{const U=await(0,o.EE)("/api/library/v4/workspace_labels");U!=null&&U.keywords&&(T=U==null?void 0:U.keywords)}catch(U){await(0,c.Vz)(U)}return T},C=async()=>{var T;let U;try{U=await(0,o.EE)("/api/web/v3/project_upper/user_combo_groups.json")}catch(J){return await(0,c.Vz)(J),{}}return{userComboGroupList:(T=U)==null?void 0:T.user_combo_groups}},N=async T=>{let U;try{U=await(0,o.bX)("/api/library/v4/users/combo_groups/"+T.cid,{...T})}catch(J){return await(0,c.Vz)(J),{}}return U},b=T=>(0,o.IP)("/screen_aligns/"+T.cid,{...T}),X=T=>(0,o._E)("/api/web/v3/project_upper/user_combo_groups/"+T+".json"),Y=T=>N(T),ae=async T=>{var U;let{orgCid:J}=T,oe;try{oe=await(0,o.EE)("/api/web/v3/project_upper/org_combo_groups?org_cid="+J)}catch(ve){return await(0,c.Vz)(ve),{}}return{orgComboGroupList:(U=oe)==null?void 0:U.org_combo_groups}},q=async(T,U)=>{let J;try{J=await(0,o.bX)("/api/library/v4/orgs/combo_groups/"+T.cid+"?org_cid="+U,{...T})}catch(oe){return await(0,c.Vz)(oe),{}}return J},ce=T=>(0,o._E)("/api/web/v3/project_upper/org_combo_groups/"+T),pe=async T=>{const{org_combo_group:U}=await(0,o.IP)("/api/web/v3/project_upper/org_combo_groups/"+T.cid,{...T});return{org_combo_group:U}},fe=async(T,U,J)=>{let{upperCid:oe,projectMetaCid:ve}=U,{nextUpperCid:Ee,nextProjectMetaCid:je}=J;try{await(0,o.Gf)("/project-buffer/prototype/check-transfer/screen-glue?upperCid="+oe,{projectMetaCid:ve,screenGlueCidList:T,nextUpperCid:Ee,nextProjectMetaCid:je})}catch(Ae){await(0,c.Vz)(Ae)}},_e=async T=>{let{orgComboGroupCid:U}=T,J;try{J=await(0,o.EE)("/api/web/v3/project_upper/org_combo_groups/"+U+".json")}catch(Be){return await(0,c.Vz)(Be),{}}const{project_meta:oe,screen_glues:ve,screen_metas:Ee,screen_aligns:je}=J,Ae=[oe],Ie=await(0,I.L9)({projectMetaList:Ae,screenMetaList:Ee});return{projectMeta:oe,screenGlueList:ve,screenMetaList:Ee,projectScreenObjectList:Ie,screenAligns:je}},ue=async T=>{let{userComboGroupCid:U}=T,J;try{J=await(0,o.EE)("/api/web/v3/project_upper/user_combo_groups/"+U+".json")}catch(Be){return await(0,c.Vz)(Be),{}}const{project_meta:oe,screen_glues:ve,screen_metas:Ee,screen_aligns:je}=J,Ae=[oe],Ie=await(0,I.L9)({projectMetaList:Ae,screenMetaList:Ee});return{projectMeta:oe,screenGlueList:ve,screenMetaList:Ee,projectScreenObjectList:Ie,screenAligns:je}},z=async T=>{let{userLocale:U,projectBasicCid:J}=T;try{return await(0,_.yS)({projectBasicCid:J})}catch(oe){MB.global.popupHelper.alertAsync({desc:I18N.dModule.project_load_failed,isHTML:!0,confirmText:I18N.dModule.confirm}).then(()=>{MB.global.onBackButtonClick()}),(0,r.uT)("\u9879\u76EE\u6253\u4E0D\u5F00"),console.log(oe)}},ie=async T=>{const{project_metas:U,screen_metas:J,screen_glues:oe,market_template:ve,icon_group:Ee}=await(0,y.Mv)(T),{category:je}=ve,Ae=je===g.yr;if(je===g.Jc){const{title:Be,source:xe}=Ee,Ue=await(0,o.EE)(xe),Ye=n.em[Be]||"svg",{iconGroupData:dt,iconData:pt}=(0,n._7)(Ue,Ye);return{marketTemplate:ve,iconGroupData:dt,iconData:pt}}else{const Be=[];if(Ae){const xe={};J.forEach(Ue=>{xe[Ue.screen_glue_cid]=Ue.cid});for(const Ue of oe){const{cid:Ye,name:dt,project_meta_cid:pt}=Ue;Be.push({cid:Ye,name:dt,type:ve.category,projectBasicCid:ve.cid,projectMetaCid:pt,screenGlue:Ue,screenMetaCid:xe[Ue.cid]||""})}}else{const xe=oe.find(Ue=>Ue.type==="project-main");for(const Ue of J){const{cid:Ye,name:dt,project_meta_cid:pt,screen_glue_cid:Rt}=Ue;xe.cid===Rt&&Be.push({cid:Ye,name:dt,type:ve.category,projectBasicCid:ve.cid,projectMetaCid:pt,screenGlue:xe,screenMetaCid:Ye})}}return{marketTemplate:ve,marketTemplateItemList:Be,projectMetaList:U,screenGlueList:oe,screenMetaList:J}}},de=async()=>{const T=await(0,y.Wk)(g.yr),U=await(0,y.Wk)(g.Jc),J=await(0,y.Wk)(g.md),oe=T.concat(U).concat(J),ve=oe.filter(Ie=>{let{category:Be}=Ie;return[g.yr,g.md].includes(Be)}),Ee=oe.filter(Ie=>{let{category:Be}=Ie;return Be===g.Jc}),je=new Map,Ae=new Map;for(const Ie of oe){const{category:Be,cid:xe}=Ie;Be===g.Jc?Ae.set(xe,Ie):je.set(xe,Ie)}return{marketTemplateList:ve,iconLibraryList:Ee,marketTemplateListMap:je,iconLibraryListMap:Ae}},Pe=T=>{let{marketTemplateCid:U}=T;return(0,o._E)("/api/community/v1/market_template/use/"+U)},Me=async T=>{let{projectMetaList:U,screenGlueList:J,screenMetaList:oe}=T;const ve=await(0,I.L9)({projectMetaList:U,screenMetaList:oe});return{marketTemplateDataMap:Te(U,J,oe,ve)}},Se=()=>(0,o.EE)("/api/community/v1/icon_group/builtin_icon_group"),be=async T=>{const{icon_group:{title:U,source:J},market_template:oe}=await(0,y.Mv)(T.cid),ve=await(0,o.EE)(J),Ee=n.em[U]||"svg",{iconGroupData:je,iconData:Ae}=(0,n._7)(ve,Ee);return{iconGroupData:je,iconData:Ae,marketTemplate:oe}},Te=(T,U,J,oe)=>{const ve={};for(const Ee of T)ve[Ee.cid]={projectMeta:Ee,screenGlueList:[],screenMetaList:[],projectScreenObjectList:[]};for(const Ee of U)ve[Ee.project_meta_cid].screenGlueList.push(Ee);for(const Ee of J)ve[Ee.project_meta_cid].screenMetaList.push(Ee);for(const Ee of Object.values(ve))if(!!Ee.screenMetaList.length)for(const je of Ee.screenMetaList){const Ae=oe.find(Ie=>Ie.cid===je.cid);Ae&&Ee.projectScreenObjectList.push(Ae)}return ve},Oe=()=>Date.now(),Je=(T,U,J,oe)=>(0,o.kt)("/node-history-statistics/new_history",{action:T,project_cid:U,team_cid:J,org_cid:oe,time:Oe()}),He=T=>{let{projectCid:U,teamCid:J,orgCid:oe}=T;Je(0,U,J,oe)};let $e=null;const at=T=>{let{projectCid:U,teamCid:J,orgCid:oe}=T;$e&&Oe()-$e<60*5*1e3||($e=Oe(),Je(1,U,J,oe))},Ft=async()=>{try{const{asset_groups:T}=await(0,o.sE)("/api/web/v3/asset_data/me/asset_groups");return{userAssetGroupList:T}}catch(T){await(0,c.Vz)(T)}},Dt=async T=>{let{orgCid:U}=T;try{const{asset_groups:J}=await(0,o.sE)("/api/web/v3/asset_data/org/asset_groups?org_cid="+U);return{orgAssetGroupList:J}}catch(J){await(0,c.Vz)(J)}},vt=async T=>{try{const{asset:U,user_asset:J}=await(0,o.NS)("/api/web/v3/asset_data/me/search_by_url",{image_url:T});return{asset:U,user_asset:J}}catch(U){await(0,c.Vz)(U)}},wt=async(T,U)=>{try{const{asset:J,org_asset:oe}=await(0,o.NS)("/api/web/v3/asset_data/org/search_by_url",{image_url:T,org_cid:U});return{asset:J,org_asset:oe}}catch(J){await(0,c.Vz)(J)}},bt=async T=>{try{const{user_asset_group:U}=await(0,o.bX)("/api/library/v4/users/asset_groups/"+T.cid,{...T});return{user_asset_group:U}}catch(U){await(0,c.Vz)(U)}},ct=async T=>{try{const{org_asset_group:U}=await(0,o.bX)("/api/library/v4/orgs/asset_groups/"+T.cid,{...T});return{org_asset_group:U}}catch(U){await(0,c.Vz)(U)}},mt=async T=>{try{return await(0,o.bX)("/users/assets/"+T.asset_cid,{...T})}catch(U){await(0,c.Vz)(U)}},Tt=async T=>{try{return await(0,o.bX)("/orgs/assets/"+T.cid+"?org_cid="+T.org_cid,{...T})}catch(U){await(0,c.Vz)(U)}},lt=async T=>{let{cid:U,name:J,groupCid:oe}=T;try{await(0,o.NS)("/users/assets",{cid:U,name:J,group_cid:oe})}catch(ve){await(0,c.Vz)(ve)}},At=async T=>{let{orgCid:U,cid:J,name:oe,groupCid:ve}=T;try{const Ee=await(0,o.NS)("/orgs/assets",{cid:J,org_cid:U,name:oe,group_cid:ve});return Ee==null?void 0:Ee.cid}catch(Ee){await(0,c.Vz)(Ee)}},sn=async T=>{let{user_asset_group_cid:U,org_cid:J,org_asset_group_cid:oe}=T;try{return(0,o.NS)("/api/web/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:U,org_cid:J,org_asset_group_cid:oe})}catch(ve){await(0,c.Vz)(ve)}},yt=async T=>{let{orgCid:U="me",keyword:J,type:oe="all"}=T;const{assets:ve,combos:Ee,asset_groups:je,combo_groups:Ae,related_asset_groups:Ie,related_combo_groups:Be}=await(0,o.EE)("/api/web/v3/asset_data/search?org_cid="+U+"&keyword="+J+"&type="+oe);return{assets:ve.map(xe=>({cid:xe.asset_cid,...xe})),combos:Ee,assetGroups:je,comboGroups:Ae,relatedAssetGroups:Ie,relatedComboGroups:Be}},Kt=async T=>{try{const{user_asset_group:U,user_assets:J}=await(0,o.sE)("/users/asset_groups/"+T);return{user_asset_group:U,userAssets:J}}catch(U){await(0,c.Vz)(U)}},St=async T=>{try{const{org_asset_group:U,org_assets:J}=await(0,o.sE)("/orgs/asset_groups/"+T);return{org_asset_group:U,orgAssets:J}}catch(U){await(0,c.Vz)(U)}},jt=async T=>{await(0,o._E)("/users/assets/"+T)},gt=async T=>{await(0,o._E)("/orgs/assets/"+T.cid+"?org_cid="+T.org_cid)},Ct=async T=>{await(0,o._E)("/users/asset_groups/"+T)},Lt=async T=>{await(0,o._E)("/orgs/asset_groups/"+T)},Mt=T=>(0,o.EE)("/update_web_version?next_web_version="+T),ht=T=>(0,o._Z)("/preferences/update",{...T}),Ne=(T,U)=>(0,o.bX)("/api/library/v4/users/combo_groups/"+T,{...U}),Ot=T=>(U,J)=>{const oe={...J,org_cid:T};return(0,o.bX)("/api/library/v4/orgs/combo_groups/"+U,{...oe})},It=async(T,U)=>{try{return await(0,o.bX)("/api/library/v4/users/asset_groups/"+T,{...U})}catch(J){await(0,c.Vz)(J)}},ot=T=>async(U,J)=>{try{const oe={...J,org_cid:T};return await(0,o.bX)("/api/library/v4/orgs/asset_groups/"+U,{...oe})}catch(oe){await(0,c.Vz)(oe)}},Bt=async(T,U)=>{let J=null;try{const oe=await(0,o.sE)("/api/community/v1/workspace?category="+T+"&plabel="+U);oe!=null&&oe.market_templates&&(J=oe==null?void 0:oe.market_templates)}catch(oe){await(0,c.Vz)(oe)}return J},xt=async T=>{let U=null;try{const J=await(0,o.EE)("/flpak/w-p2wsearch?"+T);J!=null&&J.data&&(U=J)}catch(J){await(0,c.Vz)(J)}return U},Ht=async T=>{let U=null;try{const J=await(0,o.EE)("/flpak/w-p2meta/"+T);J!=null&&J.length&&(U=J)}catch(J){await(0,c.Vz)(J)}return U},Wt=async T=>{let{currentComboPanel:U,projectMetaCid:J}=T;try{await(0,o.Gf)("/flpak/w-migrate-"+U+"-combo-group/"+J+"?mode=normal")}catch(oe){await(0,c.Vz)(oe)}},R={requestProjectFullData:z,requestUserComboGroupList:C,requestOrgComboGroupList:ae,requestCreateUserComboGroup:N,requestCreateOrgComboGroup:q,requestDeleteUserComboGroup:X,requestUpdateUserComboGroup:Y,requestDeleteOrgComboGroup:ce,requestUpdateOrgComboGroup:pe,requestProjectTransferScreenGlue:fe,requestUserComboGroupDataFromCid:ue,requestOrgComboGroupDataFromCid:_e,requestSketchArtboardList:t.cH,requestSketchArtboardById:t.LD,requestSliceByArtboardId:t.s,requestSliceZipByArtboardId:t.LT,requestUserCommonGuidesData:w,updateUserCommonGuidesData:a,updateUser2203GuidesData:u,checkSharingPermission:t.b9,fetchProjectComment:t.Jk,fetchProjectScreenCommentThreadCountMap:t.bN,requestMarketTemplateDataForLibrary:de,requestMarketTemplateDataFromCid:ie,requestMarketTemplateItemListDataForLibrary:Me,requestMarketTemplateItemUnused:Pe,fetchCreateCommentThread:t.Q6,fetchCreateComment:t.C6,fetchDeleteCommentThread:t.bz,fetchDeleteComment:t.sv,updateProjectBasicsInfo:s,updateComboProjectBasicsInfo:l,getProjectAllVersions:m.Bl,postCreateNewVersion:m.nG,putUpdateVersionInfo:m.dp,postCheckoutVersion:m.UJ,getProjectOnlineCollaborators:m.go,deleteVersion:m.h_,requestProjectShare:E.o7,updateCurrentProjectShare:E.Of,getAllSharings:E.UC,trackViewProject:He,trackEditProject:at,requestUserAssetGroupList:Ft,requestOrgAssetGroupList:Dt,requestMeAssetDataBySearchUrl:vt,requestOrgAssetDataBySearchUrl:wt,requestUpdateUserAssetGroup:bt,requestUpdateOrgAssetGroup:ct,requestUpdateUserAsset:mt,requestUpdateOrgAsset:Tt,requestDeleteUserAsset:jt,requestDeleteOrgAsset:gt,requestDeleteUserAssetGroup:Ct,requestDeleteOrgAssetGroup:Lt,requestCreateOrgAsset:At,requestCreateUserAsset:lt,requestUserAssetGroupToOrgAssetGroup:sn,requestLibrarySearchData:yt,requestOrgMembers:v,requestAllLibraryAccess:D,requestDesignInitialData:i,requestBuiltinIconGroup:Se,collectProjectMetaDataMap:Te,requestConfigurationData:W,requestConfigurationSquareTopicData:h,requestWorkspaceConfiguration:k,requestConfigurationHotKeyWords:G,requestRecentKeywords:O,requestDeleteRecentKeywords:f,requestAddRecentKeywords:j,requestConfigurationWorkspaceLabels:K,requestUpdateRecentImportResources:y.Im,requestUserAssetsDataFromCid:Kt,requestOrgAssetsDataFromCid:St,requestUserStarredList:y.Wk,requestUserUsedResources:y.jj,requestStarredResources:y.kU,requestUnStarredResources:y.ZW,requestResourcesDetailData:y.Mv,requestRecentResourcesList:y.pS,requestHotIcons:y.w3,requestResourceHisotry:y.D4,requestResourcesListForSource:y.AY,requestIconGroupIconDataForCid:be,requestResourcesListByCategory:y._l,requestUpdateScreenAlign:b,requestUpdateWebVersion:Mt,requestUpdatePreference:ht,requestSortUserAssetGroup:It,requestSortOrgAssetGroup:ot,requestSortUserComboGroup:Ne,requestSortOrgComboGroup:Ot,requestFindMarketTemplates:Bt,requestSearchResourcesData:xt,requestResourcesDetails:Ht}},76333:(F,x,e)=>{"use strict";e.d(x,{C6:()=>D,Jk:()=>s,LD:()=>P,LT:()=>a,Q6:()=>M,b9:()=>u,bN:()=>l,bz:()=>v,cH:()=>p,s:()=>w,sv:()=>W});var t=e(44766),m=e(25797),y=e(73669),E=e(46295);const o=f=>{let{isVersions:j}=f;return{requestPreviewSetting:r,requestPreviewInitialData:c,requestPreviewEmbedInitial:d,requestProjectFullDataByAccessToken:i,requestSketchArtboardList:p,requestSketchArtboardById:P,requestSliceByArtboardId:w,requestSliceZipByArtboardId:a,checkSharingPermission:u,fetchProjectComment:s,fetchProjectScreenCommentThreadCountMap:l,requestProjectShare:j?requestProjectShareVersion:requestProjectSharePreview,requestUserCommonGuidesData:I,updateUserCommonGuidesData:n,fetchCreateCommentThread:M,fetchCreateComment:D,fetchDeleteCommentThread:v,fetchDeleteComment:W,updateProjectBasicsInfo:h,updateComboProjectBasicsInfo:k,requestPreviewInitialData4ReadOnlyV2:g}},I=()=>fetchGetJSON("/api/web/v3/guide/guide_data"),n=f=>fetchPutHead("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:f}}),c=async f=>{let{projectAccessToken:j,projectEncryptedPassword:K}=f;const C=K?"&password="+K:"";return(0,m.EE)("/api/web/v3/workspace/design/readonly_initial?access_token="+j+C)},g=async f=>{let{projectAccessToken:j,view_mode:K}=f;return fetchGetJSON("/api/flat/web_v1/preview/initial?access_token="+j+"&view_mode="+K)},r=f=>{let{projectAccessToken:j,password:K}=f;return(0,m.EE)("/api/web/v3/workspace/preview/setting?access_token="+j+"&password="+(K||""))},_=f=>{let{projectAccessToken:j,password:K}=f;return(0,m.EE)("/api/flat/web_v1/preview/setting?access_token="+j+"&password="+(K||""))},d=f=>{let{projectAccessToken:j}=f;return(0,m.EE)("/api/web/v3/workspace/preview/embed_initial?access_token="+j)},i=async f=>{let{projectAccessToken:j,projectEncryptedPassword:K,userLocale:C,projectVersion:N}=f;const b=await(0,t.lA)({projectBasicAccessToken:j,projectBasicEncryptedPassword:K,userLocale:C,projectVersion:N});if(!b)return;const{projectMetaList:[X],screenGlueList:Y,screenMetaList:ae,projectScreenObjectList:q,projectBasic:ce,screenAlignList:pe}=b;return{projectMeta:X,screenGlueList:Y,screenMetaList:ae,projectScreenObjectList:q,projectBasic:ce,screenAlignList:pe}},p=f=>(0,m.EE)("/api/web/v3/project_data/artboards?project_cid="+f),P=f=>(0,m.EE)("/api/web/v3/project_data/artboards/layers?artboard_id="+f),w=f=>(0,m.EE)("/api/web/v3/project_data/artboards/slices_json?artboard_id="+f),a=f=>{let{artboardId:j,encryptedPassword:K}=f;return(0,m.EE)("/api/web/v3/project_data/artboards/slices_zip?artboard_id="+j+"&encrypted_password="+K)},u=async f=>{try{const{result:j}=await(0,m.EE)("/api/accesses/v4/project/"+f+"/permission_check?permission=P:update");return j}catch(j){return!1}},s=f=>{let{projectCid:j,projectEncryptedPassword:K,accessToken:C}=f;return(0,m.EE)("/api/prototype/point_comments/v3/comments?project_cid="+j+"&password="+(K||"")+"&access_token="+C)},l=f=>{let{projectAccessToken:j,projectEncryptedPassword:K}=f;return(0,m.EE)("/api/web/v3/workspace/preview/"+j+"/screen_comments_thread_count_map?encrypted_password="+(K||""))},M=f=>(0,m._Z)("/api/prototype/point_comments/v3/commentthreads/"+f.cid+".json",{...f}),D=f=>(0,m._Z)("/api/prototype/point_comments/v3/comments/"+f.cid+".json",{...f}),v=f=>(0,m.Bh)("/api/prototype/point_comments/v3/commentthreads/"+f+".json"),W=f=>(0,m.Bh)("/api/prototype/point_comments/v3/comments/"+f+".json"),h=(f,j)=>fetchPutJSON("/api/web/v3/project_upper/project_basics/"+f,{...j}),k=(f,j)=>fetchPutJSON("/api/flat/web_v1/fcg/"+f,{...j}),G=(f,j)=>fetchGetJSON("/api/web/v3/project_upper/project_basics/auth/"+f+"?password="+j);var O={requestPreviewSetting:r,requestPreviewSettingV2:_,requestPreviewInitialData:c,requestProjectFullDataByAccessToken:i,requestSketchArtboardList:p,requestSketchArtboardById:P,requestSliceByArtboardId:w,requestSliceZipByArtboardId:a,checkSharingPermission:u,requestPreviewEmbedInitial:d,fetchProjectComment:s,fetchProjectScreenCommentThreadCountMap:l,requestProjectShare:y.o7,fetchCreateCommentThread:M,fetchCreateComment:D,fetchDeleteCommentThread:v,fetchDeleteComment:W}},46295:(F,x,e)=>{"use strict";const t={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},m=async()=>({projectShareMock:t})},7221:(F,x,e)=>{"use strict";e.d(x,{AY:()=>g,D4:()=>P,Im:()=>p,Mv:()=>c,Wk:()=>E,ZW:()=>n,_l:()=>d,jj:()=>o,kU:()=>I,pS:()=>r,w3:()=>_});var t=e(25797),m=e(35517);const y=300,E=async function(w){w===void 0&&(w="");const a=1;let u=[];try{const s=await(0,t.sE)("/api/community/v1/workspace/my_star?page="+a+(w&&"&category="+w)+"&page_size="+y);s&&(u=s==null?void 0:s.market_templates)}catch(s){await(0,m.Vz)(s)}return u.map(s=>({...s,is_star:!0}))},o=w=>(0,t.Gf)("/api/community/v1/market_template/use/"+w),I=async w=>{try{await(0,t.Mn)("/api/community/v1/market_template/star/"+w)}catch(a){await(0,m.Vz)(a)}},n=async w=>{try{await(0,t.$I)("/api/community/v1/market_template/star/"+w)}catch(a){await(0,m.Vz)(a)}},c=async function(w,a){a===void 0&&(a=!0);let u;try{u=await(0,t.EE)("/api/community/v1/market_template/"+w)}catch(s){a&&(0,m.KT)(s)}return u},g=function(w){w===void 0&&(w="");const a=1;return(0,t.xi)("/api/community/v1/market_template?is_from_workspace=true&page="+a+w+"&page_size="+y)},r=async()=>{let w;try{w=await(0,t.EE)("/flpak/w-p2recent")}catch(a){return await(0,m.Vz)(a),a}return w},_=()=>(0,t.EE)("/api/community/v1/hot_icons"),d=w=>{let{category:a="combo_group",keyword:u=""}=w;return(0,t.EE)("/api/community/v1/es/basic_resource/search_"+a+"?q="+encodeURIComponent(u))},i={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},p=w=>{let{projectUpperType:a="",projectUpperCid:u="",itemCid:s=""}=w;return(0,t.Mn)("/api/community/v1/recent_template",{project_upper_type:i[a]||a,project_upper_cid:u,item_cid:s})},P=()=>(0,t.EE)("/api/community/v1/recent_template")},27783:(F,x,e)=>{"use strict";e.d(x,{bq:()=>o,qw:()=>m,u1:()=>I,v8:()=>E});var t=e(11685);const m={[t.l.Canvas]:{type:t.l.Canvas,name:"rResCanvas",svg_icon:"rResCanvas",icon_name:"rResCanvas"},[t.l.WRichText]:{type:t.l.WRichText,name:"rich_text",svg_icon:"text",icon_name:"text"},[t.l.WIosCB]:{name:"ios_check"},[t.l.WAndroidCB]:{name:"android_check"},[t.l.WIOSSwitch]:{type:t.l.WIOSSwitch,name:"ios_switch",svg_icon:"ios_switch",icon_name:"toggle"},[t.l.WAndroidSwitch]:{type:t.l.WAndroidSwitch,name:"android_switch",svg_icon:"android_switch",icon_name:"toggle"},[t.l.WSearchBar]:{name:"search_bar",icon_name:"search-input"},[t.l.WUnifiedKeyboard]:{name:"keyboard",icon_name:"keyboard"},[t.l.WIphoneSB]:{name:"ios_status_bar",icon_name:"battery"},[t.l.WIphoneXSB]:{type:t.l.WIphoneXSB,name:"iphone_x_status_bar",svg_icon:"iphone_x_status_bar",icon_name:"battery"},[t.l.WAndroidSB]:{name:"android_status_bar",icon_name:"battery"},[t.l.WTabItem]:{name:"tab_item",icon_name:"icon-label"},[t.l.WRect]:{type:t.l.WRect,name:"rounded_rect",svg_icon:"rectangle",icon_name:"rectangle"},[t.l.WPolygon]:{type:t.l.WPolygon,name:"polygon",svg_icon:"polygon",icon_name:"polygon"},[t.l.WStar]:{type:t.l.WStar,name:"star",svg_icon:"star",icon_name:"star"},[t.l.WOval]:{type:t.l.WOval,name:"circle_rect",svg_icon:"circle",icon_name:"circle"},[t.l.WTable]:{type:t.l.WTable,name:"table",svg_icon:"table",icon_name:"table"},[t.l.WTriangleB]:{type:t.l.WTriangleB,name:"triangleb",svg_icon:"eq_triangle",icon_name:"triangle-top"},[t.l.WTriangleTL]:{type:t.l.WTriangleTL,name:"triangletl",svg_icon:"triangle",icon_name:"triangle-left-bottom"},[t.l.WLine]:{type:t.l.WLine,name:"line",svg_icon:"line",icon_name:"horizontal-line"},[t.l.WButton]:{type:t.l.WButton,name:"button",svg_icon:"button",icon_name:"btn"},[t.l.WImage]:{type:t.l.WImage,name:"image_view",svg_icon:"image",icon_name:"img"},[t.l.WLR]:{type:t.l.WLR,name:"lr",svg_icon:"linkarea",icon_name:"link"},[t.l.WWebpage]:{type:t.l.WWebpage,name:"webpage",svg_icon:"webpage",icon_name:"webpage"},[t.l.WSticky]:{type:t.l.WSticky,name:"sticky",svg_icon:"note",icon_name:"sticker"},[t.l.WMTextInput]:{type:t.l.WMTextInput,name:"mtext_input",svg_icon:"input",icon_name:"input"},[t.l.WMTextArea]:{type:t.l.WMTextArea,name:"mtextarea",svg_icon:"textarea",icon_name:"textarea"},[t.l.WMSelect]:{type:t.l.WMSelect,name:"mselect",svg_icon:"select",icon_name:"select"},[t.l.WMFileInput]:{type:t.l.WMFileInput,name:"mfile_input",svg_icon:"file",icon_name:"file"},[t.l.WMTooltip]:{type:t.l.WMTooltip,name:"mtooltip",svg_icon:"dialog",icon_name:"tooltip"},[t.l.WMapView]:{type:t.l.WMapView,name:"map_view",svg_icon:"map",icon_name:"map"},[t.l.WCarousel]:{type:t.l.WCarousel,name:"carousel",svg_icon:"carousel",icon_name:"carousel"},[t.l.WSlider]:{type:t.l.WSlider,name:"slider",svg_icon:"slider",icon_name:"slider"},[t.l.WCollapse]:{type:t.l.WCollapse,name:"collapse",svg_icon:"collapse",icon_name:"collapse"},[t.l.WArrow]:{type:t.l.WArrow,name:"arrow",svg_icon:"arrow",icon_name:"arrow"},[t.l.WBarChart]:{type:t.l.WBarChart,name:"bar_chart",svg_icon:"bar_chart",icon_name:"bar_chart"},[t.l.WHorizontalBarChart]:{type:t.l.WHorizontalBarChart,name:"horizontal_bar_chart",svg_icon:"horizontal_bar_chart",icon_name:"horizontal_bar_chart"},[t.l.WLineChart]:{type:t.l.WLineChart,name:"line_chart",svg_icon:"line_chart",icon_name:"line_chart"},[t.l.WLineAreaChart]:{type:t.l.WLineAreaChart,name:"line_area_chart",svg_icon:"line_area_chart",icon_name:"line_area_chart"},[t.l.WPieChart]:{type:t.l.WPieChart,name:"pie_chart",svg_icon:"pie_chart",icon_name:"pie_chart"},[t.l.WRingChart]:{type:t.l.WRingChart,name:"ring_chart",svg_icon:"ring_chart",icon_name:"ring_chart"},[t.l.WMixedBarLineChart]:{type:t.l.WMixedBarLineChart,name:"mixed_bar_line_chart",svg_icon:"mixed_bar_line_chart",icon_name:"mixed_bar_line_chart"},[t.l.WProgressChart]:{type:t.l.WProgressChart,name:"progress_chart",svg_icon:"progress_chart",icon_name:"progress_chart"},[t.l.WRadarChart]:{type:t.l.WRadarChart,name:"radar_chart",svg_icon:"radar_chart",icon_name:"radar_chart"},[t.l.WAudio]:{type:t.l.WAudio,name:"audio",svg_icon:"audio",icon_name:"audio"},[t.l.WVideo]:{type:t.l.WVideo,name:"video",svg_icon:"video",icon_name:"video"},[t.l.WQRCode]:{type:t.l.WQRCode,name:"qrcode",svg_icon:"qrcode",icon_name:"qrcode"},[t.l.WPlaceholder]:{type:t.l.WPlaceholder,name:"placeholder",svg_icon:"placeholder",icon_name:"placeholder"},[t.l.WSegmentedControl]:{type:t.l.WSegmentedControl,name:"segmented_control",svg_icon:"segmented_control",icon_name:"segmented_control"},[t.l.WSelectionControlRadio]:{type:t.l.WSelectionControlRadio,name:"selection_control_radio",svg_icon:"selection_control_radio",icon_name:"selection_control"},[t.l.WSelectionControlCheckbox]:{type:t.l.WSelectionControlCheckbox,name:"selection_control_checkbox",svg_icon:"selection_control_checkbox",icon_name:"selection_control"},[t.l.WDigitalStepper]:{type:t.l.WDigitalStepper,name:"digital_stepper",svg_icon:"digital_stepper",icon_name:"digital_stepper"},[t.l.WPaginationMobile]:{type:t.l.WPaginationMobile,name:"pagination_mobile",svg_icon:"pagination_mobile",icon_name:"pagination_mobile"},[t.l.WPaginationWeb]:{type:t.l.WPaginationWeb,name:"pagination_web",svg_icon:"pagination_web",icon_name:"pagination_web"},[t.l.WDropMenu]:{type:t.l.WDropMenu,name:"drop_menu",svg_icon:"drop_menu",icon_name:"drop_menu"},[t.l.WNavigationMenu]:{type:t.l.WNavigationMenu,name:"navigation_menu",svg_icon:"navigation_menu",icon_name:"navigation_menu"},[t.l.WNavigationMenuV]:{type:t.l.WNavigationMenuV,name:"navigation_menu_v",svg_icon:"navigation_menu_v",icon_name:"navigation_menu_v"},[t.l.WNavigationMenuH]:{type:t.l.WNavigationMenuH,name:"navigation_menu_h",svg_icon:"navigation_menu_h",icon_name:"navigation_menu_h"},[t.l.WTabs]:{type:t.l.WTabs,name:"tabs",svg_icon:"tabs",icon_name:"tabs"},[t.l.WMobileTabBars]:{type:t.l.WMobileTabBars,name:"mobile_tab_bars",svg_icon:"mobile_tab_bars",icon_name:"mobile_tab_bars"},[t.l.WButtonSolid]:{type:t.l.WButtonSolid,name:"button_solid",svg_icon:"button_solid",icon_name:"btn"},[t.l.WTear]:{type:t.l.WTear,name:"annotate",svg_icon:"tear",icon_name:"annotate"}},y={rich_text:{name:"rich_text",svg_icon:"rich-text"},rounded_rect:{name:"rounded_rect",svg_icon:"rounded-rect"},circle_rect:{name:"circle_rect",svg_icon:"circle-rect"},line:{name:"line",svg_icon:"line"},image_view:{name:"image_view",svg_icon:"image-view"},sticky:{name:"sticky",svg_icon:"sticky"},lr:{name:"lr",svg_icon:"lr"},wLr:{name:"wLr",svg_icon:"lr"},annotate:{name:"annotate",svg_icon:"annotate"},button:{name:"button",svg_icon:"button"},button_solid:{name:"button_solid",svg_icon:"button-solid"},mtext_input:{name:"mtext_input",svg_icon:"mtext-input"},drop_menu:{name:"drop_menu",svg_icon:"drop-menu"},table:{name:"table",svg_icon:"table"},arrow:{name:"arrow",svg_icon:"arrow"},placeholder:{name:"placeholder",svg_icon:"placeholder"},mtextarea:{name:"mtextarea",svg_icon:"mtext-area"},wMTextarea:{name:"mtextarea",svg_icon:"mtext-area"},navigation_menu:{name:"navigation_menu",svg_icon:"navigation-menu"},segmented_control:{name:"segmented_control",svg_icon:"segmented-control"},carousel:{name:"carousel",svg_icon:"carousel"}};Object.values(m).forEach(c=>c.isMockingBotWidget=!0),Object.values(y).forEach(c=>c.isMockingBotWidget=!0);const E=["mtext_input","mtextarea","mselect","button","button_solid","text_field","mtooltip","rounded_rect","circle_rect","image_view","line","arrow","label","text_view","icon_button","svg_icon_button","svg_icon_path","placeholder","polygon","star","segmented_control","collapse","digital_stepper","pagination_mobile","pagination_web","drop_menu"],o=["mtext_input","mtextarea","rounded_rect","button","button_solid"],I=["mtext_input","mtextarea","mselect","button","button_solid","text_field","rounded_rect","circle_rect","image_view","line","arrow","label","text_view","icon_button","hr","ve","svg_icon_button","svg_icon_path","polygon","star","placeholder","segmented_control","collapse","digital_stepper","pagination_mobile","pagination_web","drop_menu"],n=null},9795:(F,x,e)=>{"use strict";e.d(x,{F2:()=>r,fS:()=>_});var t=e(67041),m=e(18030),y=e(2568),E=e(76188),o=e(57237),I=e(99284),n=e(47416);const c={fa:"Font Awesome",md:"Material Design",mb:"MockingBot",ci:"Custom Icons",fa5:"Font Awesome 5",antOutline:"Ant Icon OutLine",antFill:"Ant Icon Fill"},g=[{key:"md",data:y},{key:"mb",data:E},{key:"ci",data:o},{key:"fa5",data:m},{key:"antFill",data:I},{key:"antOutline",data:n}],r={};g.forEach(d=>{let{key:i,data:p}=d;return p.forEach(P=>{P.type=i,i==="fa5"?r[i+"-"+P.id+"-"+P.lib]=P:r[i+"-"+P.id]=P})});const _={};t.forEach(d=>{d.type="fa",_["fa-"+d.id]=d})},68557:(F,x,e)=>{"use strict";e.d(x,{G5:()=>n,_7:()=>E,em:()=>o,lo:()=>I});var t=e(37506);const m=c=>{const[g,r,_,d,i,p,P,w]=c;return{id:g,cat:r,view_box:_,path:d,keywords:i,lib:p,fill:P,stroke:w}},y=c=>{const g={};c.forEach(_=>{const{type:d}=_;g[d]=g[d]||[],g[d].push(_)});const r=[];return Object.entries(I).forEach(_=>{let[d,i]=_;g[d]&&r.push({key:d,name:i,icons:g[d]})}),r},E=(c,g)=>{const r={},_={},d=[];r.All=d;for(const i of c){const p=m(i);p.cid=(0,t._G)(),p.icongroup=!0,p.type=g,d.push(p);const{cat:P}=p;if(_[p.cid]=p,P)for(const w of P.split(","))(r[w]||(r[w]=[])).push(p)}return{iconGroupData:r,iconData:_}},o={"Font Awesome":"fa","Font Awesome 5":"fa5","Material Design":"md",MockingBot:"mb",Mockitt:"mb","Custom Icons":"ci","Ant Icon OutLine":"antOutline","Ant Icon Fill":"antFill",Zenticons:"ze","Hawcons Stroke":"haStroke","Hawcons Fill":"haFill","RemixIcon Line":"riLine","RemixIcon Fill":"riFill","Icon Font":"if","Strawberry Line":"stLine",Strawberry:"st",Icofont:"if",iconfont:"if",IconPark:"iconPark","Semi Design":"semiDesign","Arco Design":"arcoDesign"},I={fa:"Font Awesome",md:"Material Design",mb:"Mockitt",ci:"Custom Icons",fa5:"Font Awesome 5",antOutline:"Ant Icon OutLine",antFill:"Ant Icon Fill",ze:"Zenticons",haStroke:"Hawcons Stroke",haFill:"Hawcons Fill",riLine:"RemixIcon Line",riFill:"RemixIcon Fill",if:"Icon Font",stLine:"Strawberry Line",st:"Strawberry",iconPark:"IconPark",semiDesign:"Semi Design\u56FE\u6807\u5E93",arcoDesign:"Arco Design"},n=["Icon Font","Icofont","iconfont"]},32380:(F,x,e)=>{"use strict";e.d(x,{H:()=>E,m:()=>y});var t=e(25797),m=e(69930);const y=function(o){var I;o===void 0&&(o="");const{isExperience:n,isLoggedExperience:c}=(I=MB.global)==null?void 0:I.designOptions;if(o==="isSave"){if(n)return MB.global.popupHelper.loginAsync({onConfirm:E}),!0;if(c){const g=MB.getRootProject&&MB.getRootProject();return MB.global.popupHelper.teamSelectModalAsync({projectCid:g==null?void 0:g.cid,onConfirm:r=>m.R.api.experienceTriggerAllSaveAfterLogin(r)}),!0}else return!1}else return n?(MB.global.popupHelper.loginAsync({onConfirm:E}),!0):!1},E=async()=>{const{user:o}=await(0,t.EE)("/api/web/v3/initial");(0,t._Z)("/api/web/v3/guide/complete_workspace_guide"),MB.user=o,Object.assign(MB.global.designOptions,{isExperience:!1,isLoggedExperience:!0}),MB.action("update:design:options",{designOptions:{...MB.global.designOptions}}),MB.action("current:update:state",{currentUser:o});const I=MB.getRootProject&&MB.getRootProject();MB.global.popupHelper.teamSelectModalAsync({projectCid:I==null?void 0:I.cid,onConfirm:n=>m.R.api.experienceTriggerAllSaveAfterLogin(n)})}},95534:(F,x,e)=>{"use strict";e.d(x,{Z:()=>n});var t=e(20018),m=e(7485),y=e(7627),E=e.n(y),o=e(14974),I=e(35269);class n extends m.PureComponent{constructor(){super(...arguments),(0,t.Z)(this,"setComponentRef",g=>this.modal=g)}componentDidMount(){const{dispatch:g,onConfirm:r}=this.props,_=this;window.onmessage=async function(d){d.data==="loginSuccess"?(typeof g=="function"&&g({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),r()):d.data==="close"&&_.modal.close()}}render(){const{isOpen:g,onClose:r,type:_,source:d}=this.props,i=location.origin+"/embed/auth_box?type="+_+(d?"&source="+d:"");return(0,I.jsx)(o.B,{isOpen:g,onClose:r,ref:this.setComponentRef,className:"login-modal",children:(0,I.jsx)("iframe",{src:i})})}}(0,t.Z)(n,"propTypes",{source:E().string,isOpen:E().bool,type:E().string,dispatch:E().func,onConfirm:E().func,onClose:E().func}),(0,t.Z)(n,"defaultProps",{type:"signin"})},59217:(F,x,e)=>{"use strict";e.d(x,{t:()=>I});var t=e(70103),m=e(24978),y=e(33668),E=e(79447),o=e(24455);const I=n=>{const c=(0,m.gk)(),g=(0,t.MT)(y.Z,(0,t.md)(c.middleware));c.setEntryMap(E.T),n.getSelectedTrees=()=>(0,o.nAE)(g.getState()),n.__store__=g,n.action=(_,d)=>g.dispatch({type:_,payload:d}),n.scale=()=>(0,o.yZr)(g.getState()),n.getNextWidgetZ=()=>(0,o.YTF)(g.getState()),n.getCurrentProjectMeta=()=>(0,o.e4v)(g.getState()),n.getCurrentScreen=()=>(0,o.CL6)(g.getState()),n.getCurrentDesignOptions=()=>(0,o.DTi)(g.getState()),n.getRootProject=()=>(0,o.OnT)(g.getState()),n.getScreenDataMap=()=>(0,o.giy)(g.getState()),n.getSelectionItems=()=>(0,o.dAH)(g.getState()),n.getRootItems=()=>(0,o.ZVZ)(g.getState());const r=_=>{let i=Date.now(),p=!1,P;return async function(w){w===void 0&&(w=!0);const a=p;if(p=w,a===!1&&p===!0&&(i=Date.now(),clearTimeout(P)),p===!0)_(!0);else{const u=i+1e3-Date.now();P=setTimeout(()=>{_(!1)},u)}}};return n.setSaving=r(_=>{g.dispatch({type:"set:saving",payload:{saving:_}})}),n.renderLinks=()=>{g.dispatch({type:"entry:refresh:link-list"})},n.renderScreenList=()=>{g.dispatch({type:"entry:update:screen:list"})},n.workspaceAlertAsync=_=>{let{title:d,desc:i,confirmText:p,renderDesc:P}=_;return new Promise(w=>{g.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,canCancel:!1,title:d,desc:i,confirmText:p,renderDesc:P,onCancel:()=>w(!1),onConfirm:()=>w(!0)}})})},n.workspaceConfirmAsync=_=>{let{title:d,desc:i,className:p,confirmText:P,cancelText:w,renderDesc:a}=_;return new Promise(u=>{g.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,className:p,title:d,desc:i,confirmText:P,cancelText:w,renderDesc:a,onCancel:()=>u(!1),onConfirm:()=>u(!0)}})})},n.DesignLibraryConfirmAsync=_=>{let{title:d,desc:i,className:p,confirmText:P,cancelText:w,onModalConfirm:a,renderDesc:u}=_;return new Promise(s=>{g.dispatch({type:"modal:update:confirm:state",payload:{isOpen:!0,className:p,title:d,desc:i,confirmText:P,cancelText:w,renderDesc:u,onCancel:()=>s(!1),onConfirm:()=>{s(!0),a()}}})})},g}},47662:(F,x,e)=>{"use strict";e.d(x,{J:()=>y});var t=e(20209),m=e(40769);const y=E=>{(0,t.zO)({defaultStyle:m.P,getStyleStr:{fontFamily:/modao.cc/.test(E)?o=>o+", sans-serif":o=>o}})}},23555:(F,x,e)=>{"use strict";e.d(x,{Z:()=>E});var t=e(89870),m=e(77200),y=e(98589);const E=(0,t.$j)(o=>{const I=(0,m.kc)(o),n=(0,m.GP)(o),{isWonderShare:c,isOnPremises:g}=(0,m.CD)(o),r=(0,m.Ds)(o);return{user:(0,m.ts)(o),mode:r,previewOptions:n,previewSetting:I,isWonderShare:c,isOnPremises:g,isHiddenToolBar:(0,m.qe)(o)}})(y.Z)},77200:(F,x,e)=>{"use strict";e.d(x,{Bi:()=>Me,CD:()=>P,CL:()=>X,Ci:()=>Se,Ds:()=>ie,Dx:()=>He,EB:()=>ce,EK:()=>C,EZ:()=>de,Eg:()=>Ct,Ei:()=>Te,GP:()=>p,H9:()=>Ot,HR:()=>_e,IR:()=>z,JH:()=>Wt,Kv:()=>gt,M2:()=>l,N2:()=>q,N7:()=>K,NK:()=>Pe,Nu:()=>Tt,Ny:()=>At,Rp:()=>j,S7:()=>ae,T4:()=>wt,Uq:()=>lt,V2:()=>mt,W9:()=>s,Wf:()=>xt,XL:()=>ct,_L:()=>u,aS:()=>$e,cM:()=>f,d9:()=>Oe,e4:()=>G,fq:()=>jt,gh:()=>D,gi:()=>St,gz:()=>yt,it:()=>ot,jQ:()=>Je,jX:()=>It,kc:()=>i,ki:()=>ue,ku:()=>O,nB:()=>bt,nS:()=>v,nV:()=>pe,oD:()=>at,os:()=>Ne,pt:()=>w,px:()=>Lt,qe:()=>W,rJ:()=>a,tF:()=>d,ts:()=>r,uX:()=>be,v8:()=>b,vo:()=>k,wp:()=>fe,yB:()=>vt,yT:()=>Y,yZ:()=>ht,z7:()=>_,zI:()=>Dt});var t=e(77646),m=e(31033),y=e(18166),E=e(29661),o=e(54635),I=e(41768),n=e(11685),c=e(63697),g=e(38133);const r=R=>R.model.user,_=R=>R.container.common.scale,d=R=>R.container.common.screenCommentThreadCountMap,i=R=>R.container.previewSetting,p=R=>R.container.common.previewOptions,P=R=>R.container.common.designOptions,w=R=>R.container.common.guideOptions,a=R=>R.container.common.experienceSnapshotUrlMap,u=R=>R.container.common.offset,s=R=>R.container.common.keyFlags.isSpaceDown,l=R=>R.container.common.keyFlags.isShiftDown,M=R=>R.container.common.previewOptions.isVersionEmbedded,D=R=>R.container.common.preference.theme,v=R=>R.container.common.panelHeight,W=R=>R.container.common.isHiddenToolBar,h=R=>R.model.screens,k=R=>R.container.current.rootProject,G=R=>R.container.current.projectMeta,O=R=>R.container.current.screenGlue,f=R=>R.container.current.projectShare,j=R=>R.container.current.previewCommonGuidesHasShown,K=R=>R.container.current.previewCommonGuidesToBeShown,C=R=>R.container.current.screenMetaList,N=R=>R.container.current.refreshCount,b=R=>!0,X=R=>R.container.current.screenMeta,Y=R=>R.container.current.isPanelPreviewMode,ae=R=>R.container.current.isCommunityComboPreview,q=R=>R.container.current.panelPreviewBasketKey,ce=R=>R.container.current.isPreviewCombo,pe=R=>R.container.current.folderStore,fe=R=>R.container.current.folderTreeData,_e=R=>R.container.previewSetting.simulatorType,ue=R=>R.container.previewSetting.isShowShell,z=R=>R.container.previewSetting.isDummyApk,ie=R=>R.container.previewSetting.toolbarActiveItem,de=R=>R.container.previewSetting.isStickyShow,Pe=R=>R.container.previewSetting.isStickyAvailable,Me=R=>R.container.previewSetting.isHighlight,Se=R=>R.container.previewSetting.isShowOfflineModal,be=R=>R.container.previewSetting.isAppOffline,Te=R=>R.container.previewSetting.isAppCacheNeedUpToDate,Oe=R=>R.container.previewSetting.isStatePanelShow,Je=R=>R.container.previewSetting.isMinimized,He=R=>R.container.annotatePanel.annotatePanelShow,$e=R=>R.container.annotatePanel.annotateSelectWidgetCid,at=R=>R.container.annotatePanel.annotatePanelWidth,Ft=R=>R.container.annotatePanel.annotateHoverCid,Dt=R=>R.container.comment.commentThreads,vt=R=>R.container.comment.comments,wt=R=>R.container.sharingManager.isShowSharingManager,bt=(0,t.P1)([ie],R=>({isPreview:R==="preview",isInspect:R==="inspect",isComment:R==="comment"})),ct=R=>R.container.previewSetting.isFullScreenMode,mt=R=>R.container.previewSetting.isShowColorPicker,Tt=R=>R.container.previewSetting.theme,lt=R=>R.container.runner,At=R=>R.container.runner.activeCid,sn=(0,t.P1)([lt],R=>{var T;const{activeCid:U,screenInfoMap:J}=R;return(T=J[U])==null?void 0:T.canvasId}),yt=(0,t.P1)([ie],R=>R===m.nh||R===m.Ab),Kt=(0,t.P1)([ie,_e],(R,T)=>[m.nh,m.Ab].includes(R)||T!=="device"),St=(0,t.P1)([h],R=>{const T={};return R.forEach(U=>T[U.cid]=U),T}),jt=R=>R.container.current.screenTreeData,gt=(0,t.P1)([h,G,O,f],(R,T,U,J)=>{if((0,g.ax)()){const{screen_visible_list:ve,screen_visible_switch:Ee}=J;if(Ee){const{screenTreeData:je}=(0,E.$)(ve);return je}}const{screenTreeData:oe}=(0,E.pb)();return oe}),Ct=(0,t.P1)([gt],R=>(0,y.qv)(R).filter(T=>T.bunch===n.l.RbPage)),Lt=(0,t.P1)([Ct],R=>R.filter(T=>!(0,y.Vx)(T))),Mt=R=>R.container.common.viewport,ht=R=>R.container.common.scale,Ne=R=>R.container.common.offset,Ot=R=>R.container.common.currentScreenOriginOffset,It=R=>R.container.common.hasChangedScaleManually,ot=(0,t.P1)([lt,Mt,ht,O,fe],(R,T,U,J,oe)=>{let ve=[oe,...oe.children];const{width:Ee,height:je}={};let Ae=1/0,Ie=1/0,Be=-1/0,xe=-1/0;const{x:Ue,y:Ye,w:dt,h:pt}=(0,c.Ud)(ve);Ae=Ue,Be=Ue+dt,Ie=Ye,xe=Ye+pt,Ae=Math.min(Ae*U/100,-T.width*3/2),Be=Math.max(Be*U/100,T.width*3/2),Ie=Math.min(Ie*U/100,-T.height*3/2),xe=Math.max(xe*U/100,T.height*3/2);const Rt=J.height>je?J.height:je,Vt=J.width>Ee?J.width:Ee;let Zt=Math.max(-Ae,Be,0),zt=Math.max(-Ie,xe,0);const an=T.height*100/Rt,Xt=T.width*100/Vt;return U>Xt&&(Zt+=(U-Xt)*5),U>an&&(zt+=(U-an)*10),Bt(Zt*2,zt*2)}),Bt=(0,o.LL)((R,T)=>({x:R,y:T})),xt=(0,t.P1)([D,k],(R,T)=>T.attr instanceof Object&&T.attr.bgcolor||I.I3[R]),Ht=(0,t.P1)([X,Mt,ht,Ne,O],(R,T,U,J,oe)=>{if(!T)return{canvasTop:0,canvasLeft:0};const[ve,Ee]=[R.width,R.orientation==="portrait"?oe.height:oe.width],je=Math.round(J.x),Ae=Math.round(J.y);return{canvasTop:T.top+Math.floor((T.height-Ee*U/100)/2)+Ae,canvasLeft:Math.floor((window.innerWidth-ve*U/100)/2)+je}}),Wt=(0,t.P1)([X,lt,ie,$e,He,de],(R,T,U,J,oe,ve)=>{let{screenInfoMap:Ee}=T;return{annotateSortList:[],show:!1}})},46807:(F,x,e)=>{"use strict";e.d(x,{Z:()=>E});var t=e(89870),m=e(77200),y=e(22098);const E=(0,t.$j)(o=>{const I=(0,m.kc)(o),n=(0,m.GP)(o),c=(0,m.S7)(o),g=(0,m.EB)(o);return{previewOptions:n,previewSetting:I,isCommunityComboPreview:c,isPreviewCombo:g}})(y.Z)},50589:(F,x,e)=>{"use strict";var t=e(46198),m=e(71789),y=e(7324),E=e(7485),o=e(39110),I=e(21202);const n={"sk-bouncedelay":"ZBrU7Yes6CevGkk6hArA"};window.$=window.jQuery=e(8435),e(39488),e(64615),e(63371),e(51575),e(11460);var c=e(14730),g=e(46807),r=e(20018),_=e(14049),d=e(16335),i=e(59780),p=e(89870),P=e(26750),w=e(34788),a=e.n(w),u=e(88662),s=e(60747),l=e(33258),M=e(41768),D=e(7627),v=e.n(D);const W={shell:"PM26Ljznui8RJWuxUXab"};var h=e(35269);class k extends E.PureComponent{render(){const{isHTMLZip:S,project:A,shellType:L,isLandscape:H}=this.props,V=G(L,A,H,S),Z=L==="device"&&V===null?"none":L;return(0,h.jsx)("div",{className:W.shell+" "+Z,style:V})}}k.propTypes={isHTMLZip:v().bool,project:v().object,shellType:v().string,isLandscape:v().bool};function G(B,S,A,L){switch(B){case"device":{const H=(0,s.Zl)(S,B);if(!H.bg)return null;const V=A?H.bg+"_land":H.bg,[Z,te,re,ee]=A?[-H.left,-H.top,H.height,H.width]:[-H.top,-H.left,H.width,H.height];return{top:Z,left:te,width:re,height:ee,backgroundImage:"url("+((0,m.Qs)()?".":"")+"/mb-proto2/images/devices/"+V+".png)"}}case"default":return null;case"none":return null}}var O=e(77200),f=e(21563),j=e(45090);const K=j.ZP.div.withConfig({displayName:"style__StyledAppSplash",componentId:"sc-11mlfir-0"})(["position:absolute;width:100%;height:100%;background:#f5f5f5;overflow:hidden;margin-bottom:500px;top:0;z-index:2;img{position:absolute;width:100%;height:100%;}.loading{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;width:100%;height:30px;.splash-loading{width:30px;height:30px;}}&.landscape{img{transform:rotate(90deg);transform-origin:bottom left;}}"]);class C extends E.PureComponent{render(){const{homeScreen:S,url:A,isPanelPreviewMode:L}=this.props,H=0,V=0;let Z;return S.width!==H?Z={top:0-H,width:V,height:H}:Z={top:0,width:H,height:"101%"},(0,h.jsxs)(K,{className:a()("splash",S.orientation),style:{backgroundColor:S.bgcolor},children:[A&&!L&&(0,h.jsx)("img",{src:A,style:Z}),(0,h.jsx)("div",{className:"loading",children:(0,h.jsx)(f.Z,{className:"splash-loading"})})]})}}var N=e(77646),b=e(55639),X=e.n(b),Y=e(4145),ae=e(99470),q=e(18166),ce=e(70956),pe=e(42091),fe=e(25631),_e=e(30733);const ue="local_embed_toast_show";function z(){const B=(0,_e.RD)(ue,null,_e.cM.Boolean),S=()=>{(0,_e.iO)(ue,!0,_e.cM.Boolean),L(!0)},[A,L]=(0,E.useState)(B);return(0,h.jsx)(h.Fragment,{children:!A&&(0,h.jsxs)(ie,{isOpen:!0,children:[(0,h.jsx)("div",{className:"placeholder"}),(0,h.jsxs)("div",{className:"content",children:[(0,h.jsx)("img",{src:"/mb-workspace/images/preview/loading.gif",alt:"Loading..."}),(0,h.jsx)("span",{children:"\u53CC\u6307\u70B9\u51FB\u5C4F\u5E55\u8C03\u51FA\u8BBE\u7F6E\u9762\u677F"}),(0,h.jsx)("span",{children:"\u53EF\u76F4\u63A5\u8DF3\u8F6C\u9875\u9762"})]}),(0,h.jsx)("div",{className:"close-btn",children:(0,h.jsx)(pe.q,{onClick:S,name:"design/close_sm"})})]})})}const ie=(0,j.ZP)(fe.Z).withConfig({displayName:"EmbedToastModal__StyledPreviewAuthModal",componentId:"sc-f18fpm-0"})(["width:80%;min-width:255px;display:flex;flex-direction:row;padding-bottom:25px;.placeholder{width:10%;}.content{width:80%;display:flex;flex-direction:column;align-items:center;}.close-btn{display:flex;flex-direction:row-reverse;width:10%;height:32px;svg{width:32px;height:32px;}}"]);var de=e(44051),Pe=e(17315);class Me extends E.PureComponent{constructor(S){super(S),(0,r.Z)(this,"setElementRef",A=>this.$elem=A),(0,r.Z)(this,"initCollapseKeySet",()=>{const{activeCid:A,screenTreeData:L}=this.props,H=(0,q._i)(A,L),V=new Set(H.map(Z=>{let{cid:te}=Z;return te}));this.setState({collapseKeySet:V})}),(0,r.Z)(this,"handleScreenMetaExpand",A=>{let{cid:L}=A;const{collapseKeySet:H}=this.state,V=new Set(H);H.has(L)?V.delete(L):V.add(L),this.setState({collapseKeySet:V})}),(0,r.Z)(this,"handleSelectScreenMeta",(A,L)=>{const{activeCid:H,dispatch:V}=this.props;(0,q.Vx)(L)||(H===L.cid?this.handleScreenMetaExpand(L):V({type:"entry:sync-runner:set-screen",payload:{cid:L.cid}}))}),(0,r.Z)(this,"handleClosePreviewSetting",()=>{this.setState({isOpen:!1})}),(0,r.Z)(this,"onClickOutside",A=>{let{target:L}=A;this.$elem.contains(L)||this.handleClosePreviewSetting()}),(0,r.Z)(this,"renderScreenMetaItem",A=>{let{depth:L,screenMeta:H,hasScreenMetaChildren:V,collapseScreenMetaCidSet:Z,activeScreenMetaCid:te,dispatch:re}=A;const{runnerState:ee}=this.props,{cid:Q}=H,se=te===Q,ne=Z.has(Q),le=V||(0,q.Vx)(H);return(0,h.jsx)(ae.Z,{depth:L,screenMeta:H,isActive:se,isExpand:ne,showExpander:le,actionProps:this.literalActionProps,dispatch:re,runnerState:ee})}),this.state={isOpen:!1,collapseKeySet:new Set},this.literalActionProps={onExpand:this.handleScreenMetaExpand,onSelect:this.handleSelectScreenMeta}}componentDidMount(){const S=this,A=document.querySelector("#workspace"),L=new(X()).Manager(A);L.add(new(X()).Tap({event:"doubletap",pointers:2})),L.on("doubletap",function(H){S.setState({isOpen:!0})}),this.initCollapseKeySet()}render(){const{project:S,screenTreeData:A,activeCid:L,isStatePanelShow:H,dispatch:V,runnerState:Z,previewOptions:te}=this.props,{isOpen:re,collapseKeySet:ee}=this.state,{isEmbedV1:Q,isEmbedV2:se}=te;return(0,h.jsxs)(h.Fragment,{children:[(Q||se)&&(0,h.jsx)(z,{}),re&&(0,h.jsx)(de.N8,{className:"mask"}),Z.activeCid!==""&&(0,h.jsxs)(de.eE,{className:a()({"is-open":re}),ref:this.setElementRef,children:[!H&&(0,h.jsxs)(Pe.Z,{children:[(0,h.jsxs)("div",{className:"theHeader",children:[(0,h.jsx)("div",{className:"backBtn","data-value":""}),(0,h.jsx)("div",{className:"headerTitle",children:(0,h.jsx)("div",{className:"headerName",children:(0,ce.FQ)(S.name)})})]}),(0,h.jsx)("div",{className:a()("screen-list",{"when-ws":!1}),children:(0,h.jsx)(Y.Z,{collapseScreenMetaCidSet:ee,activeScreenMetaCid:L,isExpandTree:!1,screenTreeData:A,renderScreenMetaItem:this.renderScreenMetaItem,dispatch:V})})]}),!H&&(0,h.jsx)(Se,{onClose:this.handleClosePreviewSetting}),re&&(0,h.jsx)(P.ZP,{target:document,onClick:(0,P.Yc)(this.onClickOutside,{capture:!0})})]})]})}}(0,r.Z)(Me,"propTypes",{project:v().object,dispatch:v().func,activeCid:v().string,screenTreeData:v().object,isStatePanelShow:v().bool,runnerState:v().object,previewOptions:v().object});const Se=(0,E.memo)(B=>{let{onClose:S}=B;return(0,h.jsx)("div",{className:"theFooter",onClick:S,children:I18N.pPreview.mobileMenu.cancel})});Se.propTypes={onClose:v().func};const be=(0,N.P1)([O.Kv,O.CL,O.vo,O.d9,O.Uq],(B,S,A,L,H)=>{const V=S.cid;return{screenTreeData:B,activeCid:V,project:A,isStatePanelShow:L,runnerState:H}}),Te=(0,p.$j)(B=>be(B))(Me);var Oe=e(57690),Je=e(54861),He=e(38281),$e=e(43852);class at extends E.PureComponent{constructor(S){super(S),(0,r.Z)(this,"shouldHasBorderRadius",(A,L)=>!A||L!=="device"?!1:!!A.includes("iphone_14")),this.state={homeScreen:S.screen}}componentDidMount(){const{previewOptions:S,isImmersive:A,isReadRunner:L}=this.props;if(L)return;const{isMobile:H}=S;if(H){const V=()=>{setTimeout(()=>{this.forceUpdate()},100)},Z="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(Z,V,!1)}MB.runnerController.initEventHandler(document.querySelector("#app"),{isImmersive:A,isMobile:H})}render(){const{project:S,screen:A,scale:L,bgcolor:H,isImmersive:V,isShowSplash:Z,isPanelPreviewMode:te,isShellShow:re,simulatorType:ee,previewOptions:Q,isReadRunner:se}=this.props,{homeScreen:ne}=this.state,{isMobile:le}=Q,{splash:ye=""}=S;let Ce=(0,l.Wi)(A,S.device);const we=ee==="outside_artboard",he=V||ee!=="device";le&&(Ce+=" is-mobile"),we&&he&&(Ce+=" is-outside-visible");const me=this.shouldHasBorderRadius(S==null?void 0:S.model,ee);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)($e.i,{id:"simulator",className:Ce,children:[(0,h.jsx)("div",{id:"app",style:{borderRadius:me?"12px":void 0},children:(0,h.jsx)(He.Z,{})}),Z&&(0,h.jsx)(C,{homeScreen:ne,url:ye,isPanelPreviewMode:te}),(0,h.jsx)(Je.y,{}),le&&(0,h.jsx)(Oe.b,{})]}),le&&(0,h.jsx)(Te,{previewOptions:Q})]})}}const Ft=B=>B.container.artboards.isShowSplash,Dt=(0,p.$j)(B=>{const S=(0,O.CL)(B),A=(0,O.vo)(B),L=(0,O.gz)(B),H=Ft(B),V=(0,O.GP)(B),Z=(0,O.yT)(B),te=(0,O.HR)(B),re=(0,O.z7)(B);return{bgcolor:(0,O.Wf)(B),screen:S,project:A,previewOptions:V,isImmersive:L,isShowSplash:H,isPanelPreviewMode:Z,simulatorType:te,scale:re,isReadRunner:!0}})(at);var vt=e(79075),wt=e(56099),bt=e(8522),ct=e(83830),mt=e(38625);class Tt extends E.PureComponent{constructor(){super(...arguments),(0,r.Z)(this,"handleHover",S=>{const{widget:{bind_widget_cid:A},dispatch:L}=this.props;A&&L({type:"reducer:set:annotateHoverCid",payload:{annotateHoverCid:S?A:null}})}),(0,r.Z)(this,"handlePointerDown",()=>{const{widget:S,dispatch:A}=this.props;A({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:S.cid}}),A({type:"reducer:set:update:preview:annotate",payload:{annotatePanelShow:!0}}),(0,bt.eV)(S.cid,!0),(0,mt.Gn)("\u9009\u4E2D\u6C34\u6EF4")}),(0,r.Z)(this,"handleClickOutSide",()=>{const{dispatch:S}=this.props;S({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:""}})})}render(){const{widget:S,annotateSelectWidgetCid:A,scale:L,indexNumber:H}=this.props,V=A===S.cid,Z=(0,ct.ov)(S,{isPreview:!0}),{width:te,height:re}=S,ee=(0,ct.qQ)(S,{isPreview:!0}),se="scale("+100/L+")",ne={...ee,transform:se,opacity:1,width:te,height:re,pointerEvents:"auto"};return(0,h.jsx)("div",{"data-cid":S.cid,id:"widget"+S.cid+"p",className:Z,style:ne,children:(0,h.jsx)(wt.w,{widget:S,isSelect:V,number:H,onHover:this.handleHover,onPointerDown:this.handlePointerDown,onClickOutSide:this.handleClickOutSide})},S.cid)}}var lt=e(35576),At=e(11685);const sn={};class yt extends E.PureComponent{render(){const{screenMeta:S,itemList:A,scrollTop:L,annotateSelectWidgetCid:H,scale:V,dispatch:Z}=this.props,te=[],re={},ee=[];A.forEach(ne=>{ne.name==="sticky"?te.push(ne):ne.name==="link"?re[ne.cid]=ne:ne.name===At.l.Annotate&&ee.push(ne)});const Q=te.map(ne=>({...ne,links:(0,lt.TA)(re,ne.link_cids)})),se=ee.sort((ne,le)=>ne.ctime-le.ctime);return(0,h.jsx)("div",{id:"sticky-container","data-cid":S.cid,className:a()({pcanvas:te.length>0}),onClick:this.handleClick,children:(0,h.jsxs)("div",{style:{marginTop:L||0},children:[Q.map(ne=>(0,h.jsx)(St,{sticky:ne},ne.cid)),se.map((ne,le)=>(0,h.jsx)(Tt,{indexNumber:le+1,widget:ne,annotateSelectWidgetCid:H,scale:V,dispatch:Z},ne.cid))]})})}}(0,r.Z)(yt,"propTypes",{screenMeta:v().object,scrollTop:v().number,itemList:v().array,annotateSelectWidgetCid:v().string,scale:v().number,dispatch:v().func});const Kt=!0;class St extends E.PureComponent{constructor(){super(...arguments),(0,r.Z)(this,"handleClick",S=>{const{sticky:A}=this.props;A.link_cids&&MB.runnerController.prepareJump(S,["tap","click"])})}render(){const{sticky:S}=this.props,A=(0,ct.ov)(S,{links:S.links,isPreview:Kt}),L={...(0,ct._3)(S),...(0,vt.Ex)(S),position:"absolute",top:S.top,left:S.left,width:S.width,height:S.height};return(0,h.jsx)("div",{"data-cid":S.cid,"data-link_cid":S.link_cids,id:"widget"+S.cid+"p",className:A,style:L,onClick:this.handleClick,children:(0,h.jsx)(vt.bv,{widget:S,onCopy:()=>(0,mt.Gn)("\u5361\u7247\u6279\u6CE8\u5185\u5BB9\u590D\u5236")})},S.cid)}}(0,r.Z)(St,"propTypes",{sticky:v().object});const jt=B=>{const S=(0,O.CL)(B),{screenInfoMap:A,screenScrollTopMap:L}=(0,O.Uq)(B),H=(0,O.gi)(B),V=(0,O.aS)(B),Z=(0,O.yZ)(B);return{screenMeta:H[S.cid],screenInfo:A[S.cid],scrollTop:L[S.cid],annotateSelectWidgetCid:V,scale:Z}},gt=(0,E.memo)(B=>{let{screenMeta:S,screenInfo:A,scrollTop:L,annotateSelectWidgetCid:H,scale:V,dispatch:Z}=B;if(!(S&&A))return null;const te=A.stateCid,re=A.screenRuntimeState.itemListMap[te];let ee=[];return re.forEach(Q=>{if(Q.name==="panel"){const se=A.panelInfoMap[Q.cid],ne=se.currentScreenStateCid,le=se.currentScreenMetaCid;if(!se)return;let ye=[];const Ce=se.screenDataMap[le];if(!Ce||(ye=Ce.screenRuntimeState.itemListMap[ne],!ye))return;ee=[...ee,...ye.filter(we=>we.name==="sticky").map(we=>{const[he,me]=we.point||[0,0];return{...we,top:Q.top+we.top,left:Q.left+we.left,point:we.point?[Q.left+he,Q.top+me]:void 0}})]}}),S&&(0,h.jsx)(yt,{screenMeta:S,itemList:[...re,...ee],scrollTop:L,annotateSelectWidgetCid:H,scale:V,dispatch:Z},S.cid)});gt.propTypes={scrollTop:v().number,annotateSelectWidgetCid:v().string,scale:v().number,screenMeta:v().object,screenInfo:v().object,dispatch:v().func};const Ct=(0,p.$j)(jt)(gt);class Lt extends E.PureComponent{constructor(){super(...arguments),(0,r.Z)(this,"state",{isDraggingCanvas:!1}),(0,r.Z)(this,"handleKeyDown",S=>{const{dispatch:A}=this.props,L=S.target.matches("input")||S.target.matches("textarea");S.keyCode===32&&!L&&(S.preventDefault(),A({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))}),(0,r.Z)(this,"handleKeyUp",()=>{this.props.dispatch({type:"preview:reset:key:flags"})}),(0,r.Z)(this,"handleMouseDown",S=>{const{isSpaceDown:A}=this.props;(S.button===1||A)&&this.initDraggingCanvas(S)}),(0,r.Z)(this,"handleScaleChange",S=>{this.props.dispatch({type:"entry:preview:set:scale",payload:{scale:S}})}),(0,r.Z)(this,"handleOffsetChange",(S,A)=>{this.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:{x:S,y:A}}})})}initDraggingCanvas(S){const A=S.clientX,L=S.clientY,{x:H,y:V}=this.props.canvasOffset;this.setState({isDraggingCanvas:!0});const Z=re=>{const ee={x:H+(re.clientX-A),y:V+(re.clientY-L)};this.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:ee}})},te=()=>{this.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",Z),document.addEventListener("mouseup",te)}render(){const{scale:S,canvasOffset:A,project:L,screenGlue:H,screen:V,isSpaceDown:Z,isStickyShow:te,isStickyAvailable:re,simulatorType:ee,isShowShell:Q,isLayerActive:se,isCommentActive:ne,isFullScreenMode:le,isPreviewActive:ye,isHTMLZip:Ce,theme:we}=this.props,{isDraggingCanvas:he}=this.state,{x:me,y:Le}=A,We=se||ne,Re=We||!Q||ee!=="device"?"none":(0,s.uL)(L),Ve=!We&&(0,l.SZ)({screenGlue:H,screen:V,project:L}),Fe=V.orientation==="landscape"||V.width===L.height,[rt,et]=[V.width,Fe?H.width:H.height],Ze=re&&te&&!ne,Ke={width:375,height:812,minWidth:375,minHeight:812,transform:"matrix(1, 0, 0, 1, "+me+", "+Le+")"},ke={transform:"scale("+S/100+")"},ut={width:S+"%",height:S+"%"},Xe={width:375*S/100,height:812*S/100},Qe=a()({"wait-drag":Z||he,"is-immersive":We,"is-comment-active":ne,"is-screen-expanded":We||ee!=="device","is-fullscreen-mode":le}),tt={backgroundColor:M.I3[we]};return(0,h.jsxs)(u.Z,{x:me,y:Le,scale:S,style:tt,id:"simulator-container",className:Qe,isDisabled:he,onMouseDown:this.handleMouseDown,onScaleChange:this.handleScaleChange,onOffsetChange:this.handleOffsetChange,children:[(qe,ze,ft)=>(0,h.jsx)("div",{className:"screen-viewport",style:Ke,children:(0,h.jsxs)("div",{className:"zoom-area",style:ke,children:[(0,h.jsx)(Dt,{isShellShow:Ve}),Ve&&(0,h.jsx)(k,{isHTMLZip:Ce,project:L,shellType:Re,isLandscape:Fe}),Ze&&(0,h.jsx)(Ct,{})]})},"1"),(0,h.jsx)(P.ZP,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}const Mt=(0,p.$j)(B=>{const{container:{common:{offset:S,keyFlags:{isSpaceDown:A}}}}=B,{isHTMLZip:L}=(0,O.GP)(B),H=(0,O.z7)(B),V=(0,O.CL)(B),Z=(0,O.vo)(B),te=(0,O.ku)(B),re=(0,O.NK)(B),ee=(0,O.EZ)(B),Q=(0,O.XL)(B),se=(0,O.Nu)(B),{isPreview:ne,isInspect:le,isComment:ye}=(0,O.nB)(B),Ce=(0,O.HR)(B),we=(0,O.ki)(B);return{scale:H,canvasOffset:S,screen:V,project:Z,screenGlue:te,simulatorType:Ce,isSpaceDown:A,isStickyShow:ee,isPreviewActive:ne,isLayerActive:le,isCommentActive:ye,isFullScreenMode:Q,isHTMLZip:L,isShowShell:we,isStickyAvailable:re,theme:se}})(Lt);var ht=e(24248),Ne=e(66216),Ot=e(63160),It=e(76637),ot=e(24011),Bt=e(55479);const xt=j.ZP.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-7okk49-0"})(["width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}"],B=>B.theme.color_background_icon_hover);class Ht extends E.PureComponent{constructor(){super(...arguments),(0,r.Z)(this,"keyboardManager",new Ne.Sm)}preventDefault(S){S.preventDefault()}render(){return(0,h.jsx)(Ne.XC.Provider,{value:this.keyboardManager,children:(0,h.jsx)(ot.Z,{children:(0,h.jsxs)(xt,{onContextMenu:this.preventDefault,children:[(0,h.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[(0,h.jsx)(_.Z,{}),(0,h.jsx)(Mt,{}),(0,h.jsx)(i.Z,{}),(0,h.jsx)(d.Z,{}),(0,h.jsx)(ht.Z,{mode:Bt.t.version})]}),(0,h.jsx)(It.NM,{sheet:Ot.R}),(0,h.jsx)(Oe.F,{})]})})})}}var Wt=e(10737),R=e(23555),T=e(51232);const U=B=>{const{isEmbedV1:S=!1}=B||{};return{isDesktop:!((0,T.tq)()||S),isInApp:!1,isMultiLink:!1,isMobile:(0,T.tq)(),isIOSClient:(0,T.B0)(),isStandAlone:(0,T.IF)(),isEmbedV1:S,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,T.Md)(),isForum:(0,T._j)(),isElectron:(0,T.d)(),isSquare:!1,isVersionEmbedded:!1,isFeishu:(0,T.Rv)(),isWechat:(0,T.CL)(),...B}},J=B=>{const{isMobile:S,isEmbedV2:A,isSquare:L,isVersionEmbedded:H}=B;return S?Wt.Z:A||L?g.Z:H?Ht:R.Z};var oe=e(11929),ve=e(78467),Ee=e(75985),je=e(76333);const Ae=B=>localStorageRemoveItem(B+"_pwd"),Ie=B=>(0,_e.GQ)(B+"_pwd"),Be=(B,S)=>localStorageSetItem(B+"_pwd",S),xe=B=>{const S=async(A,L,H)=>{try{const{isHTMLZip:V,isMobile:Z}=getPreviewOptions(MB.webpackInterface.store.getState());V||(Z&&MB.messageBucket.send("ready"),await checkAuthorization(A,L),MB.global.popupHelper.promptGetPasswordAsync(!1));const te=await B({projectAccessToken:A,projectVersion:H,projectEncryptedPassword:L,userLocale:window.MBLocale});return Be(A,L),te}catch(V){console.error("[getProjectFullData] failed: "+V),Ae(A)}};return async A=>{let{projectAccessToken:L,projectVersion:H,projectEncryptedPassword:V,isPasswordRequired:Z}=A;return V=V||new URLSearchParams(location.search).get("password")||Ie(L),await Ue(S,Z,L,V,H)||[]}},Ue=async(B,S,A,L,H)=>{let V;if(V=await B(A,L,H),!V&&!S){var Z,te;(Z=MB)==null||(te=Z.messageBucket)==null||te.send("mobileLoadProjectError",{errMsg:I18N.dPages.no_permission_to_app})}let re=1/0,ee=!1,Q=0;for(;!V&&re;)Q++,re--,L=md5(await MB.global.popupHelper.promptGetPasswordAsync(!0,ee)),V=await B(A,L,H),V||(ee=!0);return MB.global.popupHelper.promptGetPasswordAsync(!1),V},Ye=async(B,S)=>{let A;try{A=await checkAuthorization(B,S)}catch(L){A=L}return A},dt=async function(B,S){S===void 0&&(S=MB.global.popupHelper);let A=!1,L=md5(await S.promptGetPasswordAsync(!0,!1));for((await Ye(B,L)).status===403&&(A=!0);A;)L=md5(await S.promptGetPasswordAsync(!0,A)),(await Ye(B,L)).status===403?A=!0:A=!1;return S.promptGetPasswordAsync(!1),L},pt=(B,S,A)=>{if(!B)return!0;if(S){var L;return(A==null||(L=A.permissions.find(V=>V.user_id===B.id))==null?void 0:L.role)===void 0}else return B.id!==A.owner_id};var Rt=e(69930);const Vt="loading",Zt=function(B,S){S===void 0&&(S="");const A=document.createElement("div");A.id=Vt,document.body.insertBefore(A,document.body.firstChild),t.render((0,h.jsxs)(h.Fragment,{children:[B==="zh-CN"?(0,h.jsx)(f.Z,{isNormal:!1,className:"logo"}):(0,h.jsx)("div",{className:"logo"}),S&&(0,h.jsxs)("span",{id:"loading-text",children:[B==="zh-CN"?"\u6B63\u5728\u52A0\u8F7D":"Loading","... ",S]})]}),A)},zt=()=>{const B=document.getElementById(Vt);B&&(B.style.display="none")};var an=e(53233),Xt=e(79486),Tn=e(70103),An=e(23895),jn=e(62473);const Ln={isInNewGuide:!1,isOnPremises:!1,canUploadToSquare:!1},On=function(B){B===void 0&&(B="POPUP-HELPER-ROOT");const S=document.createElement("div");S.id=B,document.body.appendChild(S);const A=(0,Tn.MT)(An.Z);t.render((0,h.jsx)(p.zt,{store:A,children:(0,h.jsx)(jn.Z,{})}),S);const{confirmAsync:L,alertAsync:H,alertAsyncWide:V,alertAsyncBlocked:Z,promptGetPasswordAsync:te,loginAsync:re,teamSelectModalAsync:ee,sharingAsync:Q,chargeAsync:se}=In(A.dispatch);return{confirmAsync:L,alertAsync:H,alertAsyncWide:V,alertAsyncBlocked:Z,promptGetPasswordAsync:te,loginAsync:re,teamSelectModalAsync:ee,sharingAsync:Q,chargeAsync:se,destroy:()=>{t.unmountComponentAtNode(S),S.remove()}}},In=B=>({confirmAsync:Q=>{let{className:se,title:ne,desc:le,isHTML:ye,confirmText:Ce,cancelText:we,isClose:he}=Q;return new Promise(me=>B({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,className:se,title:ne,desc:le,isHTML:ye,type:"alert",alertType:"confirm",canClose:he!==!1,canCancel:!0,canConfirm:!0,cancelText:we,confirmText:Ce,onCancel:()=>me(!1),onConfirm:()=>me(!0)}}}))},alertAsync:Q=>{let{title:se,desc:ne,isHTML:le,confirmText:ye}=Q;return new Promise(Ce=>B({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:se,desc:ne,isHTML:le,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:ye,onConfirm:()=>Ce()}}}))},alertAsyncWide:Q=>{let{title:se,desc:ne,isHTML:le,confirmText:ye}=Q;return new Promise(Ce=>B({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:se,desc:ne,isHTML:le,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:ye,onConfirm:()=>Ce()}}}))},alertAsyncBlocked:Q=>{let{title:se,desc:ne,isHTML:le,confirmText:ye}=Q;return new Promise(Ce=>B({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:se,desc:ne,isHTML:le,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:ye,onConfirm:()=>Ce()}}}))},promptGetPasswordAsync:(Q,se)=>new Promise(ne=>B({type:"modal:update:state",payload:{previewAuthModal:{isOpen:Q,isWrongPwd:se,onConfirm:le=>le&&ne(le)}}})),loginAsync:Q=>{let{onCancel:se=kt,onConfirm:ne=kt,type:le="signin",source:ye}=Q;return B({type:"modal:update:state",payload:{loginModal:{source:ye,isOpen:!0,type:le,onCancel:se,onConfirm:ne}}})},teamSelectModalAsync:Q=>{let{projectCid:se="",onCancel:ne=kt,onConfirm:le=kt}=Q;return B({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:se,onCancel:ne,onConfirm:le}}})},sharingAsync:Q=>{let{project:se,theme:ne,isGuestMode:le,screenMetaList:ye=[],onUpdateProject:Ce=kt,extraInfo:we=Ln,screenMetaCidToVisit:he,user:me}=Q;return B({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:se,theme:ne,extraInfo:we,isGuestMode:le,screenMetaList:ye,onUpdateProject:Ce,screenMetaCidToVisit:he,user:me}}})},chargeAsync:Q=>B({type:"modal:update:state",payload:{chargeOverlay:{isOpen:!0,...Q}}})}),kt=()=>{};var lo=e(46295),po=e(62609);const{MB:De}=window;De.f.inSharing=!0;const uo=B=>{let{initialData:S,designOptions:A,previewOptions:L,popupHelper:H,initStoreRelated:V,sharing:Z,password:te,api:{requestProjectFullDataByAccessToken:re,requestSketchArtboardList:ee,requestSketchArtboardById:Q,requestSliceByArtboardId:se,requestSliceZipByArtboardId:ne,checkSharingPermission:le,fetchProjectComment:ye,fetchProjectScreenCommentThreadCountMap:Ce,requestProjectShare:we,requestUserCommonGuidesData:he,updateUserCommonGuidesData:me,fetchCreateCommentThread:Le,fetchCreateComment:We,fetchDeleteCommentThread:Re,fetchDeleteComment:Ve,updateProjectBasicsInfo:Fe,updateComboProjectBasicsInfo:rt}}=B;const{isMobile:et,isIOSClient:Ze,isStandAlone:Ke,isHTMLZip:ke}=L;De.config.minFS=calcMinFontSize(),(Ke||Ze)&&(document.documentElement.style.height="100vh");const{runnerController:ut,messageBucket:Xe,webpackInterface:Qe,PreviewApp:tt}=createPreviewRelated(getPreviewComponentByOptions(L));return setExternal({api:{requestSketchArtboardList:ee,requestSketchArtboardById:Q,requestSliceByArtboardId:se,requestSliceZipByArtboardId:ne,checkSharingPermission:le,fetchProjectComment:ye,fetchProjectScreenCommentThreadCountMap:Ce,requestUserCommonGuidesData:he,updateUserCommonGuidesData:me,fetchCreateCommentThread:Le,fetchCreateComment:We,fetchDeleteCommentThread:Re,fetchDeleteComment:Ve,updateProjectBasicsInfo:Fe,updateComboProjectBasicsInfo:rt}}),Object.assign(De,{runnerController:ut,messageBucket:Xe,webpackInterface:Qe,global:{popupHelper:H,designOptions:A}}),De.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:L}}),{requestData:async qe=>{var ze,ft,nt,_t;let{projectAccessToken:it,projectEncryptedPassword:ln,isPasswordRequired:Pt,projectBasicCid:dn}=qe;const{user:Nt,org:Gt,team:pn,orgList:un,preference:Pn,MBSketchPluginDownloadURL:tn,canEditByCurrentUser:_n,project_basic:Dn,project_meta:ro,space:so}=S,ao=getIsNeedInputPassword(Nt,so,Dn);let nn=loadProjectEncryptedPassword(it);const io=await tryCheckAuthorization(it,nn);if(Pt&&ao&&io.status===403){var wn;De==null||(wn=De.messageBucket)==null||wn.send("ready"),nn=await checkAuthorizationWithPrompt(it,createPopupHelper()),saveProjectEncryptedPassword(it,nn)}let on,mn;try{const{projectBasic:st,projectMeta:rn}=await requestProjectFullDataFlat4ReadOnly({projectBasicCid:dn,accessToken:it,project_basic:Dn,project_meta:ro,password:nn||te});on=st,mn=rn}catch(st){return setTimeout(()=>{var rn,bn;return De==null||(rn=De.messageBucket)==null?void 0:rn.send("mobileLoadProjectError",{errMsg:"\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-"+(De!=null&&(bn=De.user)!=null&&bn.id?"\u5DF2\u767B\u5F55\u4F46\u975E\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55")})},1e3),crashedPageWithUser(st)}De.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:Z}}),De.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:Pn||{}}});const co=_n&&(mn.is_org_project?!((ze=on)!=null&&ze.expired):!((ft=on)!=null&&ft.expired)||Nt.apps.length<=Nt.free_projects_count);if(Object.assign(De,{user:Nt||{},canEditByCurrentUser:co,org:Gt||void 0}),De.webpackInterface.store.dispatch({type:"entry:state:init"}),(nt=De.user)!=null&&nt.id&&Gt)try{const st=await DesignAPI.requestOrgMembers(Gt.cid);De.members=st}catch(st){console.log(st)}(_t=De.user)!=null&&_t.id&&De.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"}),hideLoading();try{const{guide:{workspace_guides:st}}=await he();De.commonGuideHelper=createCommonGuideHelper(De.webpackInterface.store,{getGuidesData:()=>st,setGuidesData:me},{isDesign:!1,isPreview:!0})}catch(st){console.error("\u83B7\u53D6 guide_data \u5931\u8D25")}return{projectAlike:on,projectMeta:mn,projectShare:Z}},renderPreview:(qe,ze,ft,nt)=>{if(nt!=null&&nt.screen_visible_switch&&(nt==null?void 0:nt.screen_visible_list.length)===0)return setTimeout(()=>{var Pt;return De==null||(Pt=De.messageBucket)==null?void 0:Pt.send("mobileLoadProjectError",{errMsg:"\u9875\u9762\u65E0\u753B\u677F\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),_jsx(CrashedPage,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")});const _t=new KeyboardManager,it=new URLSearchParams(location.search),ln=et?"preview":it.has("inspect")?"inspect":it.has("comment")?"comment":"preview";return _jsx(KeyboardManagerContext.Provider,{value:_t,children:_jsx(TooltipsManagerProvider,{children:_jsx(tt,{store:Qe.store,previewMode:ln,projectAlike:qe,projectMeta:ze,projectShare:nt})})})}}},Bn=B=>{let{initialData:S,designOptions:A,previewOptions:L,popupHelper:H,initStoreRelated:V,sharing:Z,password:te,api:{requestProjectFullDataByAccessToken:re,requestSketchArtboardList:ee,requestSketchArtboardById:Q,requestSliceByArtboardId:se,requestSliceZipByArtboardId:ne,checkSharingPermission:le,requestProjectShare:ye,requestUserCommonGuidesData:Ce,updateUserCommonGuidesData:we,updateProjectBasicsInfo:he,updateComboProjectBasicsInfo:me}}=B;const{isMobile:Le,isIOSClient:We,isStandAlone:Re,isHTMLZip:Ve}=L;De.config.minFS=(0,c.T_)(),(Re||We)&&(document.documentElement.style.height="100vh");const{runnerController:Fe,messageBucket:rt,webpackInterface:et,PreviewApp:Ze}=(0,oe.o)(J(L));return(0,Rt.J)({api:{requestSketchArtboardList:ee,requestSketchArtboardById:Q,requestSliceByArtboardId:se,requestSliceZipByArtboardId:ne,checkSharingPermission:le,requestUserCommonGuidesData:Ce,updateUserCommonGuidesData:we,updateProjectBasicsInfo:he,updateComboProjectBasicsInfo:me}}),Object.assign(De,{runnerController:Fe,messageBucket:rt,webpackInterface:et,global:{popupHelper:H,designOptions:A}}),De.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:L}}),{requestData:async Ke=>{var ke;let{projectAccessToken:ut,projectEncryptedPassword:Xe,isPasswordRequired:Qe,projectBasicCid:tt}=Ke;const{user:qe,org:ze,team:ft,orgList:nt,preference:_t,MBSketchPluginDownloadURL:it,canEditByCurrentUser:ln,project_basic:Pt,project_meta:dn,space:Nt}=S,Gt=Ie(ut);let pn,un;try{const{projectBasic:tn,projectMeta:_n}=await(0,Xt.jr)({projectBasicCid:tt,accessToken:ut,project_basic:Pt,project_meta:dn,password:Gt||te});pn=tn,un=_n}catch(tn){return(0,ve.mB)(tn)}return De.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:Z}}),De.webpackInterface.store.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:(ke=Z.highlight)!=null?ke:!0}}),De.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:_t||{}}}),Object.assign(De,{user:qe||{},canEditByCurrentUser:!1,org:ze||void 0}),De.webpackInterface.store.dispatch({type:"entry:state:init"}),zt(),{projectAlike:pn,projectMeta:un}},renderPreview:(Ke,ke,ut,Xe)=>{if(Xe!=null&&Xe.screen_visible_switch&&(Xe==null?void 0:Xe.screen_visible_list.length)===0)return setTimeout(()=>{var ze;return De==null||(ze=De.messageBucket)==null?void 0:ze.send("mobileLoadProjectError",{errMsg:"\u9875\u9762\u65E0\u753B\u677F\uFF0C\u65E0\u6CD5\u9884\u89C8"})},1e3),(0,h.jsx)(y.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>(0,ve.HM)("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")});const Qe=new Ne.Sm,tt=new URLSearchParams(location.search),qe=Le?"preview":tt.has("inspect")?"inspect":tt.has("comment")?"comment":"preview";return(0,h.jsx)(Ne.XC.Provider,{value:Qe,children:(0,h.jsx)(ot.Z,{children:(0,h.jsx)(Ze,{store:et.store,previewMode:qe,projectAlike:Ke,projectMeta:ke,projectShare:Xe})})})}}},_o=B=>{let{initialData:S,designOptions:A,previewOptions:L,popupHelper:H,api:{requestProjectFullDataByAccessToken:V,requestSketchArtboardList:Z,requestSketchArtboardById:te,requestSliceByArtboardId:re,requestSliceZipByArtboardId:ee,checkSharingPermission:Q,fetchProjectComment:se,fetchProjectScreenCommentThreadCountMap:ne,requestProjectShare:le,requestUserCommonGuidesData:ye,updateUserCommonGuidesData:Ce,fetchCreateCommentThread:we,fetchCreateComment:he,fetchDeleteCommentThread:me,fetchDeleteComment:Le,updateProjectBasicsInfo:We,updateComboProjectBasicsInfo:Re},experienceLoginModalHelper:Ve}=B;const{isIOSClient:Fe,isStandAlone:rt}=L,et=projectShareMock;De.config.minFS=calcMinFontSize(),(rt||Fe)&&(document.documentElement.style.height="100vh");const{runnerController:Ze,messageBucket:Ke,webpackInterface:ke,PreviewApp:ut}=createPreviewRelated(getPreviewComponentByOptions(L));return setExternal({api:{requestSketchArtboardList:Z,requestSketchArtboardById:te,requestSliceByArtboardId:re,requestSliceZipByArtboardId:ee,checkSharingPermission:Q,fetchProjectComment:se,fetchProjectScreenCommentThreadCountMap:ne,requestUserCommonGuidesData:ye,updateUserCommonGuidesData:Ce,fetchCreateCommentThread:we,fetchCreateComment:he,fetchDeleteCommentThread:me,fetchDeleteComment:Le,updateProjectBasicsInfo:We,updateComboProjectBasicsInfo:Re}}),Object.assign(De,{runnerController:Ze,messageBucket:Ke,webpackInterface:ke,global:{popupHelper:H,designOptions:A,experienceLoginModalHelper:Ve}}),De.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:L}}),{requestData:async Xe=>{var Qe;let{projectBasicCid:tt}=Xe;const{user:qe,org:ze,preference:ft}=S,{projectBasic:nt,projectMeta:_t}=await requestExperienceFullDataFlat({projectBasicCid:tt});return De.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:et}}),De.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:ft||{}}}),Object.assign(De,{user:qe||{},canEditByCurrentUser:!1,org:ze||void 0}),De.webpackInterface.store.dispatch({type:"entry:state:init"}),(Qe=De.user)!=null&&Qe.id&&De.webpackInterface.store.dispatch({type:"entry:comment:rebuild:commentList"}),hideLoading(),{projectAlike:nt,projectMeta:_t}},renderPreview:(Xe,Qe,tt)=>{const qe=new KeyboardManager,ze="preview";return _jsx(KeyboardManagerContext.Provider,{value:qe,children:_jsx(TooltipsManagerProvider,{children:_jsx(ut,{store:ke.store,previewMode:ze,projectAlike:Xe,projectMeta:Qe,projectShare:et})})})}}};var Jt=e(32380),mo=e(37506),go=e(53236),ho=e(70826);const fo=B=>{let{projectMeta:S,screenGlueList:A,screenMetaList:L,screenObjectList:H,nextUpperCid:V,nextProjectMetaCid:Z=getRandomProjectMetaCid()}=B;const te=buildProjectDocument({projectMeta:S,screenGlueList:A,screenMetaList:L,screenObjectList:H}),{projectDocument:re}=remapProjectStoreLocalProjectDocument(te,createRemapOptionForFullProjectDocument({projectMetaCid:S.cid,remapProjectMetaCid:Z})),{projectMeta:ee,screenGlueList:Q,screenMetaList:se,screenObjectList:ne}=unbuildProjectDocument(re);return ee.upper_cid=V,{projectMeta:ee,screenGlueList:Q,screenMetaList:se,screenObjectList:ne}};var vo=e(44766),yo=e(27264),So=e(67832);const Co=async(B,S,A)=>{const L=packFlatTree(B),H=gzipStringToU8A(L),V="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:S,treLen:String(H.byteLength),treRawLen:String(L.length)}),Z=await fetch(V,{method:"POST",body:H,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(A))}});if(!Z.ok)throw Object.assign(new Error("failed to create new flpak: "+V),{status:Z.status});return Z.json()},Mo=async B=>{MB.safeLoading&&MB.safeLoading(I18N.dApis.save);const S=MB.getRootProject(),A={name:S.title,device:S.device,model:S.model,width:S.width,height:S.height,attr:S.attr};try{const{clientData:{upperCid:L}}=await newFlpakFromTree(window.fssDat.getFlatStore().getFlatTree(),B,A);location.href="/proto/design/"+L}catch(L){console.log(L)}};var xn=e(70581),Wn=e(40197);const vn=()=>{const B=(0,xn.mz)(),S=(0,Wn.P)({});return B.addDummySaver({name:"saver:rails-fetch"}),B.addDummySaver({name:"saver:project-exchange"}),{autoSaver:B,projectExchange:S,socketStore:"no-more",snapshotStore:"no-more"}},Eo={workspace:"me",link_line:!0,link_display:2,grid:!1,grid_size:10,ruler:!0,show_ruler_line:!0,show_align_line:!0,guide:!0,dashboard_guides:'["switch_workspace","design_mode"]',app_order:"asc",theme:"light",contain_select:!1,show_tooltip:!0,show_fs_warning:!0,show_toolbar_text:!0,show_drag_mode:!0,layout_information:null,recent_icons:"[]",recent_svg_icons:"[]",icon_size:null,icon_color:null,notification_status_filter:"all",builtin_list_invisible:"[]",show_daily_tips:!0,use_native_eyedropper:!1,state_link_default_transition:1,panel_link_default_transition:1},Po=async()=>({...await requestWorkspaceInitialData(),preference}),Do=async B=>{MB.safeLoading&&MB.safeLoading("\u9879\u76EE\u6062\u590D\u4E2D\uFF0C\u8BF7\u7A0D\u540E...");const{prevProjectBasicAttrs:S,projectMeta:A,importProjectBasicCid:L}=MB.importData,H={...A,upper_cid:L};await fetchPostHead("/api/admin/v3/project_basic/recovery",{upper_cid:L,team_cid:B,project_meta:H,prevProjectBasicAttrs:S});const V=MB.getCurrentProjectMeta().cid,{socketStore:Z,autoSaver:te}=initStoreRelated(MB.user.id,window.ProjectExchange,window.SnapshotStore);te.triggerAllSave(),te.getSaver("saver:project-exchange").afterCurrentSave(()=>{MB.safeLoading&&MB.safeLoading(!1),location.replace("/app/design/"+L)})},wo=async()=>{const{projectDocumentToRecover:B,isImportImage:S,importImagePrefix:A}=window.RECOVERY_DATA,{projectAlikeBasicJSON:L,projectMeta:H,screenGlueNodeList:V}=B,Z=[],{screenGlueList:te,screenMetaList:re,screenObjectList:ee}=unbuildProjectDocument({projectMeta:H,screenGlueNodeList:V}),{cid:Q,name:se,device:ne,model:le,width:ye,height:Ce,visibility:we}=L,he=getRandomProjectMetaCid(),{projectMeta:me,screenGlueList:Le,screenMetaList:We,screenObjectList:Re}=duplicateProjectMeta({nextUpperCid:Q,nextProjectMetaCid:he,projectMeta:H,screenGlueList:te,screenMetaList:re,screenObjectList:ee}),Ve=getRandomCid("pr");if(MB.importData={prevProjectBasicAttrs:{name:se,device:ne,model:le,width:ye,height:Ce,visibility:we},projectMeta:me,importProjectBasicCid:Ve},S){const Fe=new Set([L.splash]);for(const{stateList:Ze}of Re)for(const{itemList:Ke}of Ze)for(const ke of Ke)ke.image&&ke.image.charAt(0)==="/"&&Fe.add(""+A+ke.image);const rt=[...Fe].filter(Boolean),et={};for(const Ze of rt){const{asset:Ke}=await fetchPutJSON("/api/admin/v3/assets/create_from_url",{project_cid:Ve,asset_url:Ze,user_id:MB.user.id});et[Ze]=Ke.image}for(const{stateList:Ze}of Re)for(const{itemList:Ke}of Ze)for(const ke of Ke)ke.image&&ke.image.charAt(0)==="/"&&(ke.image=et[""+A+ke.image])}return{projectMeta:me,screenGlueList:Le,screenMetaList:We,projectScreenObjectList:Re,projectBasic:L,screenAlignList:Z}};var bo=e(7221);const To=async B=>({...await fetchGetJSON("/api/web/v3/experience/design/initial?market_template_cid="+B),preference:{workspace:"me",link_line:!0,link_display:2,grid:!1,grid_size:10,ruler:!0,show_ruler_line:!0,show_align_line:!0,guide:!0,dashboard_guides:'["switch_workspace", "design_mode"]',app_order:"asc",theme:"light",contain_select:!1,show_tooltip:!0,show_fs_warning:!0,show_drag_mode:!0,layout_information:null,recent_icons:"[]",recent_svg_icons:"[]",icon_size:null,icon_color:null,notification_status_filter:"all",builtin_list_invisible:"[]",show_daily_tips:!0,state_link_default_transition:1,panel_link_default_transition:1,recently_used_screen_meta_icons:"[]"}}),Rn=async B=>{let{projectUpperCid:S}=B;const{projectMetaList:[A],screenGlueList:L,screenMetaList:H,projectScreenObjectList:V,projectUpper:Z,screenAlignList:te}=await fetchDataMarketTemplate({projectUpperCid:S}),re=getRandomProjectMetaCid();A.upper_type="project-basic";const{projectMeta:ee,screenGlueList:Q,screenMetaList:se,screenObjectList:ne}=duplicateProjectMeta({nextUpperCid:S,nextProjectMetaCid:re,projectMeta:A,screenGlueList:L,screenMetaList:H,screenObjectList:V}),le=new Map;return se.forEach((ye,Ce)=>{const we=H[Ce],{cid:he,project_meta_cid:me}=we,Le="/snapshot.png?projectMetaCid="+me+"&screenMetaCid="+he+"&screenStateCid=FIRST_STATE&zoomMode=thumbnail&cacheTag=cache";le.set(ye.cid,Le)}),MB.experienceData={projectUpperCid:S,projectMeta:ee,experienceSnapshotUrlMap:le},{projectMeta:ee,screenGlueList:Q,screenMetaList:se,projectScreenObjectList:ne,projectBasic:{...Z,limitation:{collaborators:0,storage:2e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:6553500,screens:6553500,commentable:!0}},screenAlignList:te,experienceSnapshotUrlMap:le}},kn=async()=>({marketTemplateList:[],marketTemplateListMap:new Map,iconLibraryList:[],iconLibraryListMap:new Map}),Un=B=>{const S={...B,created_at:new Date().valueOf()},A={cid:getRandomCid("p"),mtime:Date.now()/1e3,upper_cid:S.cid,upper_type:"user-combo"};return{user_combo_group:S,project_meta:A}},Ao=B=>{let{isLoggedIn:S,isImport:A}=B;return{requestUserAssetGroupList:()=>S||A?designAPI.requestUserAssetGroupList():{userAssetGroupList:[]},requestConfigurationData:designAPI.requestConfigurationData,requestConfigurationSquareTopicData:designAPI.requestConfigurationSquareTopicData,requestWorkspaceConfiguration:designAPI.requestWorkspaceConfiguration,requestConfigurationHotKeyWords:designAPI.requestConfigurationHotKeyWords,requestRecentKeywords:designAPI.requestRecentKeywords,requestDeleteRecentKeywords:designAPI.requestDeleteRecentKeywords,requestAddRecentKeywords:designAPI.requestAddRecentKeywords,requestConfigurationWorkspaceLabels:designAPI.requestConfigurationWorkspaceLabels,requestIconGroupIconDataForCid:designAPI.requestIconGroupIconDataForCid,requestFindMarketTemplates:designAPI.requestFindMarketTemplates,requestSearchResourcesData:designAPI.requestSearchResourcesData,requestResourcesDetails:designAPI.requestResourcesDetails,requestHotIcons:designAPI.requestHotIcons,requestMarketTemplateDataFromCid:designAPI.requestMarketTemplateDataFromCid,requestUpdateScreenAlign:designAPI.requestUpdateScreenAlign,requestSketchArtboardList:async()=>({artboards:[]}),requestSketchArtboardById:()=>null,requestSliceByArtboardId:async()=>({slices:[]}),requestSliceZipByArtboardId:async()=>({url:"/mock-slice.zip",status:200}),requestUserCommonGuidesData:async()=>({guide:{dashboard_guides:"",workspace_guides:'["newFeature", "videoTip", "widgetState", "pageState", "trashTip", "versioins"]',workspace_guides_version:"v2",default_team_cid:""},guide_project_template_cid:""}),updateUserCommonGuidesData:()=>null,updateUser2203GuidesData:()=>null,checkSharingPermission:async()=>(await new Promise(L=>setTimeout(L,100)),!0),fetchProjectComment:async()=>({org:null,team:null,members:[],threads:[],comments:[]}),fetchProjectScreenCommentThreadCountMap:()=>null,updateProjectBasicsInfo:()=>null,updateComboProjectBasicsInfo:()=>null,requestProjectShare,updateCurrentProjectShare:()=>null,requestMarketTemplateFullDataByCid:L=>{let{projectUpperCid:H}=L;return A?requestMarketTemplateFullDataByCidImport():Rn({projectUpperCid:H})},requestUserComboGroupDataFromCid:L=>{let{userComboGroupCid:H}=L;return S||A?designAPI.requestUserComboGroupDataFromCid({userComboGroupCid:H}):null},requestUserComboGroupList:L=>S||A?designAPI.requestUserComboGroupList(L):{userComboGroupList:[]},requestCreateUserComboGroup:L=>S||A?designAPI.requestCreateUserComboGroup(L):Un(L),requestUpdateUserComboGroup:L=>S||A?designAPI.requestUpdateUserComboGroup(L):{user_combo_group:L},requestDeleteUserComboGroup:L=>S||A?designAPI.requestDeleteUserComboGroup(L):null,requestMarketTemplateDataForLibrary:()=>S||A?designAPI.requestMarketTemplateDataForLibrary():kn(),requestMarketTemplateItemUnused:L=>{let{marketTemplateCid:H}=L;return S||A?designAPI.requestMarketTemplateItemUnused({marketTemplateCid:H}):null},requestMarketTemplateItemListDataForLibrary:L=>{let{projectMetaList:H,screenGlueList:V,screenMetaList:Z}=L;return S||A?designAPI.requestMarketTemplateItemListDataForLibrary({projectMetaList:H,screenGlueList:V,screenMetaList:Z}):null},experienceTriggerAllSaveAfterLogin:L=>A?experienceTriggerAllSaveAfterLoginImport(L):experienceTriggerAllSaveAfterLogin(L),requestUserStarredList,requestUserUsedResources,requestStarredResources,requestUnStarredResources,requestResourcesDetailData,requestRecentResourcesList,requestResourcesListForSource,requestUpdateRecentImportResources,requestResourcesListByCategory:L=>{let{category:H,keyword:V}=L;return designAPI.requestResourcesListByCategory({category:H,keyword:V})}}},jo=async B=>{let{initialData:S,previewOptions:A,api:L,initStoreRelated:H,projectAccessToken:V,projectEncryptedPassword:Z,isPasswordRequired:te,$root:re,projectBasicCid:ee,sharing:Q,password:se}=B;const ne={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!S.is_on_premises,isWonderShare:!!S.is_wonder_share},{requestData:le,renderPreview:ye}=initPreview({api:L,initialData:S,popupHelper:createPopupHelper(),previewOptions:A,designOptions:ne,initStoreRelated:H,sharing:Q,password:se});te&&setTimeout(()=>previewNoAccessSaTrack("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801"),0);const{projectAlike:Ce,projectMeta:we,projectShare:he}=await le({projectAccessToken:V,projectEncryptedPassword:Z,isPasswordRequired:te,projectBasicCid:ee}),me=location.hash||"",Le=me&&me.startsWith("#screen=")&&me.substr(8);ReactDOM.render(ye(Ce,we,Le,he),re)},Nn=async B=>{let{initialData:S,previewOptions:A,api:L,initStoreRelated:H,projectAccessToken:V,projectEncryptedPassword:Z,isPasswordRequired:te,$root:re,projectBasicCid:ee,sharing:Q,password:se}=B;const ne={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!S.is_on_premises,isWonderShare:!!S.is_wonder_share},{requestData:le,renderPreview:ye}=Bn({api:L,initialData:S,popupHelper:On(),previewOptions:A,designOptions:ne,initStoreRelated:H,sharing:Q,password:se});te&&setTimeout(()=>(0,mt.CQ)("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801"),0);const{projectAlike:Ce,projectMeta:we}=await le({projectAccessToken:V,projectEncryptedPassword:Z,isPasswordRequired:te,projectBasicCid:ee}),he=location.hash||"",me=he&&he.startsWith("#screen=")&&he.substr(8);t.render(ye(Ce,we,me),re)},Lo=async B=>{let{initialData:S,previewOptions:A,$root:L,projectBasicCid:H}=B;const{user:V}=S,Z=!!V,te={isDesign:!0,isExperience:!Z,isLoggedExperience:Z,isOnPremises:!!S.is_on_premises,isWonderShare:!!S.is_wonder_share},re=createExperienceAPI({isLoggedIn:Z,isImport:!1}),{requestData:ee,renderPreview:Q}=initExperiencePreview({api:re,initialData:S,popupHelper:createPopupHelper(),previewOptions:A,designOptions:te,experienceLoginModalHelper}),{projectAlike:se,projectMeta:ne}=await ee({projectBasicCid:H}),le=location.hash||"",ye=le&&le.startsWith("#screen=")&&le.substr(8);ReactDOM.render(Q(se,ne,ye),L)};var Gn=e(62737),$t=e(99650),Ge=e(1e3);const Yt=j.ZP.div.withConfig({displayName:"styles__StyledExampleApp",componentId:"sc-93zovs-0"})(["&{position:absolute;top:0;left:0;bottom:0;right:0;transition:all 0.2s ease-in-out;.mb-loading{position:absolute;top:50%;left:50%;margin-top:-50px;margin-left:-50px;width:100px;height:100px;}}.mb-design-page{&,#mb-toolbar,.mb-left-panel{transition:all 0.2s ease-in-out;}&.is-collapse{opacity:0;#mb-toolbar{transform:translateY(-100%);}.mb-left-panel{transform:translateX(-100%);}.mb-rightpane{transform:translateX(100%);}}}.mb-preview-page{position:absolute;top:0;left:0;width:100%;bottom:0;font-size:12px;transition:all 0.2s ease-in-out;&.is-collapse{opacity:0;}}"]);var Qt=e(43980),cn=e(27940),qt=e(4091);const Fn=B=>/\/app\/experience\//.test(B),Kn=B=>/\/app\/design\//.test(B),en=B=>/\/app\//.test(B)&&!Fn(B)&&!Kn(B);class Hn extends E.PureComponent{constructor(S){var A;super(S),A=this,(0,r.Z)(this,"playDesignPageLeaveAnimation",function(ne){return ne===void 0&&(ne=200),A.setState({isDesignCollapse:!0}),new Promise(le=>setTimeout(le,ne))}),(0,r.Z)(this,"handleBackButtonClick",async()=>{var ne;const{initialData:{goback_url:le}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(le||"/dashboard/"+(((ne=MB.currentOrg)==null?void 0:ne.cid)||"me"))}),(0,r.Z)(this,"handlePlayButtonClick",async(ne,le,ye)=>{let{isInspect:Ce,isComment:we}=ye;await this.playDesignPageLeaveAnimation();const me={previewMode:Ce?"inspect":we?"comment":"preview",projectCid:ne,screenCid:le};this.setState({isPreview:!0,previewData:me})}),(0,r.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"keyboardManager",new Ne.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null};const{popupHelper:L,designOptions:H,api:V,initialData:Z,initStoreRelated:te,prepareProjectUpper:re}=S,{requestData:ee,renderDesign:Q,renderPreview:se}=(0,$t.a7)({api:V,popupHelper:L,experienceLoginModalHelper:Jt.m,initialData:Z,initStoreRelated:te,designOptions:H,prepareProjectUpper:re,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount});this.requestData=ee,this.renderDesign=Q}componentDidMount(){const S=performance.now(),{projectUpperCid:A,initialData:L,designOptions:H}=this.props;let V=!1;location.pathname.includes((0,qt.S3)("review"))&&(V=!0),Promise.all([this.requestData(A,V),new Promise(Z=>setTimeout(Z,800))]).then(Z=>{let[{projectAlike:te,projectMeta:re}]=Z;this.setState({projectAlike:te,projectMeta:re},()=>{this.setState({isDataLoaded:!0})});const ee=performance.now(),Q=Math.ceil((ee-S)/1e3);typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{load_time:Q,project_name:L.projectName,project_cid:A,project_type:"\u539F\u578B V8",success:1,source:H.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&en(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91"}),Q>30&&(0,Qt.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(Z=>{console.error("[ExampleApp] requestData failed",Z),typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:Z})})}render(){const{screenCid:S,designOptions:A}=this.props,{isLoading:L,isDataLoaded:H,isDesignCollapse:V,isPreview:Z,previewData:te,projectAlike:re,projectMeta:ee}=this.state,{renderDesign:Q,handleBackToDesign:se,renderPreview:ne}=this,{isWonderShare:le}=A;let ye=!1;return location.pathname.includes((0,qt.S3)("review"))&&(ye=!0),(0,h.jsx)(Ne.XC.Provider,{value:this.keyboardManager,children:(0,h.jsx)(ot.Z,{children:(0,h.jsxs)(Yt,{className:"example-app",children:[H&&(0,h.jsx)(E.Fragment,{children:(0,h.jsx)(Gn.Z,{screenCid:S,isCollapse:V,projectAlike:re,projectMeta:ee,renderDesign:Q,isFromReadOnly:ye})}),L&&(0,h.jsx)(f.Z,{className:"mb-loading",isNormal:le})]})})})}}(0,r.Z)(Hn,"propTypes",{api:v().object,initialData:v().object,projectUpperCid:v().string,screenCid:v().string,designOptions:v().object,prepareProjectUpper:v().func,initStoreRelated:v().func,popupHelper:v().object});class Vn extends E.PureComponent{constructor(S){var A;super(S),A=this,(0,r.Z)(this,"playDesignPageLeaveAnimation",function(he){return he===void 0&&(he=200),A.setState({isDesignCollapse:!0}),new Promise(me=>setTimeout(me,he))}),(0,r.Z)(this,"handleBackButtonClick",async()=>{var he;const{initialData:{goback_url:me}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(me||"/dashboard/"+(((he=MB.currentOrg)==null?void 0:he.cid)||"me"))}),(0,r.Z)(this,"handlePlayButtonClick",async(he,me,Le)=>{let{isInspect:We,isComment:Re}=Le;await this.playDesignPageLeaveAnimation();const Fe={previewMode:We?"inspect":Re?"comment":"preview",projectCid:he,screenCid:me};this.setState({isPreview:!0,previewData:Fe})}),(0,r.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"keyboardManager",new Ne.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null,projectShare:void 0};const{popupHelper:L,designOptions:H,api:V,initialData:Z,initStoreRelated:te,prepareProjectUpper:re,sharing:ee,password:Q,isHtmlZip:se,isSquare:ne,isEmbedV2:le}=S,ye=!(se||ne||le),{requestData:Ce,renderDesign:we}=(0,$t.nr)({api:V,popupHelper:L,experienceLoginModalHelper:Jt.m,initialData:Z,initStoreRelated:te,designOptions:H,prepareProjectUpper:re,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:ee,password:Q,showGuide:ye});this.requestData=Ce,this.renderDesign=we}componentDidMount(){const S=performance.now(),{projectUpperCid:A,initialData:L,designOptions:H}=this.props;let V=!1;location.pathname.includes((0,qt.S3)("review"))&&(V=!0),Promise.all([this.requestData(A,V),new Promise(Z=>setTimeout(Z,800))]).then(Z=>{let[{projectAlike:te,projectMeta:re,projectShare:ee}]=Z;this.setState({projectAlike:te,projectMeta:re,projectShare:ee},()=>{this.setState({isDataLoaded:!0})});const Q=performance.now(),se=Math.ceil((Q-S)/1e3);typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{load_time:se,project_name:L.projectName,project_cid:A,project_type:"\u539F\u578B V8",success:1,source:H.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&en(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91"}),se>30&&(0,Qt.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(Z=>{console.error("[ExampleApp] requestData failed",Z),typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:Z})})}render(){const{screenCid:S,designOptions:A,isHtmlZip:L}=this.props,{isLoading:H,isDataLoaded:V,isDesignCollapse:Z,projectAlike:te,projectMeta:re,projectShare:ee}=this.state,{renderDesign:Q}=this,{isWonderShare:se}=A;return ee!=null&&ee.screen_visible_switch&&(ee==null?void 0:ee.screen_visible_list.length)===0?(0,h.jsx)(y.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}):(0,h.jsx)(Ne.XC.Provider,{value:this.keyboardManager,children:(0,h.jsx)(ot.Z,{children:(0,h.jsxs)(Yt,{className:"example-app",children:[V&&(0,h.jsx)(E.Fragment,{children:(0,h.jsx)(cn.R,{screenCid:S,isCollapse:Z,projectAlike:te,projectMeta:re,renderDesign:Q,projectShare:ee,isHtmlZip:L})}),H&&(0,h.jsx)(f.Z,{className:"mb-loading",isNormal:se})]})})})}}(0,r.Z)(Vn,"propTypes",{api:v().object,initialData:v().object,projectUpperCid:v().string,screenCid:v().string,designOptions:v().object,prepareProjectUpper:v().func,initStoreRelated:v().func,popupHelper:v().object,sharing:v().object,password:v().string,isHtmlZip:v().bool,isSquare:v().bool,isEmbedV2:v().bool});class Zn extends E.PureComponent{constructor(S){var A;super(S),A=this,(0,r.Z)(this,"playDesignPageLeaveAnimation",function(me){return me===void 0&&(me=200),A.setState({isDesignCollapse:!0}),new Promise(Le=>setTimeout(Le,me))}),(0,r.Z)(this,"handleBackButtonClick",async()=>{var me;const{initialData:{goback_url:Le}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(Le||"/dashboard/"+(((me=MB.currentOrg)==null?void 0:me.cid)||"me"))}),(0,r.Z)(this,"handlePlayButtonClick",async(me,Le,We)=>{let{isInspect:Re,isComment:Ve}=We;await this.playDesignPageLeaveAnimation();const rt={previewMode:Re?"inspect":Ve?"comment":"preview",projectCid:me,screenCid:Le};this.setState({isPreview:!0,previewData:rt})}),(0,r.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"keyboardManager",new Ne.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null,projectShare:void 0};const{popupHelper:L,designOptions:H,api:V,initialData:Z,initStoreRelated:te,prepareProjectUpper:re,sharing:ee,password:Q,isHtmlZip:se,isSquare:ne,isEmbedV2:le,projectVersion:ye}=S,Ce=!(se||ne||le),{requestData:we,renderDesign:he}=(0,$t.oI)({api:V,popupHelper:L,experienceLoginModalHelper:Jt.m,initialData:Z,initStoreRelated:te,designOptions:H,prepareProjectUpper:re,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:ee,password:Q,showGuide:Ce,projectVersion:ye});this.requestData=we,this.renderDesign=he}componentDidMount(){const S=performance.now(),{projectUpperCid:A,initialData:L,designOptions:H}=this.props;let V=!1;location.pathname.includes((0,qt.S3)("review"))&&(V=!0),Promise.all([this.requestData(A,V),new Promise(Z=>setTimeout(Z,800))]).then(Z=>{let[{projectAlike:te,projectMeta:re,projectShare:ee}]=Z;this.setState({projectAlike:te,projectMeta:re,projectShare:ee},()=>{this.setState({isDataLoaded:!0})});const Q=performance.now(),se=Math.ceil((Q-S)/1e3);typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{load_time:se,project_name:L.projectName,project_cid:A,project_type:"\u539F\u578B V8",success:1,source:H.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&en(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91"}),se>30&&(0,Qt.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(Z=>{console.error("[ExampleApp] requestData failed",Z),typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:Z})})}render(){const{screenCid:S,designOptions:A,isHtmlZip:L}=this.props,{isLoading:H,isDataLoaded:V,isDesignCollapse:Z,projectAlike:te,projectMeta:re,projectShare:ee}=this.state,{renderDesign:Q}=this,{isWonderShare:se}=A;return ee!=null&&ee.screen_visible_switch&&(ee==null?void 0:ee.screen_visible_list.length)===0?(0,h.jsx)(y.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:()=>backToHomePageWithSaTrack("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}):(0,h.jsx)(Ne.XC.Provider,{value:this.keyboardManager,children:(0,h.jsx)(ot.Z,{children:(0,h.jsxs)(Yt,{className:"example-app",children:[V&&(0,h.jsx)(E.Fragment,{children:(0,h.jsx)(cn.R,{screenCid:S,isCollapse:Z,projectAlike:te,projectMeta:re,renderDesign:Q,projectShare:ee,isHtmlZip:L})}),H&&(0,h.jsx)(f.Z,{className:"mb-loading",isNormal:se})]})})})}}(0,r.Z)(Zn,"propTypes",{api:v().object,initialData:v().object,projectUpperCid:v().string,screenCid:v().string,designOptions:v().object,prepareProjectUpper:v().func,initStoreRelated:v().func,popupHelper:v().object,sharing:v().object,password:v().string,isHtmlZip:v().bool,isSquare:v().bool,isEmbedV2:v().bool,projectVersion:v().string});class yn extends E.PureComponent{constructor(S){var A;super(S),A=this,(0,r.Z)(this,"playDesignPageLeaveAnimation",function(he){return he===void 0&&(he=200),A.setState({isDesignCollapse:!0}),new Promise(me=>setTimeout(me,he))}),(0,r.Z)(this,"handleBackButtonClick",async()=>{var he;const{initialData:{goback_url:me}}=this.props;await this.playDesignPageLeaveAnimation(),location.replace(me||"/dashboard/"+(((he=MB.currentOrg)==null?void 0:he.cid)||"me"))}),(0,r.Z)(this,"handlePlayButtonClick",async(he,me,Le)=>{let{isInspect:We,isComment:Re}=Le;await this.playDesignPageLeaveAnimation();const Fe={previewMode:We?"inspect":Re?"comment":"preview",projectCid:he,screenCid:me};this.setState({isPreview:!0,previewData:Fe})}),(0,r.Z)(this,"handleDesignDidMount",()=>{this.setState({isLoading:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"handleBackToDesign",()=>{this.setState({isPreview:!1,isDesignCollapse:!1})}),(0,r.Z)(this,"keyboardManager",new Ne.Sm),this.state={isLoading:!0,isDataLoaded:!1,isDesignCollapse:!0,isPreview:!1,previewData:null,projectAlike:null,projectMeta:null};const{popupHelper:L,designOptions:H,api:V,initialData:Z,initStoreRelated:te,prepareProjectUpper:re,sharing:ee,password:Q,isHtmlZip:se,isSquare:ne,isEmbedV2:le}=S,ye=!(se||ne||le),{requestData:Ce,renderDesign:we}=(0,$t.lS)({api:V,popupHelper:L,experienceLoginModalHelper:Jt.m,initialData:Z,initStoreRelated:te,designOptions:H,prepareProjectUpper:re,onBackButtonClick:this.handleBackButtonClick,onPlayButtonClick:this.handlePlayButtonClick,onComponentDidMount:this.handleDesignDidMount,sharing:ee,password:Q,showGuide:ye});this.requestData=Ce,this.renderDesign=we}componentDidMount(){const S=performance.now(),{projectUpperCid:A,initialData:L,designOptions:H}=this.props;Promise.all([this.requestData(A),new Promise(V=>setTimeout(V,800))]).then(V=>{let[{projectAlike:Z,projectMeta:te}]=V;this.setState({projectAlike:Z,projectMeta:te},()=>{this.setState({isDataLoaded:!0})});const re=performance.now(),ee=Math.ceil((re-S)/1e3);typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{load_time:ee,project_name:L.projectName,project_cid:A,project_type:"\u539F\u578B V8",success:1,source:H.isExperience?"\u7D20\u6750\u5E7F\u573A-\u7F16\u8F91\u539F\u578B":window.opener?document.referrer&&en(new URL(document.referrer))?"hover \u7F16\u8F91\u6309\u94AE":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u7F16\u8F91":"\u9879\u76EE\u7BA1\u7406\u9875-\u66F4\u591A-\u65B0\u6807\u7B7E\u9875\u7F16\u8F91"}),ee>30&&(0,Qt.uT)("\u7F16\u8F91\u533A----\u9879\u76EE\u6253\u5F00\u8D85\u8FC730s")}).catch(V=>{console.error("[ExampleApp] requestData failed",V),typeof Ge.U1=="function"&&(0,Ge.U1)("load_success_project",{project_type:"\u539F\u578B V8",success:0,error_type:V})})}render(){const{screenCid:S,designOptions:A,isHtmlZip:L}=this.props,{isLoading:H,isDataLoaded:V,isDesignCollapse:Z,projectAlike:te,projectMeta:re}=this.state,{renderDesign:ee}=this,{isWonderShare:Q}=A;return(0,h.jsx)(Ne.XC.Provider,{value:this.keyboardManager,children:(0,h.jsx)(ot.Z,{children:(0,h.jsxs)(Yt,{className:"example-app",children:[V&&(0,h.jsx)(E.Fragment,{children:(0,h.jsx)(cn.R,{screenCid:S,isCollapse:Z,projectAlike:te,projectMeta:re,renderDesign:ee,isHtmlZip:L})}),H&&(0,h.jsx)(f.Z,{className:"mb-loading",isNormal:Q})]})})})}}(0,r.Z)(yn,"propTypes",{api:v().object,initialData:v().object,projectUpperCid:v().string,screenCid:v().string,designOptions:v().object,prepareProjectUpper:v().func,initStoreRelated:v().func,popupHelper:v().object,sharing:v().object,password:v().string,isHtmlZip:v().bool,isSquare:v().bool,isEmbedV2:v().bool});var zn=e(92029);const Et="hzv3",Xn="pid",Jn="pbj",$n="psol",Sn="psv2am",Oo=()=>isBasicObject(window[TAG_HTML_ZIP_V3]),Ut=()=>(0,zn.hK)(window[Et],"missing htmlZipV3 data"),Yn=async()=>(Ut(),window[Et][Xn]),Cn=async()=>{Ut();const{project_basic:B,screen_aligns:S,project_metas:A,screen_glues:L,screen_metas:H}=window[Et][Jn];return{projectBasic:B,screenAlignList:S,projectMetaList:A,screenGlueList:L,screenMetaList:H,projectScreenObjectList:window[Et][$n]}},Qn=async()=>(Ut(),{artboards:Object.values(window[Et][Sn]).map(B=>{let{artboard:S}=B;return S})}),qn=async B=>(Ut(),window[Et][Sn][B]),Io=async()=>{Ut();const{project_share:B}=window[TAG_HTML_ZIP_V3][TAG_PROJECT_BASIC_JSON];return{projectShare:B}},Mn={requestPreviewInitialData:Yn,requestProjectFullDataByAccessToken:async B=>{let{projectEncryptedPassword:S}=B;const{projectMetaList:[A],screenGlueList:L,screenMetaList:H,projectScreenObjectList:V,projectBasic:Z,screenAlignList:te}=await Cn(),{password:re}=Z;if(re&&S!==re)throw new Error("error password");return{projectMeta:A,screenGlueList:L,screenMetaList:H,projectScreenObjectList:V,projectBasic:Z,screenAlignList:te}},requestSketchArtboardList:Qn,requestSketchArtboardById:qn,requestProjectShare:async B=>({projectShare:{screen_visible_switch:!1,screen_visible_list:[]}}),fetchDataProjectBasic:Cn};var En=e(61134),eo=e(38528),to=e(47518);e.p="./mb-proto2/";const no=document.getElementById("workspace"),oo=async()=>{var B;const S=U({isHTMLZip:!0});(0,T.tq)()&&$("body").addClass("mobile");let A=await(0,m.vn)();const{isOnPremises:L,isWonderShare:H,projectUpper:V,projectMeta:Z}=A;A={...A,projectName:V.name,is_on_premises:L,is_wonder_share:H,project_basic:V,project_meta:Z};const te=(0,to.D)({project:V}),{locale:re,projectName:ee,is_on_premises:Q,is_wonder_share:se}=A,ne=await(0,eo.Q)(re);document.title=I18N.__entry__.site_title+" - "+(0,ce.FQ)(V.name||V.title),!Q&&!se&&(0,Ge.wb)(),(0,En.N_)("isOnPremises",!!Q),(0,En.N_)("isWonderShare",!!se);const{projectAccessToken:le,projectEncryptedPassword:ye,isPasswordRequired:Ce}=A,we=(B=new URLSearchParams(location.search))==null?void 0:B.get("view_mode"),he=window.HZv5_PREVIEW_MODE||"";if(we?we==="device":he==="device")Zt(ne,ee),await Nn({initialData:A,previewOptions:S,api:Mn,initStoreRelated:vn,projectAccessToken:le,projectEncryptedPassword:ye,isPasswordRequired:Ce,sharing:te,$root:document.getElementById("workspace")});else{const Re={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!Q,isWonderShare:!!se,guideType:void 0};t.render((0,h.jsx)(yn,{initialData:A,designOptions:Re,api:Mn,projectAccessToken:le,projectEncryptedPassword:ye,isPasswordRequired:Ce,sharing:te,isHtmlZip:!0,initStoreRelated:vn}),no)}};document.addEventListener("DOMContentLoaded",async()=>{await oo()})},78467:(F,x,e)=>{"use strict";e.d(x,{HM:()=>d,mB:()=>r});var t=e(7324),m=e(45090),y=e(46198),E=e(95534),o=e(25797),I=e(35269);const n=document.getElementById("workspace"),c=(0,m.vJ)([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),g=(i,p,P)=>{ReactDOM.render(_jsxs(_Fragment,{children:[_jsx(c,{}),_jsx(CrashedPage,{errorType:i.status||401,customTitle:p,customDes:P})]}),n)},r=async i=>{var p;let P,w,a,u,s;try{({user:s}=await(0,o.EE)("/api/web/v3/initial"))}catch(l){P=()=>{y.render((0,I.jsx)(E.Z,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:()=>location.reload()}),document.getElementById("IBOT_MODAL_ROOT"))},w="\u767B\u5F55",u=()=>{y.render((0,I.jsx)(E.Z,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:()=>location.reload()}),document.getElementById("IBOT_MODAL_ROOT"))},a="\u6CE8\u518C",s={}}y.render((0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c,{}),(0,I.jsx)(t.Z,{errorType:i.status||401,identity:1,account:(p=s)==null?void 0:p.email,primaryBtnText:w,primaryBtnClick:P,secondaryBtnText:a,secondaryBtnClick:u})]}),n)},_=async i=>{var p;let P,w,a,u,s;const l=window.location.host;try{({user:s}=await fetchGetJSON("/api/web/v3/initial"))}catch(M){P=()=>{window.open("https://"+l+"/embed/auth_box?type=signin","_blank")},w="\u767B\u5F55",u=()=>{window.open("https://"+l+"/embed/auth_box?type=signup","_blank")},a="\u6CE8\u518C"}ReactDOM.render(_jsx(CrashedPage,{errorType:i.status||401,identity:1,account:(p=s)==null?void 0:p.email,primaryBtnText:w,primaryBtnClick:P,secondaryBtnText:a,secondaryBtnClick:u,isLogoClickable:!1}),n)},d=(i,p)=>{let P="";i==="zh-CN"?P="/":i==="jp"?P="https://mockitt.wondershare.jp":P="https://mockitt.wondershare.com",location.replace(P)}},57690:(F,x,e)=>{"use strict";e.d(x,{F:()=>m,b:()=>y});var t=e(45090);const m=(0,t.vJ)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],E=>E.theme.color_background_split,E=>E.theme.color_background_split_hover,E=>E.theme.color_background_split_hover),y=(0,t.vJ)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},52378:(F,x,e)=>{"use strict";e.d(x,{$M:()=>r,Ai:()=>i,EJ:()=>u,Mc:()=>P,Ps:()=>_,bN:()=>w,iw:()=>d,rG:()=>p});var t=e(170),m=e(26131),y=e(2888),E=e(22246),o=e(66918),I=e(13738),n=e(19635),c=e(69432),g=e(60731);const r=s=>t[s]||null,_=s=>{let{prefix:l,iconName:M}=s;switch(l){case"fab":return m[M];case"far":return y[M];case"fas":return E[M];default:return null}},d=s=>{if(o[s])return o[s];throw new Error("iconCat and iconId is undefined")},i=s=>{if(I[s])return I[s];throw new Error("iconCat and iconId is undefined")},p=s=>{if(n[s])return n[s];throw new Error("iconCat and iconId is undefined")},P=s=>{if(c[s])return c[s];throw new Error("iconCat and iconId is undefined")},w=s=>{if(g[s])return g[s];throw new Error("iconCat and iconId is undefined")},a=(s,l,M)=>{if(s&&(l!=="unset"||M)){let D=M?"url(#"+M+")":l;const v=s.children;v&&v.length>0&&v.forEach(W=>{const h=W.getAttribute("fill"),k=W.getAttribute("stroke");k&&k!=="none"?(W.setAttribute("stroke",D),(!h||h==="none")&&W.setAttribute("fill","none")):h&&h!=="none"?(W.setAttribute("fill",D),(!k||k==="none")&&W.setAttribute("stroke","none")):!h&&!k&&W.setAttribute("fill",D),a(W,D)})}},u=(s,l,M)=>{const D='<svg xmlns="http://www.w3.org/2000/svg">'+s+"</svg>",W=new DOMParser().parseFromString(D,"text/html"),h=W.querySelector("svg");return W.querySelector("parsererror")?s:(a(h,l,M),h.innerHTML)}},48290:(F,x,e)=>{"use strict";e.d(x,{CO:()=>n,SB:()=>c});var t=e(53555),m=e(94189);const y=g=>{if(g.toLowerCase()==="transparent")return{r:255,g:255,b:255};{const r=g.replace(/^#/,"");return{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16)}}},E=(g,r)=>{const{r:_,g:d,b:i}=y(g);return"rgba("+_+", "+d+", "+i+", "+r+")"},o=null,I=g=>("0"+parseInt(g).toString(16)).slice(-2),n=g=>!g||g==="rgba(0, 0, 0, 0)"||g==="transparent"?"transparent":(g=g.match(/^rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/),"#"+I(g[1])+I(g[2])+I(g[3])),c=g=>(0,m.LW)((0,m.LS)(g))},21800:(F,x,e)=>{"use strict";e.d(x,{$e:()=>a,KR:()=>r,SP:()=>p,Ur:()=>n,W_:()=>g,_4:()=>c,ih:()=>u,nJ:()=>_,oe:()=>I});var t=e(18582),m=e(54635);const y="Italic",E=500,o={invisible:0,thin:100,extraLight:200,light:300,regular:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900,extraBlack:1e3},I={12:17,13:19,14:20,16:23,18:25,20:28,28:39,36:50,48:68,72:101},n=(s,l)=>{const M=o[s]||400;return l?Math.max(M,700):M},c=s=>{let l;return Object.entries(o).every(M=>{let[D,v]=M;return v===s?(l=D,!1):!0}),l||"regular"},g=s=>s.includes(y)?s.replace(y,""):s,r=s=>s.includes(y),_=s=>{const l=g(s);return o[l]>=E},d=t.filter(s=>{let{isShowOnMBServer:l}=s;return!l}),i=s=>{let{label:l,family:M,limitedDevices:D}=s;return{label:l,value:M,limitedDevices:D}},p=d.map(i),P=s=>s.includes(y)?""+I18N.dUtils.rich_text_settings.weight[s.replace(y,"")]+I18N.dUtils.rich_text_settings.weight.italic:I18N.dUtils.rich_text_settings.weight[s],w=s=>{const l=t.find(M=>{let{family:D}=M;return D===s});return l?l.typeList.map(M=>({label:P(M),value:M})):[]},a=(s,l)=>{const M=d.find(D=>{let{family:v}=D;return v===s});return M?M.label+"-"+P(l):s+"-"+l},u=(0,m.LL)(w)},33258:(F,x,e)=>{"use strict";e.d(x,{SZ:()=>o,WP:()=>c,Wi:()=>I});var t=e(2909),m=e(18166),y=e(51232),E=e(58057);const o=r=>{let{screenGlue:_,project:d,screen:i}=r;return _.type==="project-main"&&(d.width===i.width&&i.height>=d.height||d.height===i.width&&i.height>=d.width)},I=function(r,_,d){d===void 0&&(d=!1);const i=(0,t.No)(_),p=r.orientation,P=(0,y.V5)()?"mac":(0,y.ED)()?"windows":"other-os",w=d?"isQuickAnnotateClass":"";return"mb-screen "+P+" "+i+" "+_+" "+p+" "+w},n=r=>{let _=r.name+"_"+r.stateName;const d=getProjectScreenMetaList(r.project_meta_cid,r.screen_glue_cid);for(;r=d.find(i=>i.cid===r.parent_cid);)_=""+_;return _},c=(r,_)=>{const i=(0,m.YC)(r.sup||"root",_).children.map(w=>w.data),P=i.findIndex(w=>w.cid===r.key)+1;i.splice(P,0,null),i.forEach((w,a)=>{if(w&&(w.sup!==r.sup||w.zIndex!==a+1)){const u=sdkStore.getHotItem(w.cid),s={...u,hotAttr:{...u.hotAttr,zIndex:a+1}};sdkStore.updateHotItem(s)}})},g=r=>r.attr instanceof Object&&!!r.attr.bgcolor},21586:(F,x,e)=>{"use strict";e.d(x,{R:()=>y});var t=e(18166),m=e(29661);const y=o=>{const I=new Set(o.map(n=>n.cid));return o.filter(n=>!I.has(n.parent_cid)).sort((n,c)=>n.position-c.position)[0]},E=o=>{const{screenTreeData:I}=generateScreenDataEssentials(o);return findHomeScreenPageTreeNode(I)}},51232:(F,x,e)=>{"use strict";e.d(x,{B0:()=>d,CL:()=>o,Dt:()=>g,ED:()=>y,IF:()=>i,Md:()=>p,Rv:()=>E,V5:()=>m,_j:()=>P,d:()=>t,i7:()=>I,li:()=>w,tq:()=>c,vU:()=>n});const t=()=>window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent),m=()=>/(Macintosh)/i.test(navigator.userAgent),y=()=>/(Windows)/i.test(navigator.userAgent),E=()=>/(Lark)/i.test(navigator.userAgent),o=()=>/MicroMessenger/i.test(navigator.userAgent),I=()=>/Chrome/i.test(navigator.userAgent),n=()=>/Firefox/i.test(navigator.userAgent),c=()=>/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent),g=()=>/Android/i.test(navigator.userAgent),r=()=>/(iPad)/.test(navigator.userAgent),_=()=>/(iPod|iPhone|iPad)/.test(navigator.userAgent),d=()=>Boolean(window.webkit&&window.webkit.messageHandlers),i=()=>navigator.standalone,p=()=>/\/uichina$/.test(location.pathname),P=()=>/\/forum$/.test(location.pathname),w=()=>/(MobileClient)/.test(navigator.userAgent)},39488:F=>{(function(x){var e,t={},m={16:!1,18:!1,17:!1,91:!1},y="all",E={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},o={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220,numpad_subtract:109,numpad_add:107,numpad_0:96,numpad_1:97,numpad_2:98},I=function(f){return o[f]||f.toUpperCase().charCodeAt(0)},n=[];for(e=1;e<20;e++)o["f"+e]=111+e;function c(f,j){for(var K=f.length;K--;)if(f[K]===j)return K;return-1}function g(f,j){if(f.length!=j.length)return!1;for(var K=0;K<f.length;K++)if(f[K]!==j[K])return!1;return!0}var r={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function _(f){for(e in m)m[e]=f[r[e]]}function d(f){var j,K,C,N,b,X;if(j=f.keyCode,c(n,j)==-1&&n.push(j),(j==93||j==224)&&(j=91),j in m){m[j]=!0;for(C in E)E[C]==j&&(P[C]=!0);return}if(_(f),!!P.filter.call(this,f)&&j in t){for(X=D(),N=0;N<t[j].length;N++)if(K=t[j][N],K.scope==X||K.scope=="all"){b=K.mods.length>0;for(C in m)(!m[C]&&c(K.mods,+C)>-1||m[C]&&c(K.mods,+C)==-1)&&(b=!1);(K.mods.length==0&&!m[16]&&!m[18]&&!m[17]&&!m[91]||b)&&(P.track.call(this,K),K.method(f,K)===!1&&(f.preventDefault?f.preventDefault():f.returnValue=!1,f.stopPropagation&&f.stopPropagation(),f.cancelBubble&&(f.cancelBubble=!0)))}}}function i(f){var j=f.keyCode,K,C=c(n,j);if(C>=0&&n.splice(C,1),(j==93||j==224)&&(j=91),j in m){m[j]=!1;for(K in E)E[K]==j&&(P[K]=!1)}}function p(){for(e in m)m[e]=!1;for(e in E)P[e]=!1}function P(f,j,K){var C,N;C=W(f),K===void 0&&(K=j,j="all");for(var b=0;b<C.length;b++)N=[],f=C[b].split("+"),f.length>1&&(N=h(f),f=[f[f.length-1]]),f=f[0],f=I(f),f in t||(t[f]=[]),t[f].push({shortcut:C[b],scope:j,method:K,key:C[b],mods:N})}function w(f,j){var K,C,N=[],b,X,Y;for(K=W(f),X=0;X<K.length;X++){if(C=K[X].split("+"),C.length>1&&(N=h(C)),f=C[C.length-1],f=I(f),j===void 0&&(j=D()),!t[f])return;for(b=0;b<t[f].length;b++)Y=t[f][b],Y.scope===j&&g(Y.mods,N)&&(t[f][b]={})}}function a(f){return typeof f=="string"&&(f=I(f)),c(n,f)!=-1}function u(){return n.slice(0)}function s(f){var j=(f.target||f.srcElement).tagName;return!(j=="INPUT"||j=="SELECT"||j=="TEXTAREA")}function l(f){}for(e in E)P[e]=!1;function M(f){y=f||"all"}function D(){return y||"all"}function v(f){var j,K,C;for(j in t)for(K=t[j],C=0;C<K.length;)K[C].scope===f?K.splice(C,1):C++}function W(f){var j;return f=f.replace(/\s/g,""),j=f.split(","),j[j.length-1]==""&&(j[j.length-2]+=","),j}function h(f){for(var j=f.slice(0,f.length-1),K=0;K<j.length;K++)j[K]=E[j[K]];return j}function k(f,j,K){f.addEventListener?f.addEventListener(j,K,!1):f.attachEvent&&f.attachEvent("on"+j,function(){K(window.event)})}k(document,"keydown",function(f){d(f)}),k(document,"keyup",i),k(window,"focus",p);var G=x.key;function O(){var f=x.key;return x.key=G,f}x.key=P,x.key.setScope=M,x.key.getScope=D,x.key.deleteScope=v,x.key.filter=s,x.key.isPressed=a,x.key.getPressedKeyCodes=u,x.key.noConflict=O,x.key.unbind=w,x.key.track=l,F.exports=P})(window)},44766:(F,x,e)=>{"use strict";e.d(x,{Fs:()=>_,L9:()=>c,lA:()=>d,lo:()=>u});var t=e(27444),m=e(777),y=e(67631),E=e(26844),o=e(14634),I=e(44386);const n=async v=>{let{projectMetaCid:W,projectMetaType:h,screenMetaCidList:k,projectBasicEncryptedPassword:G,accessToken:O=""}=v;if(k.length===0)return[];const f="/project-buffer/"+(0,E.bL)(h)+"/all/"+W+"?password="+G+"&access_token="+O,j=await(0,I.n3)(f,{localKeyList:k});return await(0,y.Of)({projectBufferData:j,parseConcatGzipDataToObjectList:o._D,projectMetaType:h})},c=async v=>{let{projectMetaList:W,screenMetaList:h,projectBasicEncryptedPassword:k=""}=v;const G=[];for(const O of W){const f=(0,t.eO)(h.filter(j=>j.project_meta_cid===O.cid).map(j=>j.cid),1024);for(const j of f)G.push(...await n({projectMetaCid:O.cid,projectMetaType:O.type,screenMetaCidList:j,projectBasicEncryptedPassword:k}))}return G},g=async v=>{let{projectMetaList:W,screenMetaList:h,projectBasicEncryptedPassword:k="",accessToken:G=""}=v;const O=[];for(const f of W){const j=(0,t.eO)(h.filter(K=>K.project_meta_cid===f.cid).map(K=>K.cid),1024);for(const K of j)O.push(...await n({projectMetaCid:f.cid,projectMetaType:f.type,screenMetaCidList:K,projectBasicEncryptedPassword:k,accessToken:G}))}return O},r=async v=>{let{userLocale:W}=v;const{user_combo_groups:h,screen_aligns:k,project_metas:G,screen_glues:O,screen_metas:f}=await fetchGetJSON("/api/web/v3/project_upper/user_combo_groups");return{userComboGroupList:h,screenAlignList:k,projectMetaList:G,screenGlueList:O,screenMetaList:f,projectScreenObjectList:await g({projectMetaList:G,screenMetaList:f})}},_=async v=>{let{projectBasicCid:W,userLocale:h}=v;const{project_basic:k,screen_aligns:G,project_metas:O,screen_glues:f,screen_metas:j}=await(0,I.EE)("/api/web/v3/project_upper/project_basics/"+W);return{projectBasic:k,screenAlignList:G,projectMetaList:O,screenGlueList:f,screenMetaList:j,projectScreenObjectList:await g({projectMetaList:O,screenMetaList:j})}},d=async v=>{let{projectBasicAccessToken:W,projectBasicEncryptedPassword:h="",userLocale:k,projectVersion:G}=v;const{project_basic:O,screen_aligns:f,project_metas:j,screen_glues:K,screen_metas:C}=await(0,I.EE)("/api/web/v3/project_upper/project_basics/"+W+"?password="+h+(G?"&version="+G:"")),N=K.find(X=>X.type===E._H.PROJECT_TRASHCAN),b=N?C.filter(X=>X.screen_glue_cid!==N.cid):C;return{projectBasic:O,screenAlignList:f,projectMetaList:j,screenGlueList:K,screenMetaList:b,projectScreenObjectList:await g({projectMetaList:j,screenMetaList:b,projectBasicEncryptedPassword:h,accessToken:W})}},i=async v=>{let{projectBasicAccessToken:W,projectBasicEncryptedPassword:h="",userLocale:k}=v;const{project_basic:G,screen_aligns:O,project_metas:f,screen_glues:j,screen_metas:K}=await fetchGetJSON("/api/web/v3/project_upper/project_basics/"+W+"?password="+h);return{projectBasic:G,screenAlignList:O,projectMetaList:f,screenGlueList:j,screenMetaList:K,projectScreenObjectList:await g({projectMetaList:f,screenMetaList:K,projectBasicEncryptedPassword:h,accessToken:W})}},p=async v=>{let{projectUpperCid:W,isFromIframe:h=!1}=v;const{market_template:k,screen_aligns:G,project_metas:O,screen_glues:f,screen_metas:j}=await fetchGetJSON("/api/community/v1/market_template/"+W+(h?"?is_from_iframe=true":""));return{projectUpper:k,screenAlignList:G,projectMetaList:O,screenGlueList:f,screenMetaList:j,projectScreenObjectList:await g({projectMetaList:O,screenMetaList:j})}},P=async v=>{let{projectUpperCid:W,isFromIframe:h=1}=v;const{data:k,market_template:G,project_metas:O}=await fetchGetJSON("/api/community/v1/market_template/"+W+(h?"?is_from_iframe=true":""));return{screenMetaList:k,projectUpper:G,projectMetaList:O}},w=async v=>{let{projectUpperCid:W}=v;const{reviewable_project:h,screen_aligns:k,project_metas:G,screen_glues:O,screen_metas:f}=await fetchGetJSON("/api/community/v1/reviewable_project/"+W);return{projectUpper:h,screenAlignList:k,projectMetaList:G,screenGlueList:O,screenMetaList:f,projectScreenObjectList:await g({projectMetaList:G,screenMetaList:f})}},a=async v=>{let{projectUpperCid:W}=v;const{product:h,screen_aligns:k,project_metas:G,screen_glues:O,screen_metas:f}=await fetchGetJSON("/api/web/v3/product/"+W);return{projectUpper:h,screenAlignList:k,projectMetaList:G,screenGlueList:O,screenMetaList:f,projectScreenObjectList:await g({projectMetaList:G,screenMetaList:f})}},u=async(v,W)=>{let{teamCid:h,userLocale:k}=v;const{name:G,type:O,attr:f={},device:j,model:K,width:C,height:N,visibility:b}=W,X=m.eM,{userId:Y,upperCid:ae,projectMetaCid:q}=await(0,I.Gf)("/project-buffer/"+O+"/check-init/project-upper?upperType="+X,{presetOption:{locale:k,name:G,type:O,device:j,model:K,width:C,height:N},railsExtra:{team_cid:h,visibility:b,name:G,type:O,attr:f,device:j,model:K,width:C,height:N}});return{userId:Y,upperCid:ae,upperType:X,projectMetaCid:q}},s=async v=>{let{projectBasicCid:W,projectBasicType:h,teamCid:k}=v;const G=UPPER_META_PROJECT_BASIC,{userId:O,upperCid:f,projectMetaCid:j}=await fetchPostJSON("/project-buffer/"+h+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+W,{railsExtra:{team_cid:k}});return{userId:O,upperCid:f,upperType:G,projectMetaCid:j}},l=async v=>{let{upperCid:W,projectMetaCid:h,projectMetaType:k,screenGlueCid:G,screenMetaCidList:O,screenGlueCidList:f=[],nextUpperCid:j,nextProjectMetaCid:K,nextScreenGlueCid:C}=v;const{userId:N}=await fetchPostJSON("/project-buffer/"+k+"/check-transfer/screen-meta?upperCid="+W,{projectMetaCid:h,screenGlueCid:G,screenMetaCidList:O,screenGlueCidList:f,nextUpperCid:j,nextProjectMetaCid:K,nextScreenGlueCid:C});return{userId:N,upperCid:W,nextUpperCid:j}},M=async v=>{let{encryptedPassword:W,accessToken:h}=v;const{urlHtmlZip:k}=await fetchPostJSON("/nodekiq/build-html-zip",{encryptedPassword:W,accessToken:h});return{urlHtmlZip:k}},D=async v=>{let{encryptedPassword:W,accessToken:h}=v;const{urlApk:k}=await fetchPostJSON("/nodekiq/build-apk",{encryptedPassword:W,accessToken:h});return{urlApk:k}}},70826:(F,x,e)=>{"use strict";e.d(x,{df:()=>o,nQ:()=>n,vf:()=>c});var t=e(84766),m=e(26844);const y=d=>{let{projectStore:i,itemList:p=[],screenStateCid:P,screenMetaCid:w,screenGlueCid:a,isFollowItemLinkCidRef:u=!0,isFollowItemPanelScreenGlueRef:s=!0,isFollowPanelTemplateOnly:l=!1}=d;const M=new Set,D=new Set;for(const{cid:v,name:W,link_cids:h,screen_glue_cid:k,tableData:G}of p)if(D.add(v),u&&W==="table"&&G.links.forEach(O=>{O.forEach(f=>{f&&D.add(f)})}),u&&h&&D.add(h),s&&W==="panel"&&k)if(l){const O=i.getLocalScreenGlueByCid(k);O&&O.type===SCREEN_GLUE_TYPE.PANEL_TEMPLATE&&M.add(k)}else M.add(k);return{branchScreenGlueCidSet:M,nodeScreenGlueCidSet:new Set([a]),nodeScreenMetaCidSet:new Set([w]),nodeScreenStateCidSet:new Set([P]),nodeItemCidSet:D}},E=d=>{let{screenStateCid:i,remapScreenStateCid:p=i,screenMetaCid:P,remapScreenMetaCid:w=P,screenGlueCid:a,remapScreenGlueCid:u=a,projectMetaCid:s,remapProjectMetaCid:l=s}=d;return{remapProjectMetaMap:new Map([[s,[l]]]),remapScreenGlueMap:new Map([[a,[u]]]),remapScreenMetaMap:new Map([[P,[w]]]),remapScreenStateMap:new Map([[i,[p]]]),ignoreProjectMetaCidSet:new Set([l]),ignoreScreenGlueCidSet:new Set([u]),ignoreScreenMetaCidSet:new Set([w]),ignoreScreenStateCidSet:new Set([p])}},o=d=>{let{projectStore:i,screenMetaList:p=[],screenGlueCid:P,isFollowItemPanelScreenGlueRef:w=!0,isFollowPanelTemplateOnly:a=!1}=d;const u=new Set,s=new Set;for(const{cid:l}of p){s.add(l);const M=i.getLocalScreenRuntimeStateByCid(l);for(const D of Object.values(M.itemListMap))for(const{name:v,screen_glue_cid:W}of D)if(w&&v==="panel"&&W)if(a){const h=i.getLocalScreenGlueByCid(W);h&&h.type===m._H.PANEL_TEMPLATE&&u.add(W)}else u.add(W)}return{branchScreenGlueCidSet:u,branchScreenMetaCidSet:s,nodeScreenGlueCidSet:new Set([P])}},I=d=>{let{screenMetaList:i=[],remapScreenMetaList:p=[],screenGlueCid:P,remapScreenGlueCid:w=P,projectMetaCid:a,remapProjectMetaCid:u=a}=d;const s=new Map;for(let l=0,M=p.length;l<M;l++){const D=p[l];if(!D)continue;const v=i[l];s.set(v.cid,[D.cid,D])}return{remapProjectMetaMap:new Map([[a,[u]]]),remapScreenGlueMap:new Map([[P,[w]]]),remapScreenMetaMap:s,ignoreProjectMetaCidSet:new Set([u]),ignoreScreenGlueCidSet:new Set([w])}},n=d=>{let{screenGlueList:i=[]}=d;return{branchScreenGlueCidSet:new Set(i.map(p=>p.cid))}},c=d=>{let{screenGlueList:i=[],remapScreenGlueList:p=[],projectMetaCid:P,remapProjectMetaCid:w=P}=d;const a=new Map;for(let u=0,s=p.length;u<s;u++){const l=p[u];if(!l)continue;const M=i[u];a.set(M.cid,[l.cid,l])}return{remapProjectMetaMap:new Map([[P,[w]]]),remapScreenGlueMap:a,ignoreProjectMetaCidSet:new Set([w])}},g=()=>({isBranchProjectMeta:!0}),r=d=>{let{projectMetaCid:i,remapProjectMetaCid:p=i}=d;return{remapProjectMetaMap:new Map([[i,[p]]]),ignoreProjectMetaCidSet:new Set([p])}},_=(d,i)=>{for(const{screenGlue:p,screenMetaNodeList:P}of i.screenGlueNodeList){const w=P.map(D=>{let{screenMeta:v}=D;return v}),a=new Set(w.map(D=>{let{cid:v}=D;return v}));d.screenMetaDataStore.filterMapLocalList(D=>D.screen_glue_cid===p.cid&&!a.has(D.cid)&&w.push(D));const u=new Map,s="root",l=createCidTreeBuilder(s);for(const D of w)l.add(D.cid,D.position||0,D.parent_cid||s);const M=l.build();walkCidTreeJSON(M,(D,v,W)=>u.set(D,v));for(const D of w){const v=u.get(D.cid);v!==D.position&&(a.has(D.cid)?D.position=v:P.push({...D,position:v}))}}}},37506:(F,x,e)=>{"use strict";e.d(x,{$t:()=>I,AM:()=>s,HJ:()=>l,Js:()=>_,OK:()=>c,Py:()=>t,Qd:()=>g,Qg:()=>r,SG:()=>u,TG:()=>E,Uf:()=>P,_G:()=>D,aj:()=>y,dM:()=>w,gi:()=>M,jk:()=>d,qb:()=>o,v1:()=>i,w_:()=>m,y7:()=>n});const t="projectMetaCid",m="refProjectMetaCid",y="screenGlueCid",E="refScreenGlueCid",o="screenMetaCid",I="refScreenMetaCid",n="screenStateCid",c="refScreenStateCid",g="itemGroupCid",r="itemCid",_="refItemCid",d="refExternalUpperCid",i="refExternalArtboardCid",p="default",P={projectMetaCid:"p",screenGlueCid:"sg",screenMetaCid:"s",screenStateCid:"ss",itemGroupCid:"ig",itemCid:"i"},w=h=>""+(h||"")+Date.now().toString(36)+Math.random().toString(36).slice(2,8),a=()=>w(P.projectMetaCid),u=()=>w(P.screenMetaCid),s=()=>w(P.screenGlueCid),l=()=>w(P.screenStateCid),M=()=>w(P.itemGroupCid),D=()=>w(P.itemCid),v=function(h,k){return h===void 0&&(h=new Map),k===void 0&&(k=new Set),{cidMap:h,dedupCidSet:k,onCid:(G,O)=>{if(O==="refProjectMetaCid"||O==="refScreenGlueCid"||O==="refScreenMetaCid"||O==="refScreenStateCid"||O==="refItemCid"||O==="refExternalUpperCid"||O==="refExternalArtboardCid"||h.has(G))return;let f;do f=w(P[O]);while(k.has(f));h.set(G,f),k.add(f)},getCid:(G,O)=>O==="refExternalUpperCid"||O==="refExternalArtboardCid"?G:h.get(G)||G}},W=function(h,k){return h===void 0&&(h=new Map),k===void 0&&(k=new Set),{cidMap:h,dedupCidSet:k,onCid:(G,O)=>{if(O==="refProjectMetaCid"||O==="refScreenGlueCid"||O==="refScreenMetaCid"||O==="refScreenStateCid"||O==="refItemCid"||O==="refExternalUpperCid"||O==="refExternalArtboardCid"||O==="screenMetaCid"||O==="screenStateCid"||G==="default"||h.has(G))return;let f;do f=w(P[O]);while(k.has(f));h.set(G,f),k.add(f)},getCid:(G,O)=>O==="refExternalUpperCid"||O==="refExternalArtboardCid"?G:h.get(G)||G}}},37464:(F,x,e)=>{"use strict";e.d(x,{N3:()=>o,Pg:()=>_,mm:()=>c,oA:()=>p});var t=e(94189);const m=a=>u=>{const{length:s}=u;if(s===1)return a(u[0]);const l=[];for(let M=0;M<s;M++){const D=a(u[M]);D!==""&&l.push(D)}return l.join(",")},y=a=>u=>{const{length:s}=u;if(s===1)return[a(u[0])];const l=[];for(let M=0;M<s;M++)l.push(a(u[M]));return l},E=a=>u=>{const{length:s}=u;if(s===1)return[a(u[0])];const l=[];for(let M=0;M<s;M++)l.push(a(u[M]));return l},o=a=>{let[u,s,l,M,D,v,W]=a;return{isEnable:Boolean(u),color:(0,t.ls)(s),offsetX:l,offsetY:M,blurRadius:D,spreadRadius:v,inset:Boolean(W)}},I=a=>{let{isEnable:u,color:s,offsetX:l,offsetY:M,blurRadius:D,spreadRadius:v,inset:W}=a;return[Number(u),(0,t.SF)(s),l,M,D,v,Number(W)]},c=m(a=>{let[u,s,l,M,D,v,W]=a;return u?(W===1?"inset":"")+" "+(l||0)+"px "+(M||0)+"px "+(D||0)+"px "+(v||0)+"px "+(0,t.LW)(s):""}),g=y(I),r=E(o),_=a=>{let[u,s,l,M,D]=a;return{isEnable:Boolean(u),color:(0,t.ls)(s),offsetX:l,offsetY:M,blurRadius:D}},d=a=>{let{isEnable:u,color:s,offsetX:l,offsetY:M,blurRadius:D}=a;return[Number(u),(0,t.SF)(s),l,M,D]},p=m(a=>{let[u,s,l,M,D]=a;return u?(l||0)+"px "+(M||0)+"px "+(D||0)+"px "+(0,t.LW)(s):""}),P=y(d),w=E(_)},53236:(F,x,e)=>{"use strict";e.d(x,{CH:()=>c,xm:()=>n});var t=e(37506),m=e(34934),y=e(15566);const E=g=>{let{projectMeta:r,screenGlueList:_,screenMetaList:d,screenObjectList:i}=g;const p=toListMapByMapCid(d,a=>a.screen_glue_cid),P=toMapByCid(i),w=[];for(const a of _){const u=[],s=p[a.cid];if(s)for(const l of s){const M=[];for(const{data:D,itemList:v}of P[l.cid].stateList)M.push({screenState:D,itemList:v});u.push({screenMeta:l,screenStateNodeList:M})}w.push({screenGlue:a,screenMetaNodeList:u})}return{projectMeta:r,screenGlueNodeList:w}},o=g=>{let{projectMeta:r,screenGlueNodeList:_}=g;const d=[],i=[],p=[];for(const{screenGlue:P,screenMetaNodeList:w}of _){for(const{screenMeta:a,screenStateNodeList:u}of w){const s=[];for(const{screenState:l,itemList:M}of u)s.push(createScreenStateObject(l,M,r.type));p.push(createScreenObject(a.cid,s)),i.push(a)}d.push(P)}return{projectMeta:r,screenGlueList:d,screenMetaList:i,screenObjectList:p}},I=g=>{let{projectMetaList:r,screenGlueList:_,screenMetaList:d,screenObjectList:i}=g;const p=toListMapByMapCid(_,u=>u.project_meta_cid),P=toListMapByMapCid(d,u=>u.project_meta_cid+"/"+u.screen_glue_cid),w=toMapByCid(i),a=[];for(const u of r){const s=[];for(const l of p[u.cid]){const M=[],D=P[u.cid+"/"+l.cid];if(D)for(const v of D){const W=[];for(const{data:h,itemList:k}of w[v.cid].stateList)W.push({screenState:h,itemList:k});M.push({screenMeta:v,screenStateNodeList:W})}s.push({screenGlue:l,screenMetaNodeList:M})}a.push({projectMeta:u,screenGlueNodeList:s})}return a},n=(g,r)=>{let{branchScreenGlueCidSet:_,branchScreenMetaCidSet:d,branchScreenStateCidSet:i,isBranchProjectMeta:p=!1,nodeScreenGlueCidSet:P,nodeScreenMetaCidSet:w,nodeScreenStateCidSet:a,nodeItemCidSet:u}=r;const s=g.getLocalProjectMeta(),l=[],M=P&&P.size>=1,D=w&&w.size>=1,v=a&&a.size>=1,W=u&&u.size>=1&&(h=>u.has(h.cid));for(const h of g.getLocalScreenGlueList()){const k=p||_&&_.has(h.cid);if(!(k||M&&P.has(h.cid)))continue;const G=[];for(const O of g.getLocalScreenMetaListByScreenGlueCid(h.cid)){const f=k||d&&d.has(O.cid);if(!(f||D&&w.has(O.cid)))continue;const j=[],{dataMap:K,itemListMap:C}=g.getLocalScreenRuntimeStateByCid(O.cid),N=Object.keys(K);for(const b of N){const X=K[b],Y=f||i&&i.has(X.cid);if(!(Y||v&&a.has(X.cid)))continue;const ae=C[b];j.push({screenState:X,itemList:Y?ae:W?ae.filter(W):[]})}G.push({screenMeta:O,screenStateNodeList:j})}l.push({screenGlue:h,screenMetaNodeList:G})}return{projectMeta:s,screenGlueNodeList:l}},c=(g,r)=>{let{remapProjectMetaMap:_,remapScreenGlueMap:d,remapScreenMetaMap:i,remapScreenStateMap:p,remapItemMap:P,ignoreProjectMetaCidSet:w,ignoreScreenGlueCidSet:a,ignoreScreenMetaCidSet:u,ignoreScreenStateCidSet:s,ignoreItemCidSet:l}=r;const M=_&&_.size>=1,D=d&&d.size>=1,v=i&&i.size>=1,W=p&&p.size>=1,h=P&&P.size>=1,k=new Map,G=new Map,O=N=>{for(const[b,[X,Y]]of N)k.set(b,X),Y!==void 0&&G.set(b,Y)};M&&O(_),D&&O(d),v&&O(i),W&&O(p),h&&O(P);const f=M||D,j=f||v,K=j||W;(0,y.V$)(g,(N,b)=>{(f&&b===t.aj||j&&b===t.qb||K&&b===t.y7||b===t.Qd||b===t.Qg)&&!k.has(N)&&k.set(N,(0,t.dM)((N||"").slice(0,11)||t.Uf[b]))});const C=N=>k.get(N)||N;return{projectDocument:(0,y.HW)(g,(N,b)=>X=>{const Y=N(X,C),ae=G.get(X.cid);return ae===void 0?Y:b(Object.assign(Y,ae))}),ignoreProjectMetaCidSet:w,ignoreScreenGlueCidSet:a,ignoreScreenMetaCidSet:u,ignoreScreenStateCidSet:s,ignoreItemCidSet:l}}},95890:(F,x,e)=>{"use strict";e.d(x,{Sm:()=>_,WX:()=>i,XC:()=>g,e7:()=>r,k:()=>d});var t=e(7485),m=e(26250),y=e.n(m),E=e(77359),o=e.n(E);const I=()=>/(Macintosh)/i.test(navigator.userAgent),n=new Map;function c(p){if(!p)return;let P=n.get(p);if(P!==void 0)return P;const w=p.split("+");if(I()){const a=u=>u==="mod"?"\u2318":u==="alt"?"\u2325":u==="shift"?"\u21E7":u==="ctrl"?"\u2303":u==="backspace"?"\u232B":u==="del"?"Delete":u.charAt(0).toUpperCase()+u.slice(1);P=w.map(a).join("")}else{const a=u=>u==="mod"?"Ctrl":u.toLowerCase()==="alt"?"Alt":u.toLowerCase()==="shift"?"Shift":u.toLowerCase()==="ctrl"?"Ctrl":u==="backspace"?"Backspace":u==="del"?"Delete":u.toLowerCase()==="return"?"Enter":u.charAt(0).toUpperCase()+u.slice(1);P=w.map(a).join("+")}return n.set(p,P),P}const g=(0,t.createContext)(void 0);var r;(function(p){p[p.Normal=0]="Normal",p[p.Mode=100]="Mode",p[p.FloatingPanel=200]="FloatingPanel",p[p.Input=201]="Input",p[p.TextEditor=300]="TextEditor",p[p.BlockingPanel=400]="BlockingPanel"})(r||(r={}));class _{constructor(){this.keys=new Map,this.globalKeys=new Map,this.sheetsBound=new Set}createHandler(P,w){return w===void 0&&(w=!1),a=>this.invoke(P,w)}invoke(P,w){w===void 0&&(w=!1);const a=w?this.globalKeys.get(P):this.keys.get(P);return a&&a.length>0?(a[0].keys[P](),!1):!0}bind(P){if(P.isGlobal)for(const[w]of Object.entries(P.keys)){const a=this.globalKeys.get(w);if(a)a.push(P),a.sort((u,s)=>s.priority-u.priority);else{const u=this.createHandler(w,!0);y().bindGlobal(w,u),this.globalKeys.set(w,[P])}}else for(const[w]of Object.entries(P.keys)){const a=this.keys.get(w);if(a)a.push(P),a.sort((u,s)=>s.priority-u.priority);else{const u=this.createHandler(w);y().bind(w,u),this.keys.set(w,[P])}}this.sheetsBound.add(P)}unbind(P){P.isGlobal?this.globalKeys.forEach((w,a)=>{o().remove(w,u=>u===P)}):this.keys.forEach((w,a)=>{o().remove(w,u=>u===P)}),this.sheetsBound.delete(P)}pause(){y().pause()}unpause(){y().unpause()}}function d(p){const P=(0,t.useContext)(g);return(0,t.useEffect)(()=>{P.pause();const w=a=>{a.key==="Escape"&&!a.shiftKey&&!a.metaKey&&!a.ctrlKey&&!a.altKey&&(a.preventDefault(),p.dismiss())};return document.addEventListener("keydown",w),()=>{P.unpause(),document.removeEventListener("keydown",w)}}),null}const i=(0,t.memo)(p=>{const P=(0,t.useContext)(g);return(0,t.useEffect)(()=>(P.bind(p.sheet),()=>{P.unbind(p.sheet)})),null})},75985:(F,x,e)=>{(function(){var t=e(55983),m=e(97279).utf8,y=e(85884),E=e(97279).bin,o=function(I,n){I.constructor==String?n&&n.encoding==="binary"?I=E.stringToBytes(I):I=m.stringToBytes(I):y(I)?I=Array.prototype.slice.call(I,0):!Array.isArray(I)&&I.constructor!==Uint8Array&&(I=I.toString());for(var c=t.bytesToWords(I),g=I.length*8,r=1732584193,_=-271733879,d=-1732584194,i=271733878,p=0;p<c.length;p++)c[p]=(c[p]<<8|c[p]>>>24)&16711935|(c[p]<<24|c[p]>>>8)&4278255360;c[g>>>5]|=128<<g%32,c[(g+64>>>9<<4)+14]=g;for(var P=o._ff,w=o._gg,a=o._hh,u=o._ii,p=0;p<c.length;p+=16){var s=r,l=_,M=d,D=i;r=P(r,_,d,i,c[p+0],7,-680876936),i=P(i,r,_,d,c[p+1],12,-389564586),d=P(d,i,r,_,c[p+2],17,606105819),_=P(_,d,i,r,c[p+3],22,-1044525330),r=P(r,_,d,i,c[p+4],7,-176418897),i=P(i,r,_,d,c[p+5],12,1200080426),d=P(d,i,r,_,c[p+6],17,-1473231341),_=P(_,d,i,r,c[p+7],22,-45705983),r=P(r,_,d,i,c[p+8],7,1770035416),i=P(i,r,_,d,c[p+9],12,-1958414417),d=P(d,i,r,_,c[p+10],17,-42063),_=P(_,d,i,r,c[p+11],22,-1990404162),r=P(r,_,d,i,c[p+12],7,1804603682),i=P(i,r,_,d,c[p+13],12,-40341101),d=P(d,i,r,_,c[p+14],17,-1502002290),_=P(_,d,i,r,c[p+15],22,1236535329),r=w(r,_,d,i,c[p+1],5,-165796510),i=w(i,r,_,d,c[p+6],9,-1069501632),d=w(d,i,r,_,c[p+11],14,643717713),_=w(_,d,i,r,c[p+0],20,-373897302),r=w(r,_,d,i,c[p+5],5,-701558691),i=w(i,r,_,d,c[p+10],9,38016083),d=w(d,i,r,_,c[p+15],14,-660478335),_=w(_,d,i,r,c[p+4],20,-405537848),r=w(r,_,d,i,c[p+9],5,568446438),i=w(i,r,_,d,c[p+14],9,-1019803690),d=w(d,i,r,_,c[p+3],14,-187363961),_=w(_,d,i,r,c[p+8],20,1163531501),r=w(r,_,d,i,c[p+13],5,-1444681467),i=w(i,r,_,d,c[p+2],9,-51403784),d=w(d,i,r,_,c[p+7],14,1735328473),_=w(_,d,i,r,c[p+12],20,-1926607734),r=a(r,_,d,i,c[p+5],4,-378558),i=a(i,r,_,d,c[p+8],11,-2022574463),d=a(d,i,r,_,c[p+11],16,1839030562),_=a(_,d,i,r,c[p+14],23,-35309556),r=a(r,_,d,i,c[p+1],4,-1530992060),i=a(i,r,_,d,c[p+4],11,1272893353),d=a(d,i,r,_,c[p+7],16,-155497632),_=a(_,d,i,r,c[p+10],23,-1094730640),r=a(r,_,d,i,c[p+13],4,681279174),i=a(i,r,_,d,c[p+0],11,-358537222),d=a(d,i,r,_,c[p+3],16,-722521979),_=a(_,d,i,r,c[p+6],23,76029189),r=a(r,_,d,i,c[p+9],4,-640364487),i=a(i,r,_,d,c[p+12],11,-421815835),d=a(d,i,r,_,c[p+15],16,530742520),_=a(_,d,i,r,c[p+2],23,-995338651),r=u(r,_,d,i,c[p+0],6,-198630844),i=u(i,r,_,d,c[p+7],10,1126891415),d=u(d,i,r,_,c[p+14],15,-1416354905),_=u(_,d,i,r,c[p+5],21,-57434055),r=u(r,_,d,i,c[p+12],6,1700485571),i=u(i,r,_,d,c[p+3],10,-1894986606),d=u(d,i,r,_,c[p+10],15,-1051523),_=u(_,d,i,r,c[p+1],21,-2054922799),r=u(r,_,d,i,c[p+8],6,1873313359),i=u(i,r,_,d,c[p+15],10,-30611744),d=u(d,i,r,_,c[p+6],15,-1560198380),_=u(_,d,i,r,c[p+13],21,1309151649),r=u(r,_,d,i,c[p+4],6,-145523070),i=u(i,r,_,d,c[p+11],10,-1120210379),d=u(d,i,r,_,c[p+2],15,718787259),_=u(_,d,i,r,c[p+9],21,-343485551),r=r+s>>>0,_=_+l>>>0,d=d+M>>>0,i=i+D>>>0}return t.endian([r,_,d,i])};o._ff=function(I,n,c,g,r,_,d){var i=I+(n&c|~n&g)+(r>>>0)+d;return(i<<_|i>>>32-_)+n},o._gg=function(I,n,c,g,r,_,d){var i=I+(n&g|c&~g)+(r>>>0)+d;return(i<<_|i>>>32-_)+n},o._hh=function(I,n,c,g,r,_,d){var i=I+(n^c^g)+(r>>>0)+d;return(i<<_|i>>>32-_)+n},o._ii=function(I,n,c,g,r,_,d){var i=I+(c^(n|~g))+(r>>>0)+d;return(i<<_|i>>>32-_)+n},o._blocksize=16,o._digestsize=16,F.exports=function(I,n){if(I==null)throw new Error("Illegal argument "+I);var c=t.wordsToBytes(o(I,n));return n&&n.asBytes?c:n&&n.asString?E.bytesToString(c):t.bytesToHex(c)}})()},46198:(F,x,e)=>{"use strict";function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(m){console.error(m)}}t(),F.exports=e(23801)},89870:(F,x,e)=>{"use strict";e.d(x,{$j:()=>t.$j,I0:()=>t.I0,v9:()=>t.v9,wU:()=>t.wU,zt:()=>t.zt});var t=e(79973),m=e(86312),y=e(26521);(0,y.F)(m.m)},7485:(F,x,e)=>{"use strict";F.exports=e(67887)},84515:F=>{"use strict";F.exports=canvg},29750:F=>{"use strict";F.exports=dompurify},75177:F=>{"use strict";F.exports=html2canvas}},hn={};function ge(F){var x=hn[F];if(x!==void 0)return x.exports;var e=hn[F]={id:F,loaded:!1,exports:{}};return gn[F].call(e.exports,e,e.exports,ge),e.loaded=!0,e.exports}ge.m=gn,ge.amdO={},(()=>{var F=[];ge.O=(x,e,t,m)=>{if(e){m=m||0;for(var y=F.length;y>0&&F[y-1][2]>m;y--)F[y]=F[y-1];F[y]=[e,t,m];return}for(var E=1/0,y=0;y<F.length;y++){for(var[e,t,m]=F[y],o=!0,I=0;I<e.length;I++)(m&!1||E>=m)&&Object.keys(ge.O).every(d=>ge.O[d](e[I]))?e.splice(I--,1):(o=!1,m<E&&(E=m));if(o){F.splice(y--,1);var n=t();n!==void 0&&(x=n)}}return x}})(),ge.n=F=>{var x=F&&F.__esModule?()=>F.default:()=>F;return ge.d(x,{a:x}),x},(()=>{var F=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,x;ge.t=function(e,t){if(t&1&&(e=this(e)),t&8||typeof e=="object"&&e&&(t&4&&e.__esModule||t&16&&typeof e.then=="function"))return e;var m=Object.create(null);ge.r(m);var y={};x=x||[null,F({}),F([]),F(F)];for(var E=t&2&&e;typeof E=="object"&&!~x.indexOf(E);E=F(E))Object.getOwnPropertyNames(E).forEach(o=>y[o]=()=>e[o]);return y.default=()=>e,ge.d(m,y),m}})(),ge.d=(F,x)=>{for(var e in x)ge.o(x,e)&&!ge.o(F,e)&&Object.defineProperty(F,e,{enumerable:!0,get:x[e]})},ge.f={},ge.e=F=>Promise.all(Object.keys(ge.f).reduce((x,e)=>(ge.f[e](F,x),x),[])),ge.u=F=>""+F+"-"+{164:"59d72d5f47a860c13405",848:"08e7eac0ca0ad2fc6d97",856:"e76373c8b8358b636ec0"}[F]+".js",ge.miniCssF=F=>{},ge.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(F){if(typeof window=="object")return window}}(),ge.hmd=F=>(F=Object.create(F),F.children||(F.children=[]),Object.defineProperty(F,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+F.id)}}),F),ge.o=(F,x)=>Object.prototype.hasOwnProperty.call(F,x),(()=>{var F={},x="@mockingbot/mb-proto:";ge.l=(e,t,m,y)=>{if(F[e]){F[e].push(t);return}var E,o;if(m!==void 0)for(var I=document.getElementsByTagName("script"),n=0;n<I.length;n++){var c=I[n];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==x+m){E=c;break}}E||(o=!0,E=document.createElement("script"),E.charset="utf-8",E.timeout=120,ge.nc&&E.setAttribute("nonce",ge.nc),E.setAttribute("data-webpack",x+m),E.src=e),F[e]=[t];var g=(_,d)=>{E.onerror=E.onload=null,clearTimeout(r);var i=F[e];if(delete F[e],E.parentNode&&E.parentNode.removeChild(E),i&&i.forEach(p=>p(d)),_)return _(d)},r=setTimeout(g.bind(null,void 0,{type:"timeout",target:E}),12e4);E.onerror=g.bind(null,E.onerror),E.onload=g.bind(null,E.onload),o&&document.head.appendChild(E)}})(),ge.r=F=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(F,"__esModule",{value:!0})},ge.nmd=F=>(F.paths=[],F.children||(F.children=[]),F),ge.j=96,ge.p="/mb-proto2/",(()=>{var F={96:0};ge.f.j=(t,m)=>{var y=ge.o(F,t)?F[t]:void 0;if(y!==0)if(y)m.push(y[2]);else{var E=new Promise((c,g)=>y=F[t]=[c,g]);m.push(y[2]=E);var o=ge.p+ge.u(t),I=new Error,n=c=>{if(ge.o(F,t)&&(y=F[t],y!==0&&(F[t]=void 0),y)){var g=c&&(c.type==="load"?"missing":c.type),r=c&&c.target&&c.target.src;I.message="Loading chunk "+t+` failed.
(`+g+": "+r+")",I.name="ChunkLoadError",I.type=g,I.request=r,y[1](I)}};ge.l(o,n,"chunk-"+t,t)}},ge.O.j=t=>F[t]===0;var x=(t,m)=>{var[y,E,o]=m,I,n,c=0;if(y.some(r=>F[r]!==0)){for(I in E)ge.o(E,I)&&(ge.m[I]=E[I]);if(o)var g=o(ge)}for(t&&t(m);c<y.length;c++)n=y[c],ge.o(F,n)&&F[n]&&F[n][0](),F[n]=0;return ge.O(g)},e=self.webpackChunk_mockingbot_mb_proto=self.webpackChunk_mockingbot_mb_proto||[];e.forEach(x.bind(null,0)),e.push=x.bind(null,e.push.bind(e))})(),ge.nc=void 0,ge.O(void 0,[736],()=>ge(76557)),ge.O(void 0,[736],()=>ge(57539)),ge.O(void 0,[736],()=>ge(12291));var fn=ge.O(void 0,[736],()=>ge(50589));fn=ge.O(fn)})();

//# sourceMappingURL=preview-html-zip-6fa372c65e06284ae898.js.map